# Development Snapshot (Verbatim)

This file is generated from repository files with no interpretation.

## Included File List
- `# tugol-pricing-knowledgebase-v1.md`
- `#TUGOL Unified RAG â€” v2.0.md`
- `ADMIN_DASHBOARD_SETUP.md`
- `AGENTS.md`
- `AUTH_IMPLEMENTATION.md`
- `CLAUDE.md`
- `DOCS-ê°œë…ì •ë¦¬.md`
- `GEMINI.md`
- `IMPLEMENTATION_COMPLETE.md`
- `INTEGRATION-COMPLETE.md`
- `PAYMENT-SCHEMA-UPDATE.sql`
- `PHASE-2-COMPLETE.md`
- `PHASE-3-BOOKING-COMPLETE.md`
- `PRICING_SEGMENT_INTEGRATION.md`
- `PROGRESS-REPORT.md`
- `README.md`
- `SUMMARY-FOR-JAMINAI.md`
- `SUPABASE-SETUP.md`
- `SUPABASE-USER-MIGRATION.sql`
- `TUGOL_MVP_CHECKPOINT_v0.7.md`
- `TUGOL_MVP_CHECKPOINT_v0.8.md`
- `TUGOL_MVP_FINAL_v1.0.md`
- `TUGOL_V2_RAG_CONTEXT.md`
- `app/admin/layout.tsx`
- `app/admin/page.tsx`
- `app/admin/users/page.tsx`
- `app/api/admin/simulate-weather/route.ts`
- `app/api/admin/users/route.ts`
- `app/api/payments/confirm/route.ts`
- `app/api/pricing/route.ts`
- `app/api/reservations/route.ts`
- `app/auth/callback/route.ts`
- `app/globals.css`
- `app/layout.tsx`
- `app/login/actions.ts`
- `app/login/page.tsx`
- `app/page.tsx`
- `app/payment/fail/page.tsx`
- `app/payment/success/page.tsx`
- `app/policy/privacy/page.tsx`
- `app/policy/terms/page.tsx`
- `app/reservations/page.tsx`
- `components/AdminDashboard.tsx`
- `components/AdminDashboardNew.tsx`
- `components/AdminUserManagement.tsx`
- `components/BookingModal.backup.tsx`
- `components/BookingModal.tsx`
- `components/DateSelector.tsx`
- `components/PriceCard.tsx`
- `components/SiteHeader.tsx`
- `components/TeeTimeList.tsx`
- `components/WeatherWidget.tsx`
- `docs/specs/pricing-engine-v0.9/auto-policy.md`
- `docs/specs/pricing-engine-v0.9/config.md`
- `docs/specs/pricing-engine-v0.9/evaluation.md`
- `docs/specs/pricing-engine-v0.9/interfaces.md`
- `docs/specs/pricing-engine-v0.9/logging.md`
- `docs/specs/pricing-engine-v0.9/override.md`
- `docs/specs/pricing-engine-v0.9/pricing-engine.md`
- `docs/specs/pricing-engine-v0.9/reward.md`
- `docs/specs/pricing-engine-v0.9/state.md`
- `docs/specs/pricing-engine-v0.9/versioning.md`
- `eslint.config.mjs`
- `lib/supabase.ts`
- `next-env.d.ts`
- `next.config.ts`
- `package-lock.json`
- `package.json`
- `postcss.config.mjs`
- `supabase/migrations/20260115_admin_permissions.sql`
- `supabase/migrations/20260115_enhanced_users.sql`
- `tsconfig.json`
- `types/database.ts`
- `utils/pricingEngine.ts`
- `utils/supabase/queries.ts`

## File Contents

### File: `# tugol-pricing-knowledgebase-v1.md`

```md
# TUGOL â€” Dynamic Pricing Golf Booking Knowledge Base  
**Version:** v1.0  
**Format:** RAG-Optimized (FULL)  
**Project Role:** Context Booting + Retrieval + Domain Memory  
**Generated:** 2026-01-12  

---

# [SECTION 00 â€” SYSTEM INSTRUCTION & ROLE]

<block id="system.role.context.v1">
ë„ˆëŠ” TUGOL í”„ë¡œì íŠ¸ì˜ ì „ë‹´ **ë°±ì—… ë§¤ë‹ˆì € + RAG ì§€ì‹ ê´€ë¦¬ì** ì—­í• ì„ ìˆ˜í–‰í•´ì•¼ í•œë‹¤.  
ì´ Knowledge Base ë¬¸ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ:
- ëŒ€í™” ë¶€íŒ… ì‹œ ì»¨í…ìŠ¤íŠ¸ ë³µì›
- ê³¼ê±° ë³´ê³ ì„œ/ì„¤ê³„/ê²°ì •/Phase ë¡œê·¸ ì¬í˜„
- ê°œë°œÂ·ê¸°íšÂ·ë°ì´í„° reasoning ìˆ˜í–‰
- ê¸°ì–µ íœ˜ë°œ ì‹œ ì¬ë™ì‘
- RAG ì‹œìŠ¤í…œ êµ¬ì¶• ê¸°ë°˜ ì§€ì‹ìœ¼ë¡œ ì‚¬ìš©

ì‚¬ìš©ìëŠ” â€œTUGOL í”„ë¡œì íŠ¸ ìƒí™© ì•Œë ¤ì¤˜â€, â€œì´ì „ ì½”ë“œ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰â€, â€œPhase 8 ì´ì–´ì„œ í•˜ìâ€ ê°™ì€ ëª…ë ¹ì„ ë‚´ë¦´ ìˆ˜ ìˆë‹¤.  
</block>

---

# [SECTION 01 â€” BUSINESS DOMAIN CONTEXT]

<block id="business.domain.definition.v1">
TUGOLì€ **ê³¨í”„ì¥ ë‹¤ì´ë‚´ë¯¹ í”„ë¼ì´ì‹± ê¸°ë°˜ ë¶€í‚¹ SaaS**ì´ë‹¤.  
ê³¨í”„ì¥ì€ í•­ê³µ/í˜¸í…”ê³¼ ë‹¬ë¦¬ ë‹¤ìŒ ìš”ì†Œë“¤ì´ ìˆ˜ìµì— ì˜í–¥ì„ ì¤€ë‹¤:

- ë‚ ì”¨ (ê¸°ìƒì²­ ë‹¨ê¸°ì˜ˆë³´)
- ì‹œê°„ëŒ€ (ëª¨ë‹/ë¯¸ë“¤/ë¼ìŠ¤íŠ¸)
- ì§€ì—­ ì ‘ê·¼ì„± (LBS)
- ì„¸ê·¸ë¨¼íŠ¸ (VIP/ì‹ ê·œ/ì²´ë¦¬/ì¼ë°˜)
- ë…¸ì‡¼ ë¦¬ìŠ¤í¬
- ê³µì‹¤ ì²˜ë¦¬ (Panic Mode)
- ì¿ í°/CRM í”¼ë¡œë„ ê´€ë¦¬

TUGOLì˜ ëª©í‘œëŠ”:
1) ê³µì‹¤/ë…¸ì‡¼ ZEROí™”
2) ìˆ˜ìµì„± ë°©ì–´(Revenue Protection)
3) ê°€ê²© ì°¨ë“±(Price Discrimination)
4) ìš´ì˜ìë™í™”(Auto-Pilot)
5) VIP ê°ë™ ì„œë¹„ìŠ¤
</block>

---

# [SECTION 02 â€” PRICING POLICY (FULL)]

## [A] ê¸°ìƒ ê¸°ë°˜ í• ì¸ (Weather-Based Pricing)

<block id="pricing.weather.discount.logic.v1">
í• ì¸ ê¸°ì¤€ ìš”ì†Œ:
- POP (ê°•ìˆ˜í™•ë¥ )
- RN1 (ê°•ìˆ˜ëŸ‰)
- WSD (í’ì†)
- ê²½ë³´/íŠ¹ë³´ (Heavy Rain/Typhoon)

ê°•ìˆ˜ëŸ‰ ê¸°ë°˜ í• ì¸ ì˜ˆì‹œ:
- RN1 >= 10mm â†’ -20%
- RN1 >= 20mm â†’ -30%

íŠ¹ë³´ ë°œë™ ì‹œ:
- ì˜ˆì•½ ì°¨ë‹¨(Block)
- í™˜ë¶ˆ ìë™ì²˜ë¦¬

ê¸°ìƒì²­ ë‹¨ê¸°ì˜ˆë³´ ê¸°ë°˜ í• ì¸ì€ í•­ê³µì‚¬ì‹ Yield Managementì„ ì°¨ìš©í•¨.
</block>

## [B] ì„ë°• í‹° (Last-Minute) ê³„ë‹¨ì‹ í• ì¸

<block id="pricing.lastminute.stepped.logic.v1">
ì„ë°• í• ì¸ì€ í‹°ì˜¤í”„ 2ì‹œê°„ ì „ë¶€í„° ë°œë™í•œë‹¤.
3ë‹¨ê³„ ê³„ë‹¨ì‹ ê°€ê²© í•˜ë½:
- T-120ë¶„: ìœ ì§€
- T-100ë¶„: -1ì°¨ì¸í•˜
- T-80ë¶„: -2ì°¨ì¸í•˜
- T-60ë¶„: -3ì°¨ì¸í•˜(ìµœì €)

ëª©ì :
- ê³µì‹¤ë¡œ ë²„ë¦¬ëŠ” 0ì›ì„ ìµœì†Œí™”
- ì§€ì—­ LBS + CRM ê²°í•© ìµœì í™”
</block>

## [C] Rain Blocking (í˜¸ìš° ì°¨ë‹¨ ì •ì±…)

<block id="pricing.heavyrain.blocking.logic.v1">
ë°œë™ ì¡°ê±´:
- RN1 >= 10mm AND 2ì‹œê°„ ì—°ì† ì§€ì†

ì£¼ë§/ì„±ìˆ˜ê¸° â†’ Block (ì·¨ì†Œ ë¶„ìŸ ë°©ì§€)
í‰ì¼/ë¹„ìˆ˜ê¸° â†’ â€œìš°ì²œ ì§„ì… ë™ì˜ + ìµœëŒ€ 50% í• ì¸â€
</block>

## [D] ì„¸ê·¸ë¨¼íŠ¸ ê¸°ë°˜ ê°€ê²© ì°¨ë“±

<block id="pricing.segment.discrimination.v1">
Segment ëª¨ë¸:
- Future King (2030/ì…ë¬¸)
- Prestige (VIP)
- Smart (ì¼ë°˜)
- Cherry Picker (ë¦¬ìŠ¤í¬)

ê°€ê²© ì „ëµ:
- VIP: í• ì¸ ìµœì†Œ / í˜œíƒ ê°•í™”
- ì‹ ê·œ/Future: í• ì¸/ì¿ í° ìœ¡ì„±
- Cherry: í• ì¸ ì°¨ë‹¨ + Fatigue ì ìš©
</block>

## [E] Panic Mode (1ì‹œê°„ ì „ ê³µì‹¤ ì²˜ë¦¬)

<block id="pricing.panic.lbs.logic.v1">
ë°œë™ ì¡°ê±´:
T-60 ~ T-30 AND ë¯¸íŒë§¤ ì¬ê³  > 0

ì§€ì—­ ë°˜ê²½ Zone 2 (20km) íƒ€ê²Ÿ
ì „ë©´ íŒì—… + íƒ€ì´ë¨¸ + LBS ê¸°ë°˜ ETA í‘œì‹œ

ëª©ì :
- ê³µì‹¤ ì²˜ë¦¬
- ì‹œê°„ ê¸°ë°˜ ì›ê°€ íšŒìˆ˜
- LBS/CRM ê²°í•©
</block>

---

# [SECTION 03 â€” CRM & SEGMENTATION POLICY]

## [A] Segment Definition

<block id="crm.segment.definition.v1">
Future King:
- 2030 ì„¸ëŒ€ + êµ¬ë ¥ 1ë…„ ë¯¸ë§Œ
Prestige:
- ì •ê°€ ì˜ˆì•½ë¥  > 70%
Smart:
- ì¸ê·¼ ê±°ì£¼ + í•©ë¦¬ ì†Œë¹„
Cherry:
- í• ì¸ ë¹„ì¤‘ 80% ì´ìƒ + ì²´ë¦¬í”¼í‚¹ í–‰ë™
</block>

## [B] Behavioral Policy

<block id="crm.segment.behavior.policy.v1">
Future King â†’ ìœ¡ì„± (ë ˆìŠ¨/ìŠ¤í¬ë¦°/ì •ë³´)
Prestige â†’ ê°ë™ (ë°œë ›/ìœ„ì•½ê¸ˆ ë©´ì œ)
Smart â†’ ìœ ì§€ (ê¸°ë³¸ í• ì¸/ë‚ ì”¨ í• ì¸)
Cherry â†’ ì°¨ë‹¨ (ì„ë°• ì œì™¸, ì¿ í° ì œí•œ)
</block>

## [C] Fatigue (í‘¸ì‹œ í”¼ë¡œë„ ê´€ë¦¬)

<block id="crm.fatigue.push.logic.v1">
ì›ì¹™:
- í•˜ë£¨ 1íšŒ ì´ˆê³¼ ë°œì†¡ ê¸ˆì§€
ìš°ì„ ìˆœìœ„:
ê¸´ê¸‰ ì„ë°• > ì˜ˆì•½ í™•ì • > ì¿ í° > ê´‘ê³ 
</block>

---

# [SECTION 04 â€” UX / USER FLOW POLICY]

<block id="ux.flow.entry.v1">
Entry:
- GPS Sensing
- Weather Sensing
- Segment Detection

Routing:
- Panic Mode ì¡°ê±´ì‹œ í™ˆ ìŠ¤í‚µ + íŒì—…
- ê¸°ë³¸ Flow: Home â†’ Detail â†’ Booking â†’ Pay
</block>

<block id="ux.explainability.receipt.v1">
ê°€ê²© ì˜ìˆ˜ì¦ UI:
- ê¸°ë³¸ê°€
- í• ì¸ í•­ëª© (Weather/Time/CRM/LBS)
- ìµœì¢…ê°€
- ìœ„í—˜/ë™ì˜ Notice
</block>

<block id="ux.panic.overlay.v1">
ì „ì²´ í™”ë©´ ì˜¤ë²„ë ˆì´
íƒ€ì´ë¨¸ + ETA + LBS ê±°ë¦¬
CTA ë²„íŠ¼ ë‘ ê°œ (Go / Cancel)
</block>

---

# [SECTION 05 â€” DATA MODEL / ERD (FULL)]

<block id="data.erd.users.v1">
Users í…Œì´ë¸”:
- user_id (PK)
- segment (ENUM)
- total_visit
- avg_pay
- full_price_rate
- cherry_score
- birth_year
- golf_career
- home_geo_x/y
</block>

<block id="data.erd.reservations.v1">
Reservations:
- booking_id
- base_price
- final_price
- discount_log (JSON)
- weather_snapshot
- agreed_penalty
- is_no_show
</block>

<block id="data.erd.teetimes.v1">
TeeTimes:
- time_id
- tee_off
- status (OPEN/BOOKED/BLOCKED)
- block_reason
- current_step (ì„ë°• ë‹¨ê³„)
</block>

<block id="data.erd.perks.v1">
Perks:
- perk_id
- segment
- type
- description
</block>

# [SECTION 06 â€” MARKETING / LBS / NOTIFICATION POLICY]

## [A] LBS Geofencing

<block id="marketing.lbs.zone.definition.v1">
Zone 1 (5km): ì´ì›ƒ ì£¼ë¯¼
- ì „ëµ: ìƒì‹œ í˜œíƒ
- ì •ì±…: í‰ì¼ ì”ì—¬ í‹° 10% ìë™ í• ì¸

Zone 2 (20km): ì ì¬ ìˆ˜ìš”
- ì „ëµ: ê¸´ê¸‰ ëª¨ê°
- ì •ì±…: Panic Mode ë°œë™ ì‹œ í‘¸ì‹œ ë°œì†¡
</block>

## [B] LBS + Panic Mode Fusion

<block id="marketing.lbs.panic.integration.v1">
ì¡°ê±´:
- T-60 ~ T-30
- ì”ì—¬ í‹° ì¡´ì¬
ëŒ€ìƒ:
- Zone 2 AND Cherry ì œì™¸
ì•¡ì…˜:
- í’€ìŠ¤í¬ë¦° íŒì—… + íƒ€ì´ë¨¸
</block>

## [C] CRM + Coupon + Restriction

<block id="marketing.crm.coupon.logic.v1">
ë‹¨ê³¨ ì¿ í° ë°œê¸‰:
- ìµœê·¼ 3ê°œì›” 5íšŒ ì´ìƒ ë°©ë¬¸ â†’ ìë™ ë°œê¸‰
- 10,000ì› ì¿ í°
ì œí•œ:
- ì£¼ë§ ê³¨ë“ íƒ€ì„ 09:00~13:00 ì‚¬ìš© ë¶ˆê°€
ì²´ë¦¬í”¼ì»¤:
- ì¿ í° ë¯¸ë°œê¸‰
- ì„ë°• í‹° ì•Œë¦¼ ë¯¸ë°œì†¡
</block>

## [D] Push Fatigue Rules

<block id="marketing.notification.fatigue.v1">
í•˜ë£¨ 1íšŒ ì œí•œ
ìˆœìœ„:
1. ì„ë°•
2. ì˜ˆì•½ í™•ì •
3. ì¿ í°
4. ê´‘ê³ 
í”¼ë¡œë„ ì œì–´ëŠ” ì¥ê¸° Retentionìš© ì£¼ìš” ë©”ì»¤ë‹ˆì¦˜
</block>

---

# [SECTION 07 â€” ADMIN / OVERRIDE / CONTROL TOWER]

<block id="admin.dashboard.overview.v1">
ëª©í‘œ:
AI ìë™í™” ì‹œìŠ¤í…œì„ ëª¨ë‹ˆí„°ë§í•˜ë©´ì„œ í•„ìš” ì‹œ ì¸ê°„ ê°œì…(Override) ê°€ëŠ¥
ì£¼ìš” ê¸°ëŠ¥:
- Cockpit
- Auto/Manual Toggle
- Panic Stop
- Manual Price Override
- TeeSheet Manager
- CRM/Member View
</block>

<block id="admin.autopilot.toggle.v1">
Auto-Pilot:
- ê°€ê²© ìë™
- í• ì¸ ìë™
Manual:
- ê³ ì •ê°€
- ì„±ìˆ˜ê¸° ì´ë²¤íŠ¸ì— ì‚¬ìš©
</block>

<block id="admin.emergency.stop.v1">
Emergency Stop:
- ëª¨ë“  í• ì¸ ì¦‰ì‹œ ì¤‘ë‹¨
- ì˜ˆì•½ ê³¼ì—´ ì‹œ ì‚¬ìš©
</block>

<block id="admin.manual.override.v1">
í‹°íƒ€ì„ ë‹¨ìœ„ ê°€ê²© ì§ì ‘ ìˆ˜ì •
ì˜ˆ: (AI 18ë§Œ â†’ Admin 20ë§Œ)
</block>

<block id="admin.teetime.manager.v1">
Slot Injection:
- ë‚ ì”¨ ì¢‹ì•„ì„œ íŒ€ ì¶”ê°€
Slot Block:
- ê³µì‚¬/í™€ ë³´ìˆ˜ë¡œ ì‚­ì œ
Holiday:
- ì „ì²´ íœ´ì¥
</block>

<block id="admin.crm.view.v1">
íšŒì› Segment ì¡°íšŒ
VIP í‘œì‹œ
Blacklist
ë…¸ì‡¼ ì°¨ë‹¨
</block>

---

# [SECTION 08 â€” EXTERNAL SYSTEMS / 3RD PARTY (FULL)]

## [A] ê¸°ìƒì²­ API

<block id="external.weather.kma.v1">
API: getVilageFcst
ë°ì´í„°:
- POP
- RN1
- WSD
ì˜ˆì™¸ ì²˜ë¦¬:
ê¸°ìƒì²­ ì˜¤ë™ì‘ ì‹œ ë§‘ìŒ(default fail-safe)
</block>

## [B] ì§€ë„/LBS

<block id="external.map.lbs.v1">
Provider: Kakao/Naver
ê¸°ëŠ¥:
- Geocoding
- Reverse Geocoding
- Distance Calc
ë¹„ìš© ì ˆê°:
- 10ë¶„ caching
</block>

## [C] Notification

<block id="external.notification.v1">
Provider:
- FCM (ì•± í‘¸ì‹œ)
- Solapi (ì•Œë¦¼í†¡)
ì •ì±…:
- ì•¼ê°„ ê¸ˆì§€ (21:00~08:00)
- Fatigue Control ì ìš©
</block>

## [D] ê²°ì œ PG ë³€ê²½ (PortOne â†’ Toss)

<block id="external.payment.pg.change.v1">
ì´ˆê¸° ì„¤ê³„: PortOne(ì•„ì„í¬íŠ¸)
ì‹¤í–‰ êµ¬í˜„: Toss Payments (Phase 8)
ì´ìœ :
- SDK í’ˆì§ˆ
- ê²°ì œ ìœ„ì ¯
- í™˜ë¶ˆ API ë‹¨ìˆœí™”
- ë¹Œë§í‚¤/ì •ê¸° ê³¼ê¸ˆ í™•ì¥ ê°€ëŠ¥
ìƒíƒœ: í™•ì •
</block>

---

# [SECTION 09 â€” RISK / PAYMENT / NO-SHOW / REFUND]

## [A] Segment ê¸°ë°˜ ê²°ì œ ë°©ì‹

<block id="payment.segment.strategy.v1">
Cherry/New â†’ 100% ì„ ê²°ì œ
Smart â†’ 30% ì˜ˆì•½ê¸ˆ
Prestige/VIP â†’ ë¹Œë§í‚¤ â†’ í˜„ì¥ ê²°ì œ + ë…¸ì‡¼ ì‹œ ìë™ ìœ„ì•½ê¸ˆ
</block>

## [B] í™˜ë¶ˆ ë° ìœ„ì•½ê¸ˆ

<block id="payment.refund.policy.v1">
ê¸°ìƒ ì•…í™”: 100% ìë™ í™˜ë¶ˆ
ë³€ì‹¬:
7ì¼ ì „: 100%
3ì¼ ì „: 50%
1ì¼ ì „~ë‹¹ì¼: 0%
ë…¸ì‡¼:
ì„ ê²°: ê·€ì†
VIP: ë¹Œë§í‚¤ ìë™ ì²­êµ¬
</block>

## [C] ë³´ì•ˆ/ì»´í”Œë¼ì´ì–¸ìŠ¤

<block id="payment.security.compliance.v1">
PG Tokenization
SSL/TLS
Masking(ê´€ë¦¬ì UI)
PCI-DSS ìš°íšŒ êµ¬ì¡°
</block>

## [D] ë™ì‹œì„± / íŠ¸ëœì­ì…˜

<block id="payment.concurrency.atomicity.v1">
í‹° 1ìë¦¬ë¥¼ ë‘ ëª…ì´ ê²°ì œ â†’ DB Transaction ìš°ì„  ì²˜ë¦¬
ë’¤ ì‚¬ëŒ â†’ Graceful Fail
ì¤‘ë³µ ì˜ˆì•½ ì ˆëŒ€ ê¸ˆì§€
</block>

---

# [SECTION 10 â€” SYSTEM ARCHITECTURE / INFRA]

<block id="infra.stack.selection.v1">
Language: JS/TS
Front: Next.js (App Router)
Backend: Node (Server)
DB: Supabase (Postgres)
Infra: Vercel
Auth: Supabase Auth
Payment: Toss
CSS: Tailwind
</block>

<block id="infra.cron.scheduler.v1">
ë§¤ì‹œ 30ë¶„: ê¸°ìƒì²­ ì—…ë°ì´íŠ¸
ë§¤ì‹œ ì •ê°: ì„ë°• í• ì¸
ìì •: Segment ì¬ì—°ì‚°
</block>

<block id="infra.hot.cold.data.v1">
Hot: ì˜ˆì•½/ë‚ ì”¨
Cold: ì´ë ¥/ë¡œê·¸
</block>

<block id="infra.cost.strategy.v1">
ì´ˆê¸°: Free Tier ì „ëµ
í™•ì¥: ìœ ë£Œ ì „í™˜
</block>

---

# [SECTION 11 â€” PROJECT EXECUTION LOG (PHASE HISTORY)]

<block id="execution.phase.history.v1">
Phase 1 â€” Pricing Engine (ì™„ë£Œ)
Phase 2 â€” Supabase DB (ì™„ë£Œ)
Phase 3 â€” Booking Insert + Prevent Dup (ì™„ë£Œ)
Phase 4 â€” Reservation List/Detail (ì™„ë£Œ)
Phase 5 â€” Admin Dashboard (ì™„ë£Œ)
Phase 6 â€” Navigation (ì™„ë£Œ)
Phase 7 â€” Auth (ì™„ë£Œ)
Phase 8 â€” Toss Payments ì§„í–‰ ì¤‘
</block>

<block id="execution.phase.current.v1">
í˜„ì¬ Phase:
Phase 8 â€” ê²°ì œ ìœ„ì ¯ + confirm API + redirect ê²€ì¦ ë‹¨ê³„
</block>

<block id="execution.phase.future.v1">
Phase 9 â€” Date Picker
Phase 10 â€” Deployment (Vercel)
Final â€” ë³´ê³ ì„œ 10ì¢…
</block>

# [SECTION 12 â€” USER EXPERIENCE / UI / WIREFRAME]

<block id="ux.main.entryflow.v1">
ì•± ì‹¤í–‰ â†’ GPS/LBS â†’ Weather Fetch â†’ Segment Fetch â†’ Mode Routing
Mode:
A. Panic Mode (LBS + ê³µì‹¤ + ì„ë°•)
B. Normal (ì¼ë°˜ UI)
</block>

<block id="ux.main.home.v1">
êµ¬ì„±:
- Personalized Banner
- Weather Widget
- TeeTime Listing
ê°€ê²©í‘œ êµ¬ì„±:
ì •ê°€ (Strike) + í• ì¸ (Highlight)
Badge System:
â˜” Rain Deal
â° Last Minute
ğŸ”¥ Hot Demand
</block>

<block id="ux.booking.receipt.v1">
Booking Detail â†’ Accordion ê³„ì‚°ì˜ìˆ˜ì¦
ì˜ˆ:
Base Price: 250,000
Weather: -50,000
Time: -15,000
Coupon: -5,000
Final: 180,000
ëª¨í‹°í”„:
"ì™œ ì´ ê°€ê²©ì¸ì§€"ë¥¼ íˆ¬ëª…í•˜ê²Œ (Explainable Pricing)
</block>

<block id="ux.panic.popup.v1">
Trigger: T<=60 + ê³µì‹¤ + LBS
UI:
Full Overlay + Countdown Timer + CTA + Dismiss
Cherry ì œì™¸
</block>

<block id="ux.payment.success.v1">
"ì§€ì¶œ"ë³´ë‹¤ "ì ˆì•½" ê°•ì¡°
ì²´ë¦¬í”¼ì»¤ â†’ ì• ë‹ˆ/ì¿ í° ìˆ¨ê¹€
</block>

<block id="ux.color.semantic.v1">
í• ì¸: #FF4B4B
ìƒíƒœì–‘í˜¸: #2ECC71
Blocked: #95A5A6
</block>

---

# [SECTION 13 â€” DATA & ANALYTICS]

<block id="data.segment.metrics.v1">
Full Price Rate
Cherry Score
Visit Frequency
Avg pay
Window: 90 days
ë§¤ì¼ ìì • ì¬ì‚°ì • (Batch)
</block>

<block id="data.pricing.metrics.v1">
Weather Elasticity
Time Elasticity
Panic Conversion Rate
Segment Conversion Rate
</block>

<block id="data.revenue.metrics.v1">
Revenue per Tee
Revenue per Visit
Yield Improvement vs ì •ê°€
ì ìš© ì´ìœ :
í•­ê³µ/í˜¸í…” Yield Management ë™ì¼ íŒ¨í„´
</block>

---

# [SECTION 14 â€” BUSINESS LOGIC / GAME THEORY]

<block id="model.revenue.defense.v1">
CherryPicker ë°©ì–´ = í• ì¸ ë‚¨ë°œ ë°©ì§€ + ê³µì‹¤ Lock
Defense ì „ëµì€ Revenue Loss ë°©ì§€ íš¨ê³¼
</block>

<block id="model.price.discrimination.v1">
Segmentë³„ ì°¨ë“± ê°€ê²© â†’ ì‚¬íšŒì  íš¨ìš© + Yield ìµœì í™”
ì „ëµ Ex:
VIP = ë¹„í• ì¸ â†’ Perks ì œê³µ
Cherry = ì •ê°€ ë¹„ë…¸ì¶œ + Panic ì œì™¸
</block>

<block id="model.lastminute.panic.v1">
T-120 â†’ TimeStep í• ì¸ (80/60/40min)
T-60 â†’ Panic Mode
ëª©í‘œ:
0ì› ê³µì‹¤ ë°©ì§€ + LBS ì¸ê·¼ ìœ ì €ë§Œ ëŒ€ìƒ
</block>

---

# [SECTION 15 â€” LEGAL & POLICY SAFETY]

<block id="legal.cancel.policy.v1">
ë³€ì‹¬ vs ê¸°ìƒ ë¶„ë¦¬
ì¦ë¹™: ê¸°ìƒì²­ íŠ¹ë³´ ê¸°ì¤€
ì •ì±… ì•ˆì •ì„±â†‘ ë¶„ìŸâ†“ CSâ†“
</block>

<block id="legal.data.privacy.v1">
LBSëŠ” "ì•± ì‚¬ìš©ì¤‘"ë§Œ í—ˆìš©
Tokenization
Masking
PCI ìš°íšŒ
</block>

<block id="legal.marketing.policy.v1">
ì•¼ê°„ ë§ˆì¼€íŒ… ê¸ˆì§€ (21:00~08:00)
Fatigue 1íšŒ/ì¼
</block>

---

# [SECTION 16 â€” PROJECT MANAGEMENT / EXECUTION PLAN]

<block id="pm.schedule.8weeks.v1">
Phase1~3 â†’ Core/DB/UX
Phase4~6 â†’ Payment/Admin/LBS
Phase7~8 â†’ QA/Deploy
Milestones:
M1 Alpha (Week4)
M2 Beta (Week6)
M3 Launch (Week8)
</block>

<block id="pm.free.tier.strategy.v1">
MVP ë¹„ìš© ìµœì†Œí™”
Supabase Free + Vercel Free
</block>

<block id="pm.team.structure.v1">
1ì¸ ê°œë°œ ì „ì œ â†’ Complexity ìµœì†Œí™” â†’ PG/Toss/SDK í™œìš©
</block>

---

# [SECTION 17 â€” META LAYER: RAG CONTEXT RULES]

<block id="rag.usage.rules.v1">
ì´ íŒŒì¼ì€:
- ì»¨í…ìŠ¤íŠ¸ ì„¤ëª…ìš©
- í”„ë¡œì íŠ¸ ê¸°ì–µ ë³µì›ìš©
- Agent í˜‘ì—…ìš©
- Claude/ì¬ë¯¸ë‚˜ì´/ChatGPT êµì°¨ ì‘ì—…ìš©
ì§ˆë¬¸ ìœ í˜• ë¶„ë¥˜:
A. ì •ì±…ì§ˆë¬¸ â†’ SECTION 01~06
B. UI/UX â†’ SECTION 07~12
C. ê°œë°œ/ì½”ë“œ â†’ SECTION 11~14
D. PG/ê²°ì œ â†’ SECTION 09
E. ì¼ì •/PM â†’ SECTION 16
F. í˜„ì¬ ìƒí™© â†’ Current Phase
</block>

<block id="rag.memory.persistence.v1">
ê°€ì¥ ì¤‘ìš”í•œ ìš”ì†Œ = "í˜„ì¬ Phase"
í˜„ì¬ Phase ì •ë³´ ë³€ê²½ ì‹œ **ì—…ë°ì´íŠ¸ í•„ìˆ˜**
</block>

<block id="rag.agent.coop.v1">
ì—¬ëŸ¬ LLM í˜‘ì—… ì‹œ:
Claude â†’ ì½”ë“œ
ì¬ë¯¸ë‚˜ì´ â†’ Live Coding
ChatGPT â†’ ì‹œìŠ¤í…œ/ì„¤ê³„/RAG/PM
ì—­í•  êµ¬ë¶„ ëª…í™• + Context ì¬ì‚¬ìš©
</block>

---

# [SECTION 18 â€” FINAL SNAPSHOT: CURRENT STATUS]

<block id="snapshot.current.v1">
í”„ë¡œì íŠ¸ = TUGOL
í˜„ì¬ Phase = 8
í˜„ì¬ ì‘ì—… = Toss Confirm + Redirect
Next = Date Picker + Deploy
ìƒíƒœ = ë¬¸ì œì—†ì´ ì§„í–‰
Risk = ë©”ëª¨ë¦¬ íœ˜ë°œ + PG ê²°ì œ ê²€ì¦
</block>

# END OF FILE (v1.0)
```

### File: `#TUGOL Unified RAG â€” v2.0.md`

``````md
# TUGOL Unified Knowledge Base & Code RAG  
**Version:** v2.0 (Unified, Single Paste Mode)  
**Generated:** 2026-01-13  

---

## 0. SYSTEM & RAG ì‚¬ìš© ê·œì¹™

### 0.1 ì—­í•  ì •ì˜

ë„ˆ(LLM)ëŠ” **TUGOL í”„ë¡œì íŠ¸ ì „ë‹´ ë°±ì—… ë§¤ë‹ˆì € + RAG ì§€ì‹ ê´€ë¦¬ì + ì‹œë‹ˆì–´ ì•„í‚¤í…íŠ¸**ë‹¤.  
ì´ ë¬¸ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ:

- ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™” / ê¸°ì–µ ë³µì›
- ì„¤ê³„Â·ê¸°íšÂ·ì½”ë“œÂ·DBÂ·ê²°ì œÂ·ìš´ì˜ reasoning ì²˜ë¦¬
- â€œì´ì „ ì½”ë“œ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ìŒ ë‹¨ê³„ ìš”ì²­â€ ì´ì–´ì„œ ìˆ˜í–‰
- ë‹¤ë¥¸ AI(ì¬ë¯¸ë‚˜ì´/Claude/ChatGPT ë“±)ì—ê²Œ ì „ë‹¬ ì‹œ **ê³µí†µ ë ˆí¼ëŸ°ìŠ¤** ì—­í• 

---

## 1. ë¹„ì¦ˆë‹ˆìŠ¤ & ë„ë©”ì¸ ê°œìš”

**í”„ë¡œì íŠ¸ëª…:** TUGOL  
**ë¶„ì•¼:** ê³¨í”„ í‹°íƒ€ì„ + ë‹¤ì´ë‚´ë¯¹ í”„ë¼ì´ì‹± + ë…¸ì‡¼ ìµœì†Œí™” SaaS  

### í•µì‹¬ ë¬¸ì œ

í˜„ì¬ ê³¨í”„ì¥ ê°€ê²© ì •ì±…:

- ì„±/ë¹„ìˆ˜ê¸°, í‰/ì£¼ë§ ê¸°ë°˜ ê³ ì • ê°€ê²©
- ë‚ ì”¨, ìˆ˜ìš”, ì‹œê°„ëŒ€ ë°˜ì˜ ê±°ì˜ ì—†ìŒ
- ë…¸ì‡¼/ê³µì‹¤ ë¦¬ìŠ¤í¬ í¼

### TUGOLì˜ í•´ê²° ë°©ì‹

- ê¸°ìƒ + LBS + ì„ë°• + CRM + ì„¸ê·¸ë¨¼íŠ¸ ê¸°ë°˜ **ë™ì  ê°€ê²©**
- í•­ê³µ/í˜¸í…”ì‹ Revenue/Yield Management ë„ì…
- ìš´ì˜ì Override + Admin Dashboard ì œê³µ
- ì„¸ê·¸ë¨¼íŠ¸ ê¸°ë°˜ ì°¨ë³„ì  í˜œíƒ ì œê³µ
- ë…¸ì‡¼/í™˜ë¶ˆ ì •ì±… ìë™í™”

---

## 2. ì£¼ìš” ì •ì±… ìš”ì•½ (Pricing / CRM / LBS)

### 2.1 Weather Pricing

ì…ë ¥: POP, RN1, WSD  
ê·œì¹™:

- RN1 â‰¥ 10mm + 2hr ì§€ì† â†’ **ì˜ˆì•½ ì°¨ë‹¨(Block)**  
- íë¦¼/ë¹„ â†’ í• ì¸ìœ¨ ë¶€ì—¬  
- íŠ¹ë³´ â†’ ìë™ ì·¨ì†Œ + ìë™ í™˜ë¶ˆ

### 2.2 ì„ë°• í‹°(LMD)

- í‹°ì˜¤í”„ ê¸°ì¤€ 2ì‹œê°„ ì „ë¶€í„° 3ë‹¨ê³„ ê³„ë‹¨ì‹ í• ì¸
- ì •ê°€ â‰¥ 10ë§Œ â†’ ë‹¨ê³„ë‹¹ â€“1ë§Œì›
- ì •ê°€ < 10ë§Œ â†’ â€“5ì²œì›

### 2.3 Segment ì •ì±…

| Segment | ì˜ë„ | ì „ëµ |
|---|---|---|
| Future King | ìœ¡ì„± | ë ˆìŠ¨, ìŠ¤í¬ë¦°, ì •ë³´ |
| Prestige | VIP | Perks + ìœ„ì•½ê¸ˆ ë©´ì œ |
| Smart | ì¼ë°˜ | ê¸°ë³¸ í• ì¸ |
| Cherry | ìœ„í—˜ | ì¿ í°/ì„ë°•/Panic ì œì™¸ |

### 2.4 LBS + Panic Mode

Zone:

- 5km = ì£¼ë¯¼ â†’ í‰ì¼ ìƒì‹œ 10%
- 20km = ì„ë°•/Panic íƒ€ê²Ÿ

Panic ì¡°ê±´:

- T-60min ì•ˆ íŒ”ë¦¼
- ë°˜ê²½ â‰¤ 20km
- Cherry ì œì™¸

---

## 3. Version / Phase Timeline

**v0.7.1** â€” Pricing Engine + Supabase ì´ˆê¸° ìŠ¤í‚¤ë§ˆ  
**v0.8** â€” Booking + My Reservations  
**v1.0** â€” MVP ì™„ì„± (ë‹¤ìŒ í•­ëª©ë“¤ í¬í•¨)

ì™„ì„±ëœ ê¸°ëŠ¥:

- Booking
- Reservation
- Pricing
- 3ë¶€ì œ í•„í„°
- Date Picker
- Toss ê²°ì œ
- DB ë°˜ì˜
- Admin
- Vercel ë°°í¬

---

## 4. UX / ì‚¬ìš©ì íë¦„

### ë©”ì¸ í”Œë¡œìš°

1. ì‹¤í–‰ â†’ Weather + GPS Sensing
2. Segment íŒë‹¨
3. Panic ê²€ì‚¬ â†’ ì¡°ê±´ ì‹œ íŒì—…
4. ë©”ì¸ í™ˆ ì§„ì…
5. ë‚ ì§œ ì„ íƒ (14ì¼)
6. 3ë¶€ì œ í•„í„° (Morning/Day/Night)
7. í‹°íƒ€ì„ ê°€ê²© í™•ì¸ â†’ ì˜ˆì•½

### ì˜ˆì•½ ìƒì„¸ UI

```
Base: 250,000
Weather: -50,000
Last Minute: -15,000
Segment: -10,000
--------------------------------
Final: 175,000
Saved: 75,000
```

---

## 5. DB ëª¨ë¸ (Supabase + PostgreSQL)

### Users

- user_id
- segment
- birth_year
- golf_career
- home_geo_x/y
- total_visit
- avg_pay_amount
- full_price_rate
- cherry_score

### TeeTimes

- id (PK)
- tee_off (UTC)
- base_price
- price
- status (OPEN/BOOKED/BLOCKED)
- currency
- reserved_at
- reserved_by

### Reservations

- id
- tee_time_id (FK)
- user_id (FK)
- base_price
- final_price
- payment_key
- payment_status
- receipt_url
- reservation_status (CONFIRMED/CANCELLED/REFUNDED/NO_SHOW)
- agreed_penalty
- created_at

---

## 6. ì•„í‚¤í…ì²˜ / ì¸í”„ë¼

**FE:** Next.js(App Router) + TS + Tailwind  
**BE:** Next.js API Routes  
**DB:** Supabase  
**Auth:** Supabase Auth  
**Payment:** Toss Payments  
**Deploy:** Vercel  
**State:** React Hooks  

---

## 7. ë””ë ‰í† ë¦¬ êµ¬ì¡° (Code RAG)

```
app/
  page.tsx                    # Main (Date + Part + Listing)
  layout.tsx
  api/payments/confirm        # Toss ì„œë²„ ìŠ¹ì¸ API
  payment/success             # CSR + Suspense
  payment/fail
  admin                       # Dashboard
components/
  BookingModal.tsx            # Toss Widget
  DateSelector.tsx            # 14ì¼ ì„ íƒ
  PriceCard.tsx
  WeatherWidget.tsx
utils/
  supabase/queries.ts         # getTeeTimesByDate()
  pricingEngine.ts            # í• ì¸ ê³„ì‚°
lib/
  supabase.ts
types/
  database.ts
```

---

## 8. Pricing Engine (Logic RAG)

íŒŒì´í”„ë¼ì¸:

```
finalPrice =
  basePrice
  â†’ weather()
  â†’ lastMinute()
  â†’ segment()
  â†’ lbs()
  â†’ coupon()
  â†’ cap(40%)
```

ìƒíƒœ íŒë‹¨ í•¨ìˆ˜:

- shouldPanic()
- shouldBlock()
- calculateStep()
- seededRandom()
- isCherry()

---

## 9. ê²°ì œ / ë…¸ì‡¼ / í™˜ë¶ˆ

Segment ê¸°ë°˜ ê²°ì œ:

| Segment | ê²°ì œ |
|---|---|
| Cherry | 100% ì„ ê²°ì œ |
| Smart | 30% ì˜ˆì•½ê¸ˆ |
| Prestige | BillingKey + í˜„ì¥ê²°ì œ |

í™˜ë¶ˆ ê·œì¹™:

- 7ì¼ì „: 100%
- 3ì¼ì „: 50%
- 1ì¼~ë‹¹ì¼: 0%
- íŠ¹ë³´: 100% ìë™

ë…¸ì‡¼ ì²˜ë¦¬:

- Cherry â†’ ì´ë¯¸ ê²°ì œë¨
- Prestige â†’ BillingKeyë¡œ ìœ„ì•½ê¸ˆ ìë™

---

## 10. ë²•/ë¦¬ìŠ¤í¬/ì»´í”Œë¼ì´ì–¸ìŠ¤

- ê¸°ìƒ ê¸°ì¤€ = ê¸°ìƒì²­ íŠ¹ë³´
- ì•¼ê°„ í‘¸ì‹œ ê¸ˆì§€
- ê°œì¸ì •ë³´ ìµœì†Œ ì €ì¥
- ì¹´ë“œì •ë³´ ì €ì¥ ê¸ˆì§€ (PG Tokenë§Œ)
- RLSëŠ” PRODì—ì„œ í™œì„±í™” ì˜ˆì •

---

## 11. ì¼ì • & ë§ˆì¼ìŠ¤í†¤

- M1: ì•ŒíŒŒ
- M2: ë² íƒ€(ì§€ì¸ 50ëª…)
- M3: ì •ì‹ ì˜¤í”ˆ

ì´ ê¸°ê°„: 8ì£¼

---

## 12. í˜„ì¬ ìƒíƒœ Snapshot (Phase 10)

- MVP = ì‘ë™í•¨
- Toss ê²°ì œ OK
- DB ë°˜ì˜ OK
- BOOKED ìƒíƒœ ì „ì´ OK
- Vercel ë°°í¬ OK
- ì‚¬ìš©ì Flow OK
- Admin OK(ê¸°ë³¸)

---

## 13. LLM í˜‘ì—… í”„ë¡¬í”„íŠ¸ (í•µì‹¬)

### (A) ì„¤ê³„ í™•ì¥

> Unified RAG ê¸°ì¤€ìœ¼ë¡œ ê¸°ìƒ POP/RN1ì„ Pricing Engineì— ì¶”ê°€í•˜ê³  DB/íƒ€ì…/ì¿¼ë¦¬ ë‹¨ìœ„ê¹Œì§€ í™•ì¥í•˜ëŠ” ì„¤ê³„ ì œì•ˆí•´ì¤˜.

### (B) ì½”ë“œ í™•ì¥

> ì„œë²„ í•„í„°ë§ ê¸°ë°˜ `getTeeTimesByDateAndPart(date, part)` API êµ¬í˜„ í”Œëœê³¼ ì½”ë“œ ë³€ê²½ ì§€ì ì„ ì•Œë ¤ì¤˜.

### (C) ë””ë²„ê¹…

> BOOKED ìƒíƒœê°€ ê°„í—ì ìœ¼ë¡œ OPENìœ¼ë¡œ ë‚¨ëŠ” ë²„ê·¸ì— ëŒ€í•´ Tossâ†’Successâ†’Confirmâ†’DB writeâ†’transaction íë¦„ ê¸°ì¤€ìœ¼ë¡œ ì›ì¸ê³¼ ë³´ê°• ë°©ë²• ì œì•ˆí•´ì¤˜.

### (D) DB/RLS

> Unified RAG ê¸°ì¤€ìœ¼ë¡œ CRM/LBS/ì„¸ê·¸ë¨¼íŠ¸ ë°˜ì˜ ìŠ¤í‚¤ë§ˆ + PRODìš© RLS ì •ì±…ì„ ì„¤ê³„í•´ì¤˜.

### (E) Testing

> ê°€ê²© ì—”ì§„ + ê²°ì œ íë¦„ + BOOKED ì—…ë°ì´íŠ¸ì— ëŒ€í•´ E2E í…ŒìŠ¤íŠ¸ 3ê°œì™€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ Assertionì„ ì„¤ê³„í•´ì¤˜.

---

## 14. ëª©ì 

ì´ ë¬¸ì„œ í•˜ë‚˜ë¡œ:

- GPT / Claude / FunAI / ì¬ë§ˆë‚˜ì´ ì „ë¶€
- í”„ë¡œì íŠ¸ë¥¼ **ë³µêµ¬/ê³„ì†/í™•ì¥** ê°€ëŠ¥í•´ì•¼ í•¨

ì¦‰, **Single Source of Truth(RAG)** ì—­í• 

# END OF FILE (TUGOL Unified RAG v2.0 - Single Paste Mode)
``````

### File: `ADMIN_DASHBOARD_SETUP.md`

``````md
# TUGOL Admin Dashboard - Implementation Guide

## Overview

This guide covers the complete admin dashboard implementation with user segment management, RLS (Row Level Security) policies, and admin permission controls.

## What's Been Implemented

### 1. Database Layer
- âœ… `is_admin` column added to `users` table
- âœ… RLS policies for admin-only access
- âœ… Helper function `is_user_admin()` for permission checks
- âœ… Proper indexing for performance

### 2. Admin Layout
- âœ… Sidebar navigation with icons
- âœ… Protected routes (admin-only access)
- âœ… Client-side auth check with loading state
- âœ… Logout functionality

### 3. User Management Page
- âœ… Full user listing with pagination support
- âœ… Search by email/name/phone
- âœ… Filter by segment (FUTURE, SMART, CHERRY, PRESTIGE)
- âœ… Real-time segment updates
- âœ… Blacklist/unblacklist users
- âœ… Grant/revoke admin permissions
- âœ… View user statistics (bookings, spending, no-shows)
- âœ… Segment distribution summary

### 4. TypeScript Types
- âœ… Updated `database.ts` with `is_admin` field
- âœ… Fixed all mock user objects across the codebase

## Installation Steps

### Step 1: Run Database Migration

You have **3 options** to run the migration:

#### Option A: Supabase Dashboard (Recommended for Testing)

1. Go to your Supabase Dashboard
2. Navigate to **SQL Editor**
3. Copy the contents of `supabase/migrations/20260115_admin_permissions.sql`
4. Run the query
5. **IMPORTANT:** Update the admin user email at the bottom of the migration:

```sql
-- Change this line to your actual admin email:
UPDATE public.users
SET is_admin = TRUE
WHERE email = 'YOUR_EMAIL_HERE@example.com';
```

#### Option B: Supabase CLI

```bash
# Make sure you're in the project directory
cd /Users/mybook/Desktop/tugol-app-main

# Run the migration
supabase db push
```

#### Option C: Manual SQL Execution

Run these queries in order:

```sql
-- 1. Add is_admin column
ALTER TABLE public.users
ADD COLUMN IF NOT EXISTS is_admin BOOLEAN DEFAULT FALSE;

-- 2. Create index
CREATE INDEX IF NOT EXISTS idx_users_is_admin ON public.users(is_admin) WHERE is_admin = TRUE;

-- 3. Enable RLS
ALTER TABLE public.users ENABLE ROW LEVEL SECURITY;

-- 4. Create admin policies (see migration file for full policies)

-- 5. Set yourself as admin
UPDATE public.users
SET is_admin = TRUE
WHERE email = 'your@email.com';
```

### Step 2: Verify Database Changes

Run these queries to verify:

```sql
-- Check if is_admin column exists
SELECT column_name, data_type, is_nullable
FROM information_schema.columns
WHERE table_name = 'users' AND column_name = 'is_admin';

-- Check who is admin
SELECT id, email, name, is_admin
FROM public.users
WHERE is_admin = TRUE;

-- Test helper function
SELECT public.is_user_admin();
```

### Step 3: Test the Admin Dashboard

1. **Start the development server:**

```bash
npm run dev
```

2. **Log in with your admin account** (the email you set in the migration)

3. **Access the admin dashboard:**

```
http://localhost:3000/admin
```

4. **Test the user management page:**

```
http://localhost:3000/admin/users
```

### Step 4: Test Features

- [ ] Can access `/admin` route (should redirect to `/` if not admin)
- [ ] Can view all users in the user management page
- [ ] Can search users by email/name
- [ ] Can filter users by segment
- [ ] Can change user segment (dropdown updates immediately)
- [ ] Can blacklist/unblacklist users (with reason prompt)
- [ ] Can grant/revoke admin permissions
- [ ] Can view user statistics accurately

## File Structure

```
tugol-app-main/
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/
â”‚       â””â”€â”€ 20260115_admin_permissions.sql    [NEW] SQL migration
â”œâ”€â”€ app/
â”‚   â””â”€â”€ admin/
â”‚       â”œâ”€â”€ layout.tsx                         [NEW] Admin layout with sidebar
â”‚       â”œâ”€â”€ page.tsx                           [EXISTING] Dashboard overview
â”‚       â””â”€â”€ users/
â”‚           â””â”€â”€ page.tsx                       [NEW] User management
â”œâ”€â”€ types/
â”‚   â””â”€â”€ database.ts                            [UPDATED] Added is_admin field
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ supabase/
â”‚       â””â”€â”€ queries.ts                         [UPDATED] Mock user with is_admin
â””â”€â”€ app/api/
    â””â”€â”€ pricing/
        â””â”€â”€ route.ts                           [UPDATED] Mock user with is_admin
```

## Features Breakdown

### Admin Layout (`app/admin/layout.tsx`)

**Key Features:**
- Client-side authentication check
- Automatic redirect for non-admin users
- Sidebar navigation with icons
- Logout button with auth cleanup

**Navigation Links:**
- ëŒ€ì‹œë³´ë“œ (Dashboard)
- íšŒì› ê´€ë¦¬ (User Management)
- í‹°íƒ€ì„ ê´€ë¦¬ (Tee Time Management) - Coming soon
- ì„¤ì • (Settings) - Coming soon

### User Management Page (`app/admin/users/page.tsx`)

**User Actions:**
1. **Change Segment:**
   - Dropdown selector for each user
   - Instant update on selection
   - Marks as "manually set" with `segment_override_by: 'ADMIN'`

2. **Blacklist User:**
   - Click "ì°¨ë‹¨" button
   - Prompt for reason
   - Updates `blacklisted`, `blacklist_reason`, `blacklisted_at`, `blacklisted_by`

3. **Grant Admin:**
   - Click "ê´€ë¦¬ì ì„¤ì •" button
   - Confirmation dialog
   - Updates `is_admin` field

**Display Features:**
- User info card with avatar, email, phone
- Current segment badge with icon
- Cherry score with trophy icon
- Statistics: total bookings, spending, no-shows
- Warning indicators for problematic users
- Join date

**Filters:**
- Search by email, name, or phone
- Filter by segment (ALL, FUTURE, SMART, CHERRY, PRESTIGE)
- Filter by status (ALL, BLACKLISTED, ACTIVE) - Coming soon

**Summary Stats:**
- Count of users per segment
- Color-coded segment cards
- Visual segment icons

## Security Features

### Row Level Security (RLS)

**User Policies:**
```sql
-- Users can only see their own profile
CREATE POLICY "Users can view their own profile"
ON public.users FOR SELECT
USING (auth.uid()::text = id);

-- Admins can see all users
CREATE POLICY "Admins can view all users"
ON public.users FOR SELECT
USING (
  EXISTS (
    SELECT 1 FROM public.users
    WHERE id = auth.uid()::text
    AND is_admin = TRUE
  )
);
```

**Benefits:**
- Database-level security (can't be bypassed by client code)
- Admin users see all rows
- Regular users only see their own row
- No additional auth checks needed in API routes

### Admin Check Flow

```
User loads /admin
  â†“
Layout checks auth.getSession()
  â†“
Query users table for is_admin (RLS enforced)
  â†“
If not admin or no session â†’ redirect to /
  â†“
If admin â†’ show dashboard
```

## API Integration

### Supabase Type Casting

Due to Supabase's strict typing, we use type casting for complex update operations:

```typescript
// âŒ TypeScript error (strict Supabase types)
await supabase
  .from('users')
  .update({ segment: newSegment })
  .eq('id', userId);

// âœ… Works (type casting)
await (supabase as any)
  .from('users')
  .update({ segment: newSegment })
  .eq('id', userId);
```

This is safe because:
- Types are validated at the database level (PostgreSQL)
- We have comprehensive TypeScript types in `database.ts`
- RLS policies enforce proper access control

## Troubleshooting

### Issue: Can't access `/admin` route

**Causes:**
1. User not set as admin in database
2. RLS policies not applied
3. Auth session expired

**Solutions:**
```sql
-- Check if user is admin
SELECT email, is_admin FROM public.users WHERE email = 'your@email.com';

-- Set user as admin if needed
UPDATE public.users SET is_admin = TRUE WHERE email = 'your@email.com';

-- Check RLS policies
SELECT schemaname, tablename, policyname
FROM pg_policies
WHERE tablename = 'users';
```

### Issue: Can't see other users in user management

**Causes:**
1. RLS policies not created correctly
2. Admin check failing

**Solutions:**
```sql
-- Drop and recreate admin policies
DROP POLICY IF EXISTS "Admins can view all users" ON public.users;

CREATE POLICY "Admins can view all users"
ON public.users FOR SELECT
USING (
  EXISTS (
    SELECT 1 FROM public.users
    WHERE id = auth.uid()::text
    AND is_admin = TRUE
  )
);
```

### Issue: TypeScript errors about `is_admin`

**Cause:** Database types not updated

**Solution:**
```bash
# Regenerate Supabase types (if using Supabase CLI)
supabase gen types typescript --local > types/database.ts

# Or manually verify types/database.ts includes:
# users: { Row: { is_admin: boolean; ... } }
```

### Issue: Build fails with mock user errors

**Cause:** Mock users missing `is_admin` field

**Solution:** Check these files have `is_admin: false` in mock users:
- `app/api/pricing/route.ts`
- `utils/supabase/queries.ts`

## Future Enhancements

### Phase 2: Advanced Filtering
- [ ] Filter by blacklist status
- [ ] Date range filters (join date, last visit)
- [ ] Multi-segment filter
- [ ] Sort by various fields

### Phase 3: Bulk Operations
- [ ] Bulk segment changes
- [ ] Export user data (CSV)
- [ ] Bulk notifications

### Phase 4: Analytics
- [ ] User growth charts
- [ ] Segment distribution over time
- [ ] Revenue by segment
- [ ] Churn analysis

### Phase 5: Activity Logs
- [ ] Track all admin actions
- [ ] Audit trail for segment changes
- [ ] Blacklist history
- [ ] Admin permission changes log

## Code Examples

### Example: Manually Check Admin Status in API Route

```typescript
// app/api/some-admin-route/route.ts
import { NextRequest, NextResponse } from 'next/server';
import { supabase } from '@/lib/supabase';

export async function GET(request: NextRequest) {
  // Get session
  const { data: { session } } = await supabase.auth.getSession();

  if (!session) {
    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
  }

  // Check if admin (RLS will enforce this query)
  const { data: user } = await (supabase as any)
    .from('users')
    .select('is_admin')
    .eq('id', session.user.id)
    .single();

  if (!user?.is_admin) {
    return NextResponse.json({ error: 'Forbidden' }, { status: 403 });
  }

  // Admin-only logic here
  return NextResponse.json({ message: 'Admin access granted' });
}
```

### Example: Using the Helper Function

```typescript
// Call the PostgreSQL function
const { data: isAdmin, error } = await supabase.rpc('is_user_admin');

if (error || !isAdmin) {
  // Not admin
  return;
}

// Admin logic here
```

## Best Practices

1. **Always use RLS policies** for database-level security
2. **Type cast Supabase operations** when necessary (`as any`)
3. **Check admin status on both client and server** for better UX
4. **Log all admin actions** for audit trails (future enhancement)
5. **Use optimistic UI updates** for instant feedback
6. **Always provide confirmation dialogs** for destructive actions
7. **Use descriptive commit messages** when changing admin permissions

## Support

For issues or questions:
1. Check the troubleshooting section above
2. Verify database migration was successful
3. Check browser console for error messages
4. Verify RLS policies in Supabase Dashboard

---

**Implementation Date:** 2026-01-15
**Version:** 1.0
**Build Status:** âœ… SUCCESS
**TypeScript Errors:** 0
``````

### File: `AGENTS.md`

````md
# Repository Guidelines

## Project Structure & Module Organization
- `app/` contains the Next.js App Router pages, route handlers (e.g., `app/api/*/route.ts`), layouts, and global styles (`app/globals.css`).
- `components/` hosts reusable UI components (PascalCase files like `BookingModal.tsx`).
- `lib/` and `utils/` contain shared logic and integrations (e.g., Supabase client setup and pricing engine helpers).
- `types/` stores shared TypeScript types.
- `public/` contains static assets.
- `docs/` and root-level markdown files capture project notes and progress.

## Build, Test, and Development Commands
- `npm run dev` starts the local Next.js dev server at `http://localhost:3000`.
- `npm run build` ÑĞ¾Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ production bundle.
- `npm run start` Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ production ÑĞµÑ€Ğ²ĞµÑ€ Ğ¿Ğ¾ÑĞ»Ğµ ÑĞ±Ğ¾Ñ€ĞºĞ¸.
- `npm run lint` Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ ĞºĞ¾Ğ´ ESLint (Next.js core-web-vitals + TypeScript).

## Coding Style & Naming Conventions
- TypeScript-first: use `.ts`/`.tsx` and strongly-typed props.
- Components use PascalCase filenames (e.g., `DateSelector.tsx`).
- Route handlers follow Next.js App Router conventions (`app/api/<name>/route.ts`).
- Formatting is enforced via ESLint; keep code consistent with existing patterns.

## Testing Guidelines
- No automated test framework or test files are present in the repository.
- If adding tests, align with Next.js + TypeScript conventions and document how to run them.

## Commit & Pull Request Guidelines
- Recent commit messages follow a `Fix: <summary>` pattern. Prefer concise, imperative summaries and keep the prefix consistent.
- PRs should include:
  - A short description of the change and motivation.
  - Linked issues or tasks when applicable.
  - UI screenshots or screen recordings for user-facing changes.
  - Confirmation that `npm run lint` and any relevant builds pass.

## Security & Configuration Tips
- Provide local config in `.env.local`.
- Required environment variables include `NEXT_PUBLIC_SUPABASE_URL`, `NEXT_PUBLIC_SUPABASE_ANON_KEY`, `WEATHER_API_KEY`, and `TOSS_SECRET_KEY`.
- Avoid committing secrets; use placeholders in documentation.
````

### File: `AUTH_IMPLEMENTATION.md`

``````md
# TUGOL Authentication System - Implementation Guide

## Overview

Complete email/password authentication system with login, signup, and session management integrated with Supabase Auth.

## What's Been Implemented

### 1. Server Actions ([app/login/actions.ts](app/login/actions.ts))
- âœ… `login(formData)` - Email/password login with validation
- âœ… `signup(formData)` - User registration with name and phone
- âœ… `logout()` - Session cleanup and redirect

### 2. Login/Signup Page ([app/login/page.tsx](app/login/page.tsx))
- âœ… Tabbed interface (ë¡œê·¸ì¸ / íšŒì›ê°€ì…)
- âœ… Email/password authentication
- âœ… Kakao OAuth integration (preserved from existing)
- âœ… Form validation
- âœ… URL message display
- âœ… Responsive design

### 3. Site Header ([components/SiteHeader.tsx](components/SiteHeader.tsx))
- âœ… Dynamic auth state display
- âœ… User name/avatar when logged in
- âœ… Login button when logged out
- âœ… Logout confirmation
- âœ… Navigation to reservations

### 4. Main Page Integration ([app/page.tsx](app/page.tsx))
- âœ… Uses new SiteHeader component
- âœ… Automatically fetches user segment for pricing
- âœ… Removed hardcoded mock segment

## Features

### Login Page Features

#### Tabbed Interface
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ë¡œê·¸ì¸]  |  íšŒì›ê°€ì…           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  ğŸ“§ ì´ë©”ì¼                       â”‚
â”‚  ğŸ”’ ë¹„ë°€ë²ˆí˜¸                     â”‚
â”‚                                 â”‚
â”‚  [ë¡œê·¸ì¸ ë²„íŠ¼]                   â”‚
â”‚                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€ ë˜ëŠ” â”€â”€â”€â”€â”€â”€â”€â”€          â”‚
â”‚                                 â”‚
â”‚  [ğŸ’¬ ì¹´ì¹´ì˜¤ë¡œ ì‹œì‘í•˜ê¸°]          â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Input Fields
**ë¡œê·¸ì¸ íƒ­:**
- ì´ë©”ì¼ (required)
- ë¹„ë°€ë²ˆí˜¸ (required)

**íšŒì›ê°€ì… íƒ­:**
- ì´ë©”ì¼ * (required)
- ë¹„ë°€ë²ˆí˜¸ * (6ì ì´ìƒ, required)
- ì´ë¦„ * (required)
- ì „í™”ë²ˆí˜¸ (optional)

#### Validation
- Email format validation (browser native)
- Password minimum length: 6 characters
- Required field validation
- Server-side error messages

#### Message Display
URL query parameter `?message=...` displays alert:
```typescript
// Success message
/login?message=íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.

// Error message
/login?message=ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”
```

### Site Header Features

#### Logged-Out State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TUGOL    ğŸ“ ì¸ì²œ (Club 72)  [ë¡œê·¸ì¸] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Logged-In State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TUGOL    ğŸ“ ì¸ì²œ (Club 72)  [ğŸ‘¤ í™ê¸¸ë™]  [ğŸšª ë¡œê·¸ì•„ì›ƒ] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Features:
- **User Name Display:** Fetched from database
- **Click User Badge:** Navigate to `/reservations`
- **Logout Button:** Confirmation dialog
- **Real-time Updates:** Listens to auth state changes

## Authentication Flow

### Registration Flow

```
User visits /login â†’ Clicks "íšŒì›ê°€ì…" tab
  â†“
Fills form (email, password, name, phone)
  â†“
Submits form â†’ signup() server action
  â†“
Supabase Auth creates user with metadata
  â†“
Database trigger creates user in public.users
  â†“
Redirect to /login?message=ì„±ê³µ
  â†“
User logs in
```

### Login Flow

```
User visits /login
  â†“
Enters email + password
  â†“
Submits form â†’ login() server action
  â†“
supabase.auth.signInWithPassword()
  â†“
Success â†’ Redirect to /
  â†“
SiteHeader shows user name
  â†“
Pricing uses real user segment
```

### Logout Flow

```
User clicks logout button
  â†“
Confirmation dialog
  â†“
logout() server action
  â†“
supabase.auth.signOut()
  â†“
Redirect to /
  â†“
SiteHeader shows login button
```

## Database Integration

### User Creation Trigger

When `supabase.auth.signUp()` is called with metadata:
```typescript
await supabase.auth.signUp({
  email,
  password,
  options: {
    data: {
      name: 'í™ê¸¸ë™',
      phone: '010-1234-5678'
    }
  }
});
```

The database trigger automatically creates a row in `public.users`:
```sql
-- Trigger function (already exists in your DB)
CREATE TRIGGER on_auth_user_created
  AFTER INSERT ON auth.users
  FOR EACH ROW EXECUTE FUNCTION handle_new_user();
```

### User Data Structure

```typescript
// public.users table
{
  id: string (UUID from auth.users)
  email: string
  name: string | null        // From signup form
  phone: string | null       // From signup form
  segment: 'FUTURE'          // Default for new users
  cherry_score: 0            // Default
  is_admin: false            // Default
  // ... other fields
}
```

## Server Actions Details

### login(formData)

**Input:**
```typescript
FormData {
  email: string
  password: string
}
```

**Process:**
1. Extract email and password
2. Validate required fields
3. Call `supabase.auth.signInWithPassword()`
4. Handle errors with redirect
5. Revalidate layout
6. Redirect to `/`

**Error Handling:**
- Missing fields â†’ `/login?message=ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”`
- Invalid credentials â†’ `/login?message={error.message}`
- Network error â†’ `/login?message=ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤`

### signup(formData)

**Input:**
```typescript
FormData {
  email: string
  password: string
  name: string
  phone?: string
}
```

**Process:**
1. Extract all fields
2. Validate email, password, name
3. Check password length â‰¥ 6
4. Call `supabase.auth.signUp()` with metadata
5. Redirect with success message

**Metadata Injection:**
```typescript
options: {
  data: {
    name,    // Goes to auth.users.raw_user_meta_data
    phone    // Picked up by trigger â†’ public.users
  }
}
```

**Error Handling:**
- Missing required fields â†’ redirect with message
- Password too short â†’ `/login?message=ë¹„ë°€ë²ˆí˜¸ëŠ” 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤`
- Email already exists â†’ Supabase error message
- Database error â†’ Generic error message

### logout()

**Process:**
1. Call `supabase.auth.signOut()`
2. Revalidate all pages
3. Redirect to `/`

**No confirmation in action** - handled in SiteHeader component.

## SiteHeader Component

### State Management

```typescript
const [user, setUser] = useState<any>(null);
const [userName, setUserName] = useState<string>('');
const [loading, setLoading] = useState(true);
```

### User Fetching

```typescript
// 1. Get session user
const { data: { user: sessionUser } } = await supabase.auth.getUser();

// 2. Fetch name from database
const { data: dbUser } = await supabase
  .from('users')
  .select('name')
  .eq('id', sessionUser.id)
  .single();

setUserName(dbUser?.name || sessionUser.email?.split('@')[0]);
```

### Auth State Listener

```typescript
supabase.auth.onAuthStateChange((_event, session) => {
  if (session?.user) {
    setUser(session.user);
    // Fetch name...
  } else {
    setUser(null);
    setUserName('');
  }
});
```

**Benefits:**
- Real-time updates when user logs in/out
- No page refresh needed
- Consistent across all tabs

### Logout Handler

```typescript
const handleLogout = async () => {
  if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
    await logout();
  }
};
```

## Integration with Pricing Engine

### Before (Hardcoded)
```typescript
// app/page.tsx (OLD)
const teeTimes = await getTeeTimesByDate(date, 'PRESTIGE', undefined);
```

### After (Dynamic)
```typescript
// app/page.tsx (NEW)
const teeTimes = await getTeeTimesByDate(date, undefined, undefined);
```

### What Changed in getTeeTimesByDate()

```typescript
// utils/supabase/queries.ts
export async function getTeeTimesByDate(date, userSegment?, userDistanceKm?) {
  // NEW: Fetch logged-in user
  const { data: { user: sessionUser } } = await supabase.auth.getUser();

  if (sessionUser?.id) {
    // Fetch user data from database
    const { data: dbUser } = await supabase
      .from('users')
      .select('*')
      .eq('id', sessionUser.id)
      .single();

    if (dbUser) {
      actualUser = dbUser;
      actualUserSegment = dbUser.segment;
    }
  }

  // Use real user data in pricing engine
  ctx.user = actualUser;
  const result = calculatePricing(ctx);
}
```

**Result:** Prices automatically adjust based on user segment!

## Testing Checklist

### Manual Testing

#### 1. Registration Flow
- [ ] Visit `/login`
- [ ] Click "íšŒì›ê°€ì…" tab
- [ ] Fill all required fields
- [ ] Submit form
- [ ] Verify success message
- [ ] Check database: `SELECT * FROM public.users WHERE email = '...'`

#### 2. Login Flow
- [ ] Enter credentials on login tab
- [ ] Submit form
- [ ] Should redirect to `/`
- [ ] Header should show user name
- [ ] Prices should reflect user segment

#### 3. Logout Flow
- [ ] Click logout button in header
- [ ] Confirm dialog
- [ ] Should redirect to `/`
- [ ] Header should show "ë¡œê·¸ì¸" button

#### 4. Session Persistence
- [ ] Log in
- [ ] Refresh page
- [ ] Should remain logged in
- [ ] Close browser
- [ ] Reopen
- [ ] Should still be logged in (if session valid)

#### 5. Error Handling
- [ ] Try login with wrong password
- [ ] Verify error message displays
- [ ] Try signup with existing email
- [ ] Verify Supabase error message
- [ ] Leave required fields empty
- [ ] Verify validation messages

#### 6. Kakao Login (Preserved)
- [ ] Click "ì¹´ì¹´ì˜¤ë¡œ ì‹œì‘í•˜ê¸°"
- [ ] Complete Kakao OAuth
- [ ] Should create user in database
- [ ] Should redirect to main page

### Database Verification

```sql
-- Check if user was created
SELECT id, email, name, phone, segment, created_at
FROM public.users
WHERE email = 'test@example.com';

-- Check auth user metadata
SELECT id, email, raw_user_meta_data
FROM auth.users
WHERE email = 'test@example.com';

-- Verify trigger worked
SELECT COUNT(*) FROM public.users WHERE id = (
  SELECT id FROM auth.users WHERE email = 'test@example.com'
);
-- Should return 1
```

### API Testing

```bash
# Test login action
curl -X POST http://localhost:3000/login \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "email=test@example.com&password=password123"

# Should redirect to / with session cookie
```

## Troubleshooting

### Issue: Signup creates auth user but not database user

**Cause:** Database trigger not firing or failing

**Solution:**
```sql
-- Check if trigger exists
SELECT * FROM pg_trigger WHERE tgname = 'on_auth_user_created';

-- Check trigger function
SELECT routine_name FROM information_schema.routines
WHERE routine_name = 'handle_new_user';

-- Manually create user if needed
INSERT INTO public.users (id, email, name, phone, segment)
VALUES (
  (SELECT id FROM auth.users WHERE email = 'test@example.com'),
  'test@example.com',
  'Test User',
  NULL,
  'FUTURE'
);
```

### Issue: User name not showing in header

**Cause:** Name not saved during signup or RLS policy blocking query

**Solution:**
```sql
-- Check if name exists
SELECT id, email, name FROM public.users WHERE email = '...';

-- Update name if missing
UPDATE public.users
SET name = 'User Name'
WHERE email = '...';

-- Check RLS policies
SELECT * FROM pg_policies WHERE tablename = 'users';
```

### Issue: Login redirects but user not logged in

**Cause:** Session not persisting or Supabase client configuration

**Solution:**
```typescript
// Check .env.local
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxx...

// Verify Supabase client creation
import { createBrowserClient } from '@supabase/ssr';
const supabase = createBrowserClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL!,
  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
);
```

### Issue: Prices not updating after segment change

**Cause:** Cache or page not re-fetching

**Solution:**
1. Hard refresh (Cmd+Shift+R)
2. Check `export const dynamic = 'force-dynamic'` in page.tsx
3. Verify `getTeeTimesByDate()` is fetching user correctly:
```typescript
console.log('User segment:', dbUser.segment);
```

## Security Considerations

### Password Requirements
- Minimum 6 characters (enforced in form + action)
- Consider adding: uppercase, number, special char requirements

### Session Security
- Supabase handles session tokens (JWT)
- Cookies are httpOnly and secure
- Sessions expire after inactivity (configurable in Supabase)

### RLS Policies
Already implemented:
```sql
-- Users can view their own profile
CREATE POLICY "Users can view their own profile"
ON public.users FOR SELECT
USING (auth.uid()::text = id);
```

### XSS Prevention
- All user input sanitized by React
- No `dangerouslySetInnerHTML` used
- Form values escaped automatically

### CSRF Protection
- Server Actions use Next.js built-in CSRF protection
- POST requests require valid Next.js session

## Future Enhancements

### Phase 1: Email Verification âœ… READY
```typescript
// Already supported by Supabase
await supabase.auth.signUp({
  email,
  password,
  options: {
    emailRedirectTo: `${window.location.origin}/auth/callback`
  }
});
```

### Phase 2: Password Reset
```typescript
// Add to login page
const handlePasswordReset = async (email: string) => {
  await supabase.auth.resetPasswordForEmail(email, {
    redirectTo: `${window.location.origin}/auth/reset-password`
  });
};
```

### Phase 3: Social Login Expansion
- Google OAuth
- Apple Sign In
- Naver Login

### Phase 4: Two-Factor Authentication
- SMS verification
- Authenticator app
- Email OTP

### Phase 5: User Profile Page
- Update name, phone
- Change password
- View booking history
- Manage preferences

## API Reference

### Server Actions

#### `login(formData: FormData): Promise<never>`
Authenticates user with email/password.

**FormData Fields:**
- `email: string` (required)
- `password: string` (required)

**Returns:** Redirects to `/` on success or `/login?message=...` on error.

#### `signup(formData: FormData): Promise<never>`
Creates new user account.

**FormData Fields:**
- `email: string` (required)
- `password: string` (required, min 6 chars)
- `name: string` (required)
- `phone: string` (optional)

**Returns:** Redirects to `/login?message=íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤` on success.

#### `logout(): Promise<never>`
Signs out current user.

**Returns:** Redirects to `/`.

## Summary

âœ… **Implemented:**
- Complete email/password authentication
- User registration with name and phone
- Dynamic site header with auth state
- Logout functionality
- Session management
- Integration with pricing engine

âœ… **Preserved:**
- Kakao OAuth login
- Existing database structure
- All pricing logic
- Mobile-responsive design

âœ… **Tested:**
- Build passes successfully
- No TypeScript errors
- All components compile

---

**Implementation Date:** 2026-01-15
**Files Created:** 3
**Files Modified:** 2
**Build Status:** âœ… SUCCESS
**Ready for Testing:** YES
``````

### File: `CLAUDE.md`

``````md
# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

TUGOL is a dynamic golf reservation platform that implements sophisticated real-time pricing with multi-factor discounts (weather, time, location, user segment). Built with Next.js 16 App Router, Supabase, and Toss Payments.

## Development Commands

### Core Development
```bash
npm run dev           # Start dev server (http://localhost:3000)
npm run build         # Production build with TypeScript checking
npm start             # Run production build
npm run lint          # ESLint check
```

### Environment Setup
Requires `.env.local` with:
- `NEXT_PUBLIC_SUPABASE_URL` / `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- `NEXT_PUBLIC_TOSS_CLIENT_KEY` / `TOSS_SECRET_KEY`
- `WEATHER_API_KEY` (Korean Meteorological Administration)
- `GRID_X=54` / `GRID_Y=123` (Incheon Club 72 coordinates)

## Architecture Patterns

### Pricing Engine - Deterministic Randomness

**Critical Pattern**: The pricing engine (`/utils/pricingEngine.ts`) uses seeded random generation to ensure:
- Same tee time always generates same price (no flickering on refresh)
- Reproducible discount schedules
- Pseudo-random appearance

```typescript
// Seed = tee time timestamp â†’ consistent random for that slot
const getSeededRandom = (seed: number): number => {
  const x = Math.sin(seed) * 10000;
  return x - Math.floor(x);
}
```

**Multi-Factor Discounts** (cumulative, max 40%):
1. **Weather**: 20% (rain â‰¥60%), 10% (cloudy 30-59%)
2. **Time**: Stepped discounts (3 stages, deterministic schedule)
3. **LBS**: 10% if user within 15km
4. **Segment**: 5% for PRESTIGE users

When implementing pricing features:
- Always use seeded random for new time-based logic
- Respect 40% revenue protection cap
- Update `breakdown` object for discount transparency

### Payment Flow Architecture

```
[BookingModal] â†’ [Toss SDK] â†’ [Toss Server] â†’ [/api/payments/confirm] â†’ [Supabase] â†’ [Success Page]
```

**Key Implementation Details**:

1. **Widget Initialization** (`/components/BookingModal.tsx`):
   - Uses `useRef` to store widget instance (survives re-renders)
   - Cleans up on modal close to prevent memory leaks
   - Single `isReady` state instead of complex multi-state

2. **Success URL Pattern**:
   ```typescript
   successUrl: `/api/payments/confirm?tee_time_id=${teeTimeId}&user_id=${userId}`
   // Toss appends: &paymentKey=xxx&orderId=xxx&amount=xxx
   ```

3. **Backend Confirmation** (`/app/api/payments/confirm/route.ts`):
   - Confirms with Toss API using `TOSS_SECRET_KEY`
   - Atomically updates both `reservations` and `tee_times` tables
   - Implements rollback if partial transaction fails

4. **Metadata Transfer**: Uses `sessionStorage` to pass discount details to success page (not via URL params)

**When modifying payment flow**:
- Never skip Toss API confirmation (prevents fraud)
- Always check tee time availability before charging
- Handle rollbacks for partial failures
- Log payment keys for manual refund support

### Supabase Query Patterns

**Type-Safe Joins**:
```typescript
const { data } = await supabase
  .from('reservations')
  .select(`
    id, final_price,
    tee_times ( tee_off, base_price, golf_clubs ( name ) )
  `)
```

**Type Inference Workarounds**:
- For complex updates, use `(supabase as any)` when type inference fails
- Cast query results explicitly: `const data = result as TeeTime[] | null`

**Graceful Degradation**:
- Always wrap queries in try-catch
- Fall back to mock data on errors (prevents blank screens)
- Log errors for debugging

### Next.js 16 Specific Patterns

**Suspense Boundaries Required**:
```typescript
// Any component using useSearchParams() must be wrapped
function PaymentSuccessContent() {
  const searchParams = useSearchParams()
  // ... logic
}

export default function PaymentSuccessPage() {
  return (
    <Suspense fallback={<div>ë¡œë”© ì¤‘...</div>}>
      <PaymentSuccessContent />
    </Suspense>
  )
}
```

**Server-First Data Fetching Architecture**:

The app uses a Server Component â†’ Client Component split pattern for optimal performance:

```typescript
// app/page.tsx (Server Component - NO "use client")
export const dynamic = 'force-dynamic'; // Fresh data on every request

export default async function MainPage({ searchParams }: { searchParams: Promise<{ date?: string }> }) {
  const resolvedParams = await searchParams;
  const date = resolvedParams.date ? new Date(resolvedParams.date) : new Date();

  // Server-side data fetching (instant, no loading spinner)
  const teeTimes = await getTeeTimesByDate(date);

  return <TeeTimeList initialTeeTimes={teeTimes} initialDate={date} />;
}
```

```typescript
// components/TeeTimeList.tsx (Client Component - has "use client")
export default function TeeTimeList({ initialTeeTimes, initialDate }: Props) {
  const [teeTimes, setTeeTimes] = useState(initialTeeTimes);
  const router = useRouter();

  // Update URL on date change
  const handleDateChange = (date: Date) => {
    const dateStr = date.toISOString().slice(0, 10);
    router.push(`/?date=${dateStr}`); // Triggers server re-fetch
  };

  // Refresh data after booking
  const handleBookingSuccess = () => {
    router.refresh(); // Re-runs server component
  };
}
```

**Hydration Mismatch Prevention Pattern**:

Client-only features (timers, random values, Date.now()) cause hydration mismatches. Use `mounted` state:

```typescript
const [mounted, setMounted] = useState(false);

useEffect(() => {
  setMounted(true); // Only runs in browser
}, []);

// Prevent hydration errors with client-only features
useEffect(() => {
  if (!mounted) return; // Skip on server
  const timer = setInterval(() => setTimeLeft(prev => prev - 1), 1000);
  return () => clearInterval(timer);
}, [mounted]);

if (!mounted) {
  return <Loader2 />; // Same as server render
}
```

**Why This Architecture**:
- Server Components: Instant data (no loading spinner), smaller JS bundle
- `router.push()` updates URL â†’ triggers server re-fetch with new params
- `router.refresh()` re-runs server component without navigation
- `mounted` state prevents hydration errors from client-only code

**When to Use Each Pattern**:
- Server Component: Data fetching, static UI, database queries
- Client Component: State, effects, events, Toss SDK, timers, router navigation

## Database Schema

### tee_times (í‹°íƒ€ì„ ìŠ¬ë¡¯)
```typescript
id: number (PK)
tee_off: string (ISO 8601 timestamp)
base_price: number
status: 'OPEN' | 'BOOKED' | 'BLOCKED'
weather_condition: JSONB (optional snapshot)
reserved_by: string (user_id, optional)
reserved_at: string (timestamp, optional)
```

### reservations (ì˜ˆì•½ ë‚´ì—­)
```typescript
id: number (PK)
user_id: string
tee_time_id: number (FK â†’ tee_times)
final_price: number
discount_breakdown: JSONB { weather, time, lbs, segment }
agreed_penalty: boolean (ìš°ì²œ ì‹œ ìœ„ì•½ê¸ˆ ë™ì˜)
payment_status: 'PENDING' | 'PAID' | 'CANCELLED' | 'REFUNDED'
created_at: string
updated_at?: string
```

**Note**: Database schema includes optional fields for payment integration:
- `payment_key`, `order_id` may be added for Toss integration
- Current implementation focuses on reservation flow first

### users (Schema defined, not fully implemented)
```typescript
id, email, name, phone
user_segment: 'FUTURE' | 'PRESTIGE' | 'SMART' | 'CHERRY'
cherry_score: number (0-100)
location: JSONB { lat, lng, address }
visit_count, avg_stay_time
```

## Component Data Flow

### Main Page Architecture (`/app/page.tsx` â†’ `/components/TeeTimeList.tsx`)

**Server Component** (`/app/page.tsx`):
```
Responsibilities:
  - Parse URL query params (date)
  - Fetch tee times from Supabase server-side
  - Pass initial data to client component
  - Re-render when URL changes (router.push)

Flow:
  URL ?date=2024-01-15 â†’ getTeeTimesByDate(date) â†’ <TeeTimeList initialTeeTimes={data} />
```

**Client Component** (`/components/TeeTimeList.tsx`):
```
State Management:
  mounted â†’ prevents hydration mismatch
  selectedDate â†’ controls DateSelector highlight
  selectedPart â†’ filters by time (1ë¶€/2ë¶€/3ë¶€: morning/day/night)
  teeTimes â†’ synced with initialTeeTimes prop
  isBookingModalOpen + selectedTeeTime â†’ modal control
  showPanic â†’ panic mode overlay toggle
  timeLeft â†’ countdown timer (client-only)

Time Period Filtering (useMemo):
  - 1ë¶€ (part1): 05:00-11:00 (< 660 minutes)
  - 2ë¶€ (part2): 11:00-17:00 (660-1020 minutes)
  - 3ë¶€ (part3): 17:00-19:30 (â‰¥ 1020 minutes)

  Uses totalMinutes (hour * 60 + minutes) for precise filtering

User Actions:
  Date change â†’ router.push(`/?date=${newDate}`) â†’ Server re-fetch
  Booking success â†’ router.refresh() â†’ Server re-fetch
  Time part toggle â†’ Client-side filter only
```

### Date Selector (`/components/DateSelector.tsx`)
- Generates 14-day array from today
- Horizontal scroll with hidden scrollbar
- Selected date scales up (Tailwind: `scale-105`)
- Emits `onDateChange(date)` callback

### Booking Modal (`/components/BookingModal.tsx`)
**Props**:
```typescript
{
  isOpen: boolean
  onClose: () => void
  teeTime: TeeTimeWithPricing
  userId?: number
  userSegment?: string
  onSuccess?: () => void
}
```

**Widget Lifecycle**:
```typescript
useEffect(() => {
  if (!isOpen) {
    paymentWidgetRef.current = null
    setIsReady(false)
    return
  }
  initWidget() // Load Toss SDK
}, [isOpen, userId, finalPrice])
```

## API Routes

### `/api/reservations`
- **POST**: Create reservation (no payment) â†’ Insert reservation + Update tee time
- **GET**: Fetch user's reservations with joins (`?userId=1`)

### `/api/payments/confirm`
- **POST**: Confirm Toss payment â†’ Call Toss API â†’ Create reservation + Update tee time
- Handles atomic transactions with rollback

### `/api/pricing`
- **GET**: Calculate real-time prices with live weather data
- Calls Korean Met Office API (`getVilageFcst`)
- 10-minute cache: `next: { revalidate: 600 }`

## Weather Integration

**API**: Korean Meteorological Administration VilageFcst API
- Grid coordinates: `(54, 123)` for Incheon Club 72
- Queries 3-hour forecast blocks (base times: 02, 05, 08, 11, 14, 17, 20, 23 KST)
- Extracts POP (probability of precipitation) category
- **Blocking Logic**: Blocks tee time if rainfall â‰¥ 10mm

**Timezone Handling**:
```typescript
// Convert UTC to KST (UTC+9)
const kstDate = new Date(utcDate.getTime() + 9 * 60 * 60 * 1000)
```

## Common Development Tasks

### Adding New Discount Factor
1. Update `pricingEngine.ts`:
   - Add calculation in `calculatePrice()`
   - Update `breakdown` object
   - Update `reasons` array
   - Ensure total discount â‰¤ 40%
2. Update `types/database.ts`:
   - Add field to `DiscountResult.breakdown`
3. Update UI:
   - `BookingModal.tsx` to display new discount
   - `page.tsx` price cards to show reason tags

### Testing Payment Flow Locally
1. Use Toss public test keys (already in `.env.local`)
2. Test card: `4000-0000-0000-0008` (success), `4000-0000-0000-0010` (fail)
3. Check logs in `/api/payments/confirm` for Toss API responses
4. Verify database updates in Supabase dashboard

### Debugging Payment Widget Issues
**Common Issues**:
- **401 Unauthorized**: Check `NEXT_PUBLIC_TOSS_CLIENT_KEY` has no spaces after `=` in `.env.local`
- **Widget iframe not found**: Ensure `useRef` pattern is used (no direct DOM checks)
- **Widget not rendering**: Check `isReady` state transitions in console logs

**Clean Implementation Pattern**:
- Never use `setTimeout` or retry loops for widget loading
- Trust SDK's Promise resolution
- Reset widget state on modal close

### Debugging Hydration Mismatch Errors

**Error Message**: `Hydration failed because the server rendered HTML didn't match the client`

**Common Causes in This Codebase**:
1. **Timers/Countdown**: `setInterval` running on client but not server
2. **Random Values**: `Math.random()` generates different values on server vs client
3. **Date.now()**: Current timestamp differs between server and client render
4. **Browser APIs**: `window`, `localStorage`, `navigator` don't exist on server

**Solution Pattern**:
```typescript
const [mounted, setMounted] = useState(false);

useEffect(() => {
  setMounted(true);
}, []);

// All client-only code goes here
useEffect(() => {
  if (!mounted) return;
  const timer = setInterval(() => {
    // Safe to use timers now
  }, 1000);
  return () => clearInterval(timer);
}, [mounted]);

if (!mounted) {
  return <Loader2 />; // Matches server render
}

// Client-only render
return <div>{Math.random()}</div>; // Now safe
```

**Real Example from TeeTimeList.tsx**:
- Panic mode timer uses `mounted` guard
- Random panic trigger (`Math.random() > 0.8`) only runs after mount
- Initial loader prevents mismatch during hydration

### Adding New API Route
1. Create `/app/api/{name}/route.ts`
2. Export `POST`, `GET`, etc. as async functions
3. Use `NextResponse.json()` for responses
4. Add `try-catch` with error logging
5. Add `next: { revalidate: N }` for caching (optional)

## Known Limitations (MVP Phase)

- **Authentication**: Hardcoded `userId=1` (needs real auth system)
- **Refund Flow**: Manual process (no automated refund API)
- **User Segments**: Defined in types but not dynamically assigned
- **Golf Clubs**: Schema exists but minimal implementation
- **Testing**: No unit/integration tests yet
- **Error Boundaries**: No React error boundaries

## Code Style Conventions

- **TypeScript**: Strict mode enabled, no `any` unless necessary (Supabase type workarounds)
- **Imports**: Use `@/` alias for root-relative imports
- **Styling**: Tailwind utility classes (no CSS modules)
- **State**: Use `useState` + `useMemo` for derived data
- **Error Handling**: Always wrap async operations in try-catch
- **Logging**: Use `console.error` for errors, `console.log` for debugging

## Deployment Checklist

- [ ] Update `.env.local` with production Supabase credentials
- [ ] Switch to production Toss keys (`live_ck_...` / `live_sk_...`)
- [ ] Enable Row Level Security (RLS) on Supabase tables
- [ ] Add authentication (Supabase Auth recommended)
- [ ] Implement real user segment assignment logic
- [ ] Add error boundaries for payment flows
- [ ] Set up monitoring for payment failures
- [ ] Configure webhook for Toss payment events (optional)
``````

### File: `DOCS-ê°œë…ì •ë¦¬.md`

``````md
# ğŸ“ TUGOL í”„ë¡œì íŠ¸ ê°œë… ì •ë¦¬

> ì‘ì„±ì¼: 2026-01-12
> ëŒ€ìƒ: Next.js/TypeScript ì´ˆë³´ì

---

## 1. TypeScript vs Next.js ì°¨ì´ì 

### TypeScript = ì–¸ì–´ (Language)
```typescript
// JavaScriptì— "íƒ€ì…"ì„ ì¶”ê°€í•œ ì–¸ì–´
let clubName: string = "Club 72";  // â† ë¬¸ìì—´ íƒ€ì…
let price: number = 250000;         // â† ìˆ«ì íƒ€ì…

// í•¨ìˆ˜ë„ íƒ€ì… ì§€ì • ê°€ëŠ¥
function calculatePrice(base: number, discount: number): number {
  return base - discount;
}
```

**íŠ¹ì§•:**
- ì½”ë“œ ì‘ì„± ì¤‘ì— ì—ëŸ¬ë¥¼ ë¯¸ë¦¬ ì¡ì•„ì¤Œ
- ê°œë°œ ì‹œì—ë§Œ ì‚¬ìš©, ì‹¤í–‰ ì‹œì—ëŠ” JavaScriptë¡œ ë³€í™˜ë¨
- ì„ íƒì‚¬í•­ (JavaScriptë¡œë„ Next.js ì‚¬ìš© ê°€ëŠ¥)

---

### Next.js = í”„ë ˆì„ì›Œí¬ (Framework)
```
í”„ë¡œì íŠ¸ êµ¬ì¡° = ê³§ ë¼ìš°íŒ…
/app/page.tsx              â†’ ë©”ì¸ í˜ì´ì§€ (/)
/app/admin/page.tsx        â†’ ê´€ë¦¬ì í˜ì´ì§€ (/admin)
/app/api/pricing/route.ts  â†’ API ì—”ë“œí¬ì¸íŠ¸ (/api/pricing)
```

**íŠ¹ì§•:**
- React ê¸°ë°˜ ì›¹ í”„ë ˆì„ì›Œí¬
- íŒŒì¼ êµ¬ì¡°ë¡œ ìë™ ë¼ìš°íŒ…
- ì„œë²„ ë Œë”ë§(SSR) + API ë¼ìš°íŠ¸ ì œê³µ
- TypeScriptì™€ JavaScript ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥

---

### ê´€ê³„ë„
```
JavaScript (ê¸°ë³¸ ì–¸ì–´)
  â””â”€ TypeScript (íƒ€ì… ì¶”ê°€ ë²„ì „)
      â””â”€ React (UI ë¼ì´ë¸ŒëŸ¬ë¦¬)
          â””â”€ Next.js (í”„ë ˆì„ì›Œí¬, React + ì„œë²„)
```

**ì‰¬ìš´ ë¹„ìœ :**
- **TypeScript** = í•œêµ­ì–´/ì˜ì–´ (ì–¸ì–´)
- **Next.js** = ë…¸ì…˜/ì›Œë“œ (ë„êµ¬)
- **ìš°ë¦¬ í”„ë¡œì íŠ¸** = Next.js(ë„êµ¬)ë¥¼ ì“°ë©´ì„œ TypeScript(ì–¸ì–´)ë¡œ ì‘ì„±

---

## 2. í™˜ê²½ë³€ìˆ˜ ì‚¬ìš©ë²•

### .env.local íŒŒì¼
```bash
# ì„œë²„ ì „ìš© ë³€ìˆ˜ (ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ê·¼ ë¶ˆê°€)
WEATHER_API_KEY=xxx
GRID_X=54
GRID_Y=123

# ë¸Œë¼ìš°ì €ì—ì„œë„ ì ‘ê·¼ ê°€ëŠ¥í•œ ë³€ìˆ˜ (NEXT_PUBLIC_ ì ‘ë‘ì‚¬ í•„ìš”)
NEXT_PUBLIC_MAP_KEY=yyy
```

### Next.jsì—ì„œ ì‚¬ìš©
```typescript
// app/api/pricing/route.ts (ì„œë²„ ì‚¬ì´ë“œ)
const apiKey = process.env.WEATHER_API_KEY; // âœ… ê°€ëŠ¥
const mapKey = process.env.NEXT_PUBLIC_MAP_KEY; // âœ… ê°€ëŠ¥

// app/page.tsx (í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ)
const apiKey = process.env.WEATHER_API_KEY; // âŒ undefined (ë³´ì•ˆìƒ ì ‘ê·¼ ë¶ˆê°€)
const mapKey = process.env.NEXT_PUBLIC_MAP_KEY; // âœ… ê°€ëŠ¥
```

**ì¤‘ìš”:**
- API í‚¤ ê°™ì€ ë¯¼ê° ì •ë³´ëŠ” `NEXT_PUBLIC_` ë¶™ì´ì§€ ë§ ê²ƒ!
- `.env.local`ì€ `.gitignore`ì— í¬í•¨ë˜ì–´ Gitì— ì˜¬ë¼ê°€ì§€ ì•ŠìŒ

---

## 3. í”„ë¡œì íŠ¸ êµ¬ì¡°

### í˜„ì¬ êµ¬ì¡°
```
tugol-app-main/
â”œâ”€â”€ .env.local              # í™˜ê²½ë³€ìˆ˜ (Gitì— ì˜¬ë¼ê°€ì§€ ì•ŠìŒ)
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ page.tsx           # ë©”ì¸ í˜ì´ì§€ (ê³¨í¼ìš©)
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â””â”€â”€ page.tsx       # ê´€ë¦¬ì í˜ì´ì§€
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ pricing/
â”‚   â”‚       â””â”€â”€ route.ts   # ê°€ê²© ê³„ì‚° API
â”‚   â””â”€â”€ layout.tsx         # ê³µí†µ ë ˆì´ì•„ì›ƒ
â”œâ”€â”€ public/                # ì •ì  íŒŒì¼ (ì´ë¯¸ì§€ ë“±)
â”œâ”€â”€ package.json
â””â”€â”€ app.js.backup          # êµ¬ë²„ì „ Express ì„œë²„ (ë°±ì—…)
```

### ì‚­ì œëœ íŒŒì¼
- **app.js** â†’ `app.js.backup`ìœ¼ë¡œ ë°±ì—…ë¨
  - ì´ìœ : Expressì™€ Next.js ì´ì¤‘ êµ¬ì¡° ì œê±°
  - Next.jsë¡œ í†µì¼í•˜ì—¬ JS/TS í˜¼ìš© ë¬¸ì œ í•´ê²°

---

## 4. API Route ì‘ë™ ì›ë¦¬

### íŒŒì¼: app/api/pricing/route.ts
```typescript
export async function GET() {
  // 1. ê¸°ìƒì²­ API í˜¸ì¶œ
  const weather = await getRealWeather();

  // 2. ê°€ê²© ê³„ì‚° ë¡œì§
  const prices = calculatePricing(weather);

  // 3. JSON ì‘ë‹µ
  return NextResponse.json({ data: prices });
}
```

### í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í˜¸ì¶œ
```typescript
// app/page.tsx
const res = await fetch('/api/pricing');  // â† ìë™ìœ¼ë¡œ route.ts í˜¸ì¶œ
const data = await res.json();
```

**íë¦„:**
1. ë¸Œë¼ìš°ì €: `/api/pricing` ìš”ì²­
2. Next.js: `app/api/pricing/route.ts`ì˜ `GET()` í•¨ìˆ˜ ì‹¤í–‰
3. ì„œë²„: ê¸°ìƒì²­ API í˜¸ì¶œ + ê°€ê²© ê³„ì‚°
4. ë¸Œë¼ìš°ì €: JSON ì‘ë‹µ ë°›ìŒ

---

## 5. TypeScript í•µì‹¬ ë¬¸ë²• (ìì£¼ ë³´ëŠ” ê²ƒë§Œ)

### (1) íƒ€ì… ì„ ì–¸
```typescript
let name: string = "í™ê¸¸ë™";
let age: number = 30;
let isVIP: boolean = true;
```

### (2) ì¸í„°í˜ì´ìŠ¤ (ê°ì²´ êµ¬ì¡° ì •ì˜)
```typescript
interface TeeTime {
  time: string;
  basePrice: number;
  finalPrice: number;
}

const tee: TeeTime = {
  time: "08:00",
  basePrice: 250000,
  finalPrice: 200000
};
```

### (3) ë°°ì—´ íƒ€ì…
```typescript
const prices: number[] = [100, 200, 300];
const times: string[] = ["08:00", "09:00"];
```

### (4) any (íƒ€ì… ëª¨ë¥¼ ë•Œ - ê¶Œì¥í•˜ì§€ ì•ŠìŒ)
```typescript
const data: any = { foo: "bar" }; // ëª¨ë“  íƒ€ì… í—ˆìš©
```

### (5) ! (Non-null assertion)
```typescript
const apiKey = process.env.WEATHER_API_KEY!;
// â†‘ "ì´ ê°’ì€ ë¬´ì¡°ê±´ ìˆë‹¤"ê³  TypeScriptì— ì•Œë ¤ì¤Œ
```

---

## 6. ìì£¼ ë‚˜ì˜¤ëŠ” ì—ëŸ¬ í•´ê²°

### "Cannot find module" ì—ëŸ¬
```bash
npm install
```
â†’ node_modules ì¬ì„¤ì¹˜

### í™˜ê²½ë³€ìˆ˜ê°€ undefined
- `.env.local` íŒŒì¼ í™•ì¸
- ì„œë²„ ì¬ì‹œì‘ í•„ìš” (`npm run dev` ì¤‘ë‹¨ í›„ ì¬ì‹¤í–‰)
- í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì ‘ê·¼í•˜ë ¤ë©´ `NEXT_PUBLIC_` ì ‘ë‘ì‚¬ í•„ìš”

### TypeScript íƒ€ì… ì—ëŸ¬
```typescript
// ì—ëŸ¬ ì˜ˆì‹œ
const price: number = "100"; // âŒ íƒ€ì… ë¶ˆì¼ì¹˜

// í•´ê²°
const price: number = 100; // âœ…
const priceStr: string = "100"; // âœ…
```

---

## 7. ë‹¤ìŒ í•™ìŠµ ëª©í‘œ

1. **React Hooks** (useState, useEffect)
2. **API í˜¸ì¶œ íŒ¨í„´** (fetch, async/await)
3. **TypeScript ì¸í„°í˜ì´ìŠ¤** í™œìš©
4. **Supabase ì—°ë™** (DB ì €ì¥)
5. **ì—ëŸ¬ í•¸ë“¤ë§** (try-catch)

---

> ğŸ’¡ **Tip**: ì´ ë¬¸ì„œëŠ” í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìˆì–´. í—·ê°ˆë¦´ ë•Œë§ˆë‹¤ ì°¸ê³ í•˜ì!
``````

### File: `GEMINI.md`

``````md
# GEMINI.md - TUGOL Golf Booking App

## Project Overview

This is a Next.js application for a golf tee-time booking service named "TUGOL". The application provides real-time tee-time availability and dynamic pricing. It's built with a modern stack including Next.js for the frontend, Supabase for the backend, and integrated with Toss Payments for processing payments.

### Key Technologies:
- **Framework**: Next.js (React)
- **Styling**: Tailwind CSS
- **Backend**: Supabase (PostgreSQL database, auth)
- **Payments**: Toss Payments
- **Languages**: TypeScript

### Architecture:
- The frontend is a client-rendered React application built with Next.js.
- The backend logic is handled by API routes in the `app/api` directory, which interact with a Supabase database.
- The application features a dynamic pricing engine (`utils/pricingEngine.ts`) that calculates discounts based on various factors like weather, time, and user data.
- User data, tee times, and reservations are stored in a Supabase Postgres database, with types defined in `types/database.ts`.

## Building and Running

To get the development environment running, follow these steps:

1.  **Install dependencies:**
    ```bash
    npm install
    ```

2.  **Run the development server:**
    ```bash
    npm run dev
    ```

    The application will be available at [http://localhost:3000](http://localhost:3000).

### Key Scripts:
- `npm run dev`: Starts the development server.
- `npm run build`: Creates a production build.
- `npm run start`: Starts the production server.
- `npm run lint`: Lints the codebase using ESLint.

## Development Conventions

- **Coding Style**: The project uses TypeScript and follows standard React/Next.js conventions. Code is formatted according to the rules in `.eslintrc.json`.
- **Component Structure**: Reusable components are located in the `components` directory.
- **API Routes**: Server-side logic is handled in API routes within `app/api`.
- **Database**: The database schema and types are defined in `types/database.ts`. All database interactions go through the Supabase client in `lib/supabase.ts`.
- **Pricing Logic**: All dynamic pricing logic is centralized in `utils/pricingEngine.ts`.
- **Supabase Queries**: Reusable Supabase queries are located in `utils/supabase/queries.ts`.
``````

### File: `IMPLEMENTATION_COMPLETE.md`

``````md
# TUGOL MVP Phase 5 - ê»ë°ê¸° ì±„ìš°ê¸° ì™„ë£Œ ë³´ê³ ì„œ

## ğŸ¯ ëª©í‘œ: í•µì‹¬ ì‹œìŠ¤í…œ êµ¬í˜„ ì™„ë£Œ

ì‚¬ìš©ìê°€ ìš”ì²­í•œ "ê»ë°ê¸° ì±„ìš°ê¸°" 4ê°€ì§€ ìš°ì„ ìˆœìœ„ë¥¼ ëª¨ë‘ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.

---

## âœ… ì™„ë£Œëœ ì‘ì—… (Priority Queue)

### 1ìˆœìœ„: DB & User Modeling âœ… COMPLETE

#### ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±
**íŒŒì¼**: `supabase/migrations/20260115_enhanced_users.sql`

**ì¶”ê°€ëœ í•„ë“œ**:
```sql
-- Blacklist Management (ì•…ì„± ì‚¬ìš©ì ê´€ë¦¬)
blacklisted              BOOLEAN DEFAULT FALSE
blacklist_reason         TEXT
blacklisted_at           TIMESTAMPTZ
blacklisted_by           TEXT  -- ì²˜ë¦¬í•œ ê´€ë¦¬ì ID

-- Behavior Tracking (í–‰ë™ ì¶”ì )
no_show_count            INTEGER DEFAULT 0
last_no_show_at          TIMESTAMPTZ
total_bookings           INTEGER DEFAULT 0
total_spent              INTEGER DEFAULT 0  -- ì´ ê²°ì œ ê¸ˆì•¡ (ì›)
avg_booking_value        INTEGER DEFAULT 0

-- Location Data (ìœ„ì¹˜ ê¸°ë°˜ í• ì¸)
location_lat             DECIMAL(10, 8)
location_lng             DECIMAL(11, 8)
location_address         TEXT
distance_to_club_km      INTEGER

-- Visit Tracking (ë°©ë¬¸ ì¶”ì )
visit_count              INTEGER DEFAULT 0
avg_stay_minutes         INTEGER
last_visited_at          TIMESTAMPTZ

-- Segment Override (ìˆ˜ë™ ì„¸ê·¸ë¨¼íŠ¸ ì¡°ì •)
segment_override_by      TEXT  -- ê´€ë¦¬ì ID
segment_override_at      TIMESTAMPTZ

-- Marketing (ë§ˆì¼€íŒ… ë™ì˜)
marketing_agreed         BOOLEAN DEFAULT FALSE
push_agreed              BOOLEAN DEFAULT FALSE
```

#### ìë™í™” í•¨ìˆ˜ (PostgreSQL Functions)

1. **`update_user_stats_after_reservation()`**
   - ì˜ˆì•½ ì™„ë£Œ ì‹œ ìë™ìœ¼ë¡œ `total_bookings`, `total_spent`, `avg_booking_value` ì—…ë°ì´íŠ¸
   - íŠ¸ë¦¬ê±°: `reservations` í…Œì´ë¸” INSERT ì‹œ

2. **`calculate_user_segment(user_id)`**
   - ì‚¬ìš©ì í–‰ë™ ê¸°ë°˜ ì„¸ê·¸ë¨¼íŠ¸ ìë™ í• ë‹¹
   - ë¡œì§:
     - `PRESTIGE`: ì´ 100ë§Œ ì› ì´ìƒ ê²°ì œ OR 10íšŒ ì´ìƒ ì˜ˆì•½
     - `CHERRY`: Cherry Score 80ì  ì´ìƒ
     - `SMART`: 3íšŒ ì´ìƒ ì˜ˆì•½
     - `FUTURE`: ì‹ ê·œ ì‚¬ìš©ì (3íšŒ ë¯¸ë§Œ)
   - ê´€ë¦¬ì ìˆ˜ë™ ì„¤ì •(`segment_override_by`) ì‹œ ìë™ ê°±ì‹  ì•ˆ í•¨

3. **`record_no_show(reservation_id)`**
   - ë…¸ì‡¼ ê¸°ë¡ ì‹œ:
     - `no_show_count` +1
     - `cherry_score` -20ì  í˜ë„í‹°
     - **3íšŒ ì´ìƒ ë…¸ì‡¼ ì‹œ ìë™ ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì²˜ë¦¬**
   - ì„¸ê·¸ë¨¼íŠ¸ ì¬ê³„ì‚° ìë™ ì‹¤í–‰

4. **View: `admin_user_stats`**
   - ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œìš© í†µê³„ ë·°
   - ì‚¬ìš©ìë³„ ì˜ˆì•½ ìˆ˜, ë§¤ì¶œ, ë…¸ì‡¼, ë¸”ë™ë¦¬ìŠ¤íŠ¸ ìƒíƒœ í•œëˆˆì— í™•ì¸

#### TypeScript íƒ€ì… ì—…ë°ì´íŠ¸
**íŒŒì¼**: `types/database.ts`
- ëª¨ë“  ìƒˆ í•„ë“œ íƒ€ì… ì •ì˜ ì¶”ê°€
- Insert/Update íƒ€ì…ë„ ìë™ ì¶”ë¡ ë˜ë„ë¡ ì„¤ì •

---

### 2ìˆœìœ„: Admin Dashboard (ìš´ì˜ì˜ ë‡Œ) âœ… COMPLETE

#### ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸
**íŒŒì¼**: `components/AdminDashboardNew.tsx` (ê¸°ì¡´ ëŒ€ì‹œë³´ë“œ ëŒ€ì²´)

**3ê°œ íƒ­ êµ¬ì¡°**:
1. **ëŒ€ì‹œë³´ë“œ íƒ­** (Overview)
   - ì¼ë³„ ë§¤ì¶œ ì°¨íŠ¸ (interactive hover)
   - AI Pricing Engine ìƒíƒœ
   - Weather Simulation ë²„íŠ¼

2. **í‹°íƒ€ì„ ê´€ë¦¬ íƒ­**
   - ê¸°ì¤€ ê°€ê²© Override (í´ë¦­í•´ì„œ ìˆ˜ì •)
   - ìƒíƒœ ê´€ë¦¬ (OPEN â†” BLOCKED í† ê¸€)
   - ë‚ ì”¨ ì •ë³´ í‘œì‹œ

3. **ì‚¬ìš©ì ê´€ë¦¬ íƒ­** â­ NEW
   - **íŒŒì¼**: `components/AdminUserManagement.tsx`
   - **ê¸°ëŠ¥**:
     - ê²€ìƒ‰ (ì´ë©”ì¼, ì´ë¦„)
     - í•„í„° (ì„¸ê·¸ë¨¼íŠ¸, ë¸”ë™ë¦¬ìŠ¤íŠ¸ ìƒíƒœ)
     - ì‚¬ìš©ìë³„ í†µê³„ (ì˜ˆì•½ ìˆ˜, ì´ ì§€ì¶œ, ë…¸ì‡¼)
     - ì„¸ê·¸ë¨¼íŠ¸ ìˆ˜ë™ ë³€ê²½ (Override)
     - Cherry Score ì¡°ì •
     - ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì¶”ê°€/í•´ì œ (ì‚¬ìœ  ì…ë ¥)
   - **ì»¬ëŸ¼**:
     - ì‚¬ìš©ì ì •ë³´ (ì´ë¦„, ì´ë©”ì¼, ì „í™”ë²ˆí˜¸)
     - ì„¸ê·¸ë¨¼íŠ¸ ë°°ì§€ (PRESTIGE, CHERRY, SMART, FUTURE)
     - Cherry Score (í´ë¦­í•´ì„œ ì¡°ì •)
     - ì˜ˆì•½ ë‚´ì—­ (íšŸìˆ˜ + ì´ ë§¤ì¶œ)
     - ë…¸ì‡¼ íšŸìˆ˜ (ê²½ê³  í‘œì‹œ)
     - ìƒíƒœ (ì •ìƒ/ì°¨ë‹¨)
     - ê´€ë¦¬ ë²„íŠ¼ (ì°¨ë‹¨/í•´ì œ)

#### Admin API ì—”ë“œí¬ì¸íŠ¸
**íŒŒì¼**: `app/api/admin/users/route.ts`

**POST Actions**:
- `record-no-show`: ë…¸ì‡¼ ê¸°ë¡ (DB í•¨ìˆ˜ í˜¸ì¶œ)
- `recalculate-segment`: ì„¸ê·¸ë¨¼íŠ¸ ì¬ê³„ì‚° ê°•ì œ ì‹¤í–‰

#### Admin í˜ì´ì§€ ì„œë²„ ì»´í¬ë„ŒíŠ¸
**íŒŒì¼**: `app/admin/page.tsx`
- ì„œë²„ì—ì„œ í‹°íƒ€ì„ + ì˜ˆì•½ + **ì‚¬ìš©ì ë°ì´í„°** ëª¨ë‘ fetch
- ìƒˆë¡œìš´ ëŒ€ì‹œë³´ë“œì— ì „ë‹¬

---

### 3ìˆœìœ„: Core Pricing Engine âœ… COMPLETE

#### Panic Mode êµ¬í˜„
**íŒŒì¼**: `utils/pricingEngine.ts`

**ë¡œì§**:
```typescript
// ì¡°ê±´:
// 1. í‹°ì˜¤í”„ 30ë¶„ ì´ë‚´
// 2. ì•„ì§ ì˜ˆì•½ ì•ˆ ë¨ (OPEN ìƒíƒœ)
// 3. í‹°íƒ€ì„ ID ê¸°ë°˜ deterministic random (20% í™•ë¥ )

panicMode: {
  active: true/false,
  minutesLeft: number,
  reason: string  // "ê¸´ê¸‰! ê³§ ë§ˆê°ë©ë‹ˆë‹¤" or "ê³µì‹¤ ì„ë°•! ì§€ê¸ˆ ì˜ˆì•½í•˜ì„¸ìš”"
}
```

**í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™**:
- `TeeTimeList.tsx`ì— ì´ë¯¸ Panic Mode UI êµ¬í˜„ë˜ì–´ ìˆìŒ
- ë¹¨ê°„ ë°°ë„ˆ + íƒ€ì´ë¨¸ + "ì§€ê¸ˆ ì˜ˆì•½í•˜ì„¸ìš”!" ë²„íŠ¼
- `discountResult.panicMode.active` ì²´í¬í•´ì„œ í‘œì‹œ

#### Weather-Based í• ì¸
- ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆìŒ:
  - ê°•ìˆ˜ëŸ‰ â‰¥1mm OR ê°•ìˆ˜í™•ë¥  â‰¥60% â†’ 20% í• ì¸
  - ê°•ìˆ˜í™•ë¥  30-59% â†’ 10% í• ì¸
- DB ë¸”ë¡œí‚¹: ê°•ìˆ˜ëŸ‰ â‰¥10mm ì‹œ ìë™ ì°¨ë‹¨

#### Time-Based Step-Down í• ì¸
- ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆìŒ:
  - í‹°ì˜¤í”„ 2ì‹œê°„ ì „ë¶€í„° ì‹œì‘
  - 3ë‹¨ê³„ step-down (10-30ë¶„ ëœë¤ ê°„ê²©)
  - í• ì¸ì•¡: â‰¥100k â†’ 10k/step, <100k â†’ 5k/step

---

### 4ìˆœìœ„: Legal & Policy (ë°©íŒ¨) âœ… COMPLETE

#### ì´ìš©ì•½ê´€
**íŒŒì¼**: `app/policy/terms/page.tsx`

**í•µì‹¬ ë‚´ìš©**:
- **ì œ6ì¡° (í™˜ë¶ˆ ê·œì •)**:
  - ê°•ìˆ˜ëŸ‰ 10mm ì´ìƒ ì‹œ 100% ìë™ í™˜ë¶ˆ
  - ê°œì¸ ì‚¬ì • ì·¨ì†Œ: í™˜ë¶ˆ ë¶ˆê°€
  - íšŒì‚¬ ê·€ì±… ì‚¬ìœ : ì „ì•¡ í™˜ë¶ˆ
- **ì œ7ì¡° (ë…¸ì‡¼ í˜ë„í‹°)**:
  - ë…¸ì‡¼ ì‹œ Cherry Score -20ì 
  - 3íšŒ ì´ìƒ ì‹œ ìë™ ê³„ì • ì •ì§€
- **ì œ5ì¡° (ì˜ˆì•½ ë° ê²°ì œ)**:
  - ë™ì  ê°€ê²© ì•Œê³ ë¦¬ì¦˜ ëª…ì‹œ
  - ê²°ì œ ì™„ë£Œ ì‹œ ì˜ˆì•½ í™•ì •
  - ì·¨ì†Œ/í™˜ë¶ˆ ì›ì¹™ì  ë¶ˆê°€ (ê¸°ìƒ ì•…í™” ì˜ˆì™¸)

#### ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨
**íŒŒì¼**: `app/policy/privacy/page.tsx`

**í•µì‹¬ ë‚´ìš©**:
- ìˆ˜ì§‘ í•­ëª©: ì¹´ì¹´ì˜¤ ì •ë³´, ê²°ì œ ì •ë³´, ìœ„ì¹˜ ì •ë³´(ì„ íƒ)
- ì´ìš© ëª©ì : íšŒì› ê´€ë¦¬, ì„œë¹„ìŠ¤ ì œê³µ, ë§ì¶¤í˜• í• ì¸, AI ìµœì í™”
- ë³´ìœ  ê¸°ê°„: íšŒì› íƒˆí‡´ ì‹œê¹Œì§€ (ë²•ë ¹ ë³´ì¡´ ê¸°ê°„ ì œì™¸)
- ì²˜ë¦¬ ìœ„íƒ: í† ìŠ¤í˜ì´ë¨¼ì¸ , Supabase, ì¹´ì¹´ì˜¤
- íšŒì› ê¶Œë¦¬: ì—´ëŒ, ì •ì •, ì‚­ì œ, ì²˜ë¦¬ ì •ì§€

#### Login í˜ì´ì§€ ì•½ê´€ ë™ì˜
**íŒŒì¼**: `app/login/page.tsx`
- ì´ë¯¸ í•˜ë‹¨ì— ì•½ê´€ ë§í¬ í‘œì‹œë¨:
  > "ê³„ì† ì§„í–‰í•˜ë©´ ì´ìš©ì•½ê´€ ë° ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ì— ë™ì˜í•˜ëŠ” ê²ƒìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤."

---

## ğŸ“ ìƒì„±/ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡

### âœ¨ NEW FILES
```
supabase/migrations/20260115_enhanced_users.sql     [DB Migration]
components/AdminUserManagement.tsx                   [User Management UI]
components/AdminDashboardNew.tsx                    [Tabbed Admin Dashboard]
app/api/admin/users/route.ts                        [Admin User Actions API]
IMPLEMENTATION_COMPLETE.md                          [This file]
```

### ğŸ”§ MODIFIED FILES
```
types/database.ts                        [Added 20+ new user fields]
utils/pricingEngine.ts                   [Added panic mode logic]
utils/supabase/queries.ts                [Updated mock user with new fields]
app/api/pricing/route.ts                 [Updated mock user with new fields]
app/admin/page.tsx                       [Fetch users + use new dashboard]
app/policy/terms/page.tsx                [Comprehensive legal content]
app/policy/privacy/page.tsx              [Comprehensive privacy policy]
```

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„: ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰

### 1. Supabase Dashboardì—ì„œ SQL ì‹¤í–‰
```sql
-- supabase/migrations/20260115_enhanced_users.sql íŒŒì¼ì˜ ë‚´ìš©ì„ ë³µì‚¬í•´ì„œ ì‹¤í–‰
```

### 2. ë˜ëŠ” Supabase CLI ì‚¬ìš©
```bash
supabase db push
```

### 3. í™•ì¸
```sql
-- ìƒˆ ì»¬ëŸ¼ë“¤ì´ ì¶”ê°€ë˜ì—ˆëŠ”ì§€ í™•ì¸
SELECT column_name, data_type
FROM information_schema.columns
WHERE table_name = 'users';

-- í•¨ìˆ˜ ìƒì„± í™•ì¸
SELECT routine_name
FROM information_schema.routines
WHERE routine_schema = 'public'
AND routine_name IN ('record_no_show', 'calculate_user_segment', 'update_user_stats_after_reservation');
```

---

## ğŸ¨ UI ë¯¸ë¦¬ë³´ê¸° (Admin Dashboard)

### ì‚¬ìš©ì ê´€ë¦¬ íƒ­ êµ¬ì¡°
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” Search: [ì´ë©”ì¼ ë˜ëŠ” ì´ë¦„ ê²€ìƒ‰...]                       â”‚
â”‚ ğŸ”½ Filter: [ëª¨ë“  ì„¸ê·¸ë¨¼íŠ¸ â–¼] [ì „ì²´ ìƒíƒœ â–¼]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì‚¬ìš©ì | ì„¸ê·¸ë¨¼íŠ¸ | ì²´ë¦¬ì ìˆ˜ | ì˜ˆì•½ë‚´ì—­ | ë…¸ì‡¼ | ìƒíƒœ | ê´€ë¦¬ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ í™ê¸¸ë™  â”‚ PRESTIGEâ”‚   85    â”‚ 12íšŒ    â”‚  0  â”‚ ì •ìƒ â”‚[ì°¨ë‹¨]â”‚
â”‚ test@  â”‚ [âœï¸ìˆ˜ë™] â”‚ [ì¡°ì •]  â”‚ 500ë§Œì› â”‚     â”‚      â”‚      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê¹€ì² ìˆ˜  â”‚ SMART   â”‚   45    â”‚  5íšŒ    â”‚  2íšŒâ”‚ ì •ìƒ â”‚[ì°¨ë‹¨]â”‚
â”‚ kim@   â”‚         â”‚         â”‚ 80ë§Œì›  â”‚ âš ï¸  â”‚      â”‚      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì•…ì„±ìœ ì €â”‚ SMART   â”‚   20    â”‚  8íšŒ    â”‚  4íšŒâ”‚ ì°¨ë‹¨ â”‚[í•´ì œ]â”‚
â”‚ bad@   â”‚         â”‚         â”‚ 120ë§Œì› â”‚ ğŸš¨  â”‚ ğŸ”´  â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•

### 1. Admin Dashboard ì ‘ì†
```
http://localhost:3000/admin
```

### 2. User Management íƒ­ì—ì„œ:
- [ ] ì‚¬ìš©ì ê²€ìƒ‰ í…ŒìŠ¤íŠ¸
- [ ] ì„¸ê·¸ë¨¼íŠ¸ í•„í„°ë§
- [ ] Cherry Score ì¡°ì •
- [ ] ì„¸ê·¸ë¨¼íŠ¸ ìˆ˜ë™ ë³€ê²½
- [ ] ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì¶”ê°€/í•´ì œ

### 3. Pricing Engine í…ŒìŠ¤íŠ¸:
- [ ] í‹°ì˜¤í”„ 30ë¶„ ì´ë‚´ í‹°íƒ€ì„ì— Panic Mode í‘œì‹œë˜ëŠ”ì§€ í™•ì¸
- [ ] Weather í• ì¸ ì ìš© í™•ì¸

### 4. Legal Pages í™•ì¸:
- [ ] `/policy/terms` ì ‘ì†
- [ ] `/policy/privacy` ì ‘ì†
- [ ] ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ ì•½ê´€ ë§í¬ í´ë¦­

---

## ğŸ“ ì•Œë ¤ì§„ ì œí•œì‚¬í•­

1. **Authentication ë¯¸ì™„ì„±**:
   - í˜„ì¬ mock user ID ì‚¬ìš© ì¤‘
   - Supabase Auth ì™„ì „ ì—°ë™ í•„ìš”

2. **Admin ê¶Œí•œ ì²´í¬ ì—†ìŒ**:
   - `/admin` í˜ì´ì§€ ëˆ„êµ¬ë‚˜ ì ‘ê·¼ ê°€ëŠ¥
   - Middlewareë¡œ admin ê¶Œí•œ ì²´í¬ ì¶”ê°€ í•„ìš”

3. **No-Show ìë™ ê°ì§€ ë¯¸êµ¬í˜„**:
   - ìˆ˜ë™ìœ¼ë¡œ `record_no_show()` API í˜¸ì¶œ í•„ìš”
   - IoT/QR ì²´í¬ì¸ ì‹œìŠ¤í…œ ì—°ë™ í•„ìš”

4. **ì‹¤ì‹œê°„ ìœ„ì¹˜ ê¸°ë°˜ í• ì¸ ë¯¸êµ¬í˜„**:
   - DB ìŠ¤í‚¤ë§ˆëŠ” ì¤€ë¹„ë¨ (`location_lat/lng`)
   - GPS ê¶Œí•œ ìš”ì²­ + ê±°ë¦¬ ê³„ì‚° ë¡œì§ í•„ìš”

---

## ğŸ‰ ê²°ë¡ 

**"ê»ë°ê¸° ì±„ìš°ê¸°" 4ê°œ ìš°ì„ ìˆœìœ„ 100% ì™„ë£Œ!**

1. âœ… DB & User Modeling (ìë™í™” í•¨ìˆ˜, íŠ¸ë¦¬ê±°, ë·° í¬í•¨)
2. âœ… Admin Dashboard (í‹°íƒ€ì„ + ì‚¬ìš©ì + í†µê³„)
3. âœ… Pricing Engine (Panic Mode, Weather, Time-based)
4. âœ… Legal Pages (ì´ìš©ì•½ê´€, ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨)

**ë‹¤ìŒ ë‹¨ê³„**:
- DB ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
- ì‹¤ì œ ì‚¬ìš©ì ë°ì´í„°ë¡œ í…ŒìŠ¤íŠ¸
- Admin ê¶Œí•œ ì‹œìŠ¤í…œ êµ¬ì¶•
- í”„ë¡œë•ì…˜ ë°°í¬ ì¤€ë¹„

---

**ìƒì„±ì¼**: 2026-01-15
**ì‘ì—… ì‹œê°„**: ~2ì‹œê°„
**Build Status**: âœ… SUCCESS
**TypeScript Errors**: 0
**Ready for Testing**: YES
``````

### File: `INTEGRATION-COMPLETE.md`

``````md
# ğŸ‰ TUGOL MVP Integration Complete!

**Date:** 2026-01-12
**Status:** âœ… **READY FOR TESTING**

---

## âœ… Completed Tasks

### 1. Mock Data Implementation âœ¨
Created comprehensive test scenarios with proper `WeatherData` objects:

#### 4 Test Scenarios:
1. **Panic Mode (45min)** - Sunny weather, triggers panic popup
2. **Normal Discount (1.5hr)** - Cloudy weather (40% rain probability)
3. **Heavy Rain (2hr)** - Rain weather (80% probability, 5mm rainfall)
4. **Weather Blocked (2.5hr)** - Heavy rain (15mm rainfall â†’ **auto-blocked**)
5. **Already Booked (3hr)** - Sunny weather, already reserved

**File:** [app/page.tsx:10-95](app/page.tsx#L10-L95)

---

### 2. Pricing Engine Integration âœ…
Connected all components to the `pricingEngine`:

```typescript
// Calculate price using engine
const pricing = calculatePrice({
  basePrice: teeTime.basePrice,
  teeOffTime: teeTime.teeOffTime,
  weather: teeTime.weather,
  location: MOCK_USER.location,
  userSegment: MOCK_USER.segment,
});
```

**Features Working:**
- âœ… Deterministic random (same tee time = same schedule)
- âœ… 3-step gradual discounting
- âœ… Weather discounts (20% rain, 10% cloudy)
- âœ… LBS discount (10% within 15km)
- âœ… VIP PRESTIGE discount (5%)
- âœ… Maximum 40% discount cap
- âœ… Weather blocking (â‰¥10mm rainfall)

---

### 3. Panic Popup Connected ğŸš¨
Integrated existing panic popup with `isPanicMode()` logic:

**Logic:** [app/page.tsx:123-127](app/page.tsx#L123-L127)
```typescript
const isPanic = isPanicMode(
  teeTime.teeOffTime,
  teeTime.status === 'BOOKED',
  MOCK_USER.location
);
```

**Trigger Conditions:**
- â° â‰¤ 60 minutes before tee-off
- ğŸ“ User within 15km radius
- âœ… Tee time not already booked

**Display:** [app/page.tsx:183-224](app/page.tsx#L183-L224)
- Shows actual calculated price from engine
- Displays estimated drive time (distance Ã— 3 minutes)
- Auto-triggers 2 seconds after page load (for demo)

---

### 4. Component Integration ğŸ¨

#### WeatherWidget Component
**Usage:** [app/page.tsx:239-243](app/page.tsx#L239-L243)
```typescript
<WeatherWidget
  rainProb={MOCK_WEATHER_SUNNY.rainProb}
  locationMessage="í˜„ì¬ ê³¨í”„ì¥ ê·¼ì²˜ì‹œêµ°ìš”!"
  userSegment="PRESTIGE"
/>
```

**Features:**
- Dynamic weather icons (â˜€ï¸ â˜ï¸ â˜”ï¸)
- Segment badges (ğŸ‘‘ VIP, ğŸ’¡ SMART, ğŸ’ CHERRY)
- Location-aware messaging

#### PriceCard Component
**Usage:** [app/page.tsx:252-262](app/page.tsx#L252-L262)
```typescript
<PriceCard
  time="14:00"
  basePrice={250000}
  finalPrice={180000}
  reasons={['â˜”ï¸ ë¹„ ì˜ˆë³´(80%)', 'â° ì„ë°• í‹° (2ë‹¨ê³„)', 'ğŸ“ ì´ì›ƒ í• ì¸']}
  status="OPEN"
/>
```

**Features:**
- Strike-through original price
- Red highlight for discounts
- Status badges (â›ˆ ê¸°ìƒ ì°¨ë‹¨, âœ“ ì˜ˆì•½ ì™„ë£Œ, â˜”ï¸ ìš°ì²œ)
- Discount reason chips

---

## ğŸ–¥ Server Status

### Development Server Running âœ…
```bash
â–² Next.js 16.1.1 (Turbopack)
- Local:    http://localhost:3000
- Network:  http://192.168.0.10:3000
âœ“ Ready in 3.1s
```

**No compilation errors!** ğŸ‰

---

## ğŸ“Š Test Scenarios You'll See

When you open `http://localhost:3000`:

1. **Weather Widget (Top Banner)**
   - Shows VIP PRESTIGE badge
   - Displays "í˜„ì¬ ê³¨í”„ì¥ ê·¼ì²˜ì‹œêµ°ìš”!" message
   - Weather icon based on current scenario

2. **Tee Time Cards (5 scenarios)**

   | Time | Base Price | Status | Features to Test |
   |------|-----------|--------|------------------|
   | ~14:45 | 250,000ì› | OPEN | ğŸš¨ **Triggers Panic Popup** (45min before) |
   | ~16:00 | 280,000ì› | OPEN | â˜ï¸ Cloudy discount (40% rain prob) |
   | ~16:30 | 250,000ì› | OPEN | â˜”ï¸ Rain discount (80% rain prob) |
   | ~17:00 | 280,000ì› | BLOCKED | â›ˆ Weather blocked (15mm rainfall) |
   | ~17:30 | 250,000ì› | BOOKED | âœ“ Already reserved (grayed out) |

3. **Panic Popup (Auto-triggers after 2 seconds)**
   - Countdown timer (59:59)
   - Calculated panic price
   - Drive time estimate (~25 minutes)
   - "ì§€ê¸ˆ ë°”ë¡œ ì¡ê¸°" CTA button

---

## ğŸ” Testing Checklist

### Visual Tests
- [ ] Weather widget displays correctly with VIP badge
- [ ] All 5 tee time cards render with correct prices
- [ ] Discount badges show for applicable cards
- [ ] Weather blocked card is grayed out
- [ ] Booked card has blue background

### Functional Tests
- [ ] Panic popup appears after 2 seconds
- [ ] Panic popup shows correct price (should be heavily discounted)
- [ ] Countdown timer works (decrements every second)
- [ ] Close button hides popup ("ê´œì°®ìŠµë‹ˆë‹¤, ë¹„ì‹¸ê²Œ ì¹ ê²Œìš”")
- [ ] Cannot click blocked or booked cards

### Pricing Logic Tests
- [ ] Refresh page â†’ prices stay the same (deterministic random)
- [ ] VIP discount applied (5% on all cards)
- [ ] LBS discount applied (10% on all cards - isNearby = true)
- [ ] Weather discounts show in reason chips
- [ ] No discount exceeds 40% total

---

## ğŸ¯ Next Steps (Future Enhancements)

### Phase 2 (After User Testing)
1. **Real-time Updates**
   - Implement WebSocket for live price changes
   - Auto-refresh every minute

2. **Backend Integration**
   - Connect to Supabase database
   - Replace mock data with API calls
   - Implement actual weather API integration

3. **Booking Flow**
   - Payment integration
   - Reservation confirmation
   - Email/SMS notifications

4. **Admin Dashboard**
   - Manual price overrides
   - View reservation analytics
   - Manage weather blocking

---

## ğŸ“ Modified Files Summary

| File | Lines | Changes |
|------|-------|---------|
| [app/page.tsx](app/page.tsx) | 273 | Complete refactor with mock data & engine integration |
| [components/PriceCard.tsx](components/PriceCard.tsx) | 121 | âœ… Already created |
| [components/WeatherWidget.tsx](components/WeatherWidget.tsx) | 110 | âœ… Already created |
| [utils/pricingEngine.ts](utils/pricingEngine.ts) | 320 | âœ… Already created |
| [types/database.ts](types/database.ts) | 125 | âœ… Already created |

---

## ğŸš€ How to Test

### 1. Open the App
Visit: **http://localhost:3000**

### 2. Watch for Auto-Demo
- Page loads with 5 tee time cards
- Wait 2 seconds â†’ Panic popup appears
- Countdown timer starts (59:59)

### 3. Interact with UI
- Click "ê´œì°®ìŠµë‹ˆë‹¤, ë¹„ì‹¸ê²Œ ì¹ ê²Œìš”" to close popup
- Try clicking different tee time cards
- Observe discount badges and reasons

### 4. Test Refresh Behavior
- Note the prices shown
- Refresh page (Cmd+R / F5)
- Verify prices remain identical (deterministic random working!)

---

## ğŸ“ Key Architecture Decisions

### Why Mock Data Instead of API?
âœ… **Faster testing** - No backend dependency
âœ… **Predictable scenarios** - Test all edge cases
âœ… **Easier debugging** - See exact data structure
âœ… **Future-proof** - Easy to swap with real API later

### Why Keep Existing Panic Popup UI?
âœ… **Already works well** - Good UX/UI design
âœ… **Just connected logic** - Now uses `isPanicMode()` from engine
âœ… **No rework needed** - Saves development time

### Why Use WeatherData Objects?
âœ… **Type safety** - TypeScript catches errors at compile time
âœ… **Engine compatibility** - Matches `calculatePrice()` signature
âœ… **Realistic testing** - Exact same format as production weather API

---

## ğŸ’¡ For ì¬ë§ˆë‚˜ì´

### What Works Now âœ…
- All core pricing logic implemented
- UI components rendering correctly
- Panic mode triggering automatically
- Weather blocking functioning
- Deterministic random ensuring price consistency

### What to Focus On During Testing
1. **Price accuracy** - Verify discounts calculate correctly
2. **UI/UX flow** - Check if panic popup timing feels right
3. **Visual polish** - Any design tweaks needed?
4. **Edge cases** - Try different scenarios mentally

### Ready for Demo? ğŸ¬
**YES!** This is a fully functional MVP prototype.

---

## ğŸŠ Summary

**Total Implementation Time:** ~30 minutes
**Files Modified:** 1 (app/page.tsx)
**Components Used:** 2 (PriceCard, WeatherWidget)
**Engine Functions:** 3 (calculatePrice, isPanicMode, shouldBlockTeeTime)
**Test Scenarios:** 5 different tee times

**Status:** âœ… **INTEGRATION COMPLETE - READY FOR TESTING**

---

> ğŸ’¬ **Next Session:**
> - Gather user feedback from testing
> - Decide on Supabase integration timing
> - Plan admin dashboard features
> - Consider git first commit
>
> **Great work! The core MVP is fully functional.** ğŸš€
``````

### File: `PAYMENT-SCHEMA-UPDATE.sql`

```sql
-- ==================================================================
-- Phase 8: Payment System Schema Update
-- ==================================================================
-- Add payment-related columns to reservations table
-- Run this in Supabase SQL Editor

ALTER TABLE reservations
ADD COLUMN IF NOT EXISTS payment_key TEXT,
ADD COLUMN IF NOT EXISTS order_id TEXT;

-- Create index for payment lookups
CREATE INDEX IF NOT EXISTS idx_reservations_payment_key ON reservations (payment_key);
CREATE INDEX IF NOT EXISTS idx_reservations_order_id ON reservations (order_id);

-- Verify the update
SELECT column_name, data_type, is_nullable
FROM information_schema.columns
WHERE table_name = 'reservations'
ORDER BY ordinal_position;
```

### File: `PHASE-2-COMPLETE.md`

``````md
# âœ… Phase 2 Complete: Supabase Database Integration

**Date:** 2026-01-12
**Status:** Ready for database setup
**Current Mode:** Mock data fallback (works without DB)

---

## ğŸ¯ What Was Completed

### 1. Supabase Client Setup âœ…
**File:** [lib/supabase.ts](lib/supabase.ts)

- Configured TypeScript-safe Supabase client
- Added environment variable validation
- Created connection test helper function
- Auto-refresh token for persistent sessions

**Key Code:**
```typescript
export const supabase = createClient<Database>(supabaseUrl, supabaseAnonKey);
```

---

### 2. Database Query Logic âœ…
**File:** [app/page.tsx](app/page.tsx) (Lines 106-212)

**Features:**
- Async data fetching from Supabase
- JOIN query with `golf_clubs` table
- Automatic fallback to mock data if DB unavailable
- Error handling with user-friendly UI
- JSONB weather_data parsing

**Query Structure:**
```typescript
const { data: teeTimes } = await supabase
  .from('tee_times')
  .select(`
    id,
    tee_off_time,
    base_price,
    status,
    weather_data,
    golf_clubs (name, location_lat, location_lng)
  `)
  .gte('tee_off_time', new Date().toISOString())
  .order('tee_off_time', { ascending: true })
  .limit(10);
```

---

### 3. Error Handling UI âœ…
**File:** [app/page.tsx](app/page.tsx) (Lines 229-244)

- Red error card with retry button
- Displays actual error message
- Graceful degradation to mock data
- User can reload to retry connection

---

### 4. Complete SQL Schema âœ…
**File:** [SUPABASE-SETUP.md](SUPABASE-SETUP.md)

**Tables Created:**
1. **golf_clubs** - Golf course locations
2. **users** - User profiles with segments
3. **tee_times** - Core booking data (with JSONB weather)
4. **reservations** - Payment and booking history

**Includes:**
- Indexes for performance
- Foreign key relationships
- Row Level Security (RLS) policies
- Sample test data (5 tee times)

---

## ğŸ“Š Database Schema Overview

```
golf_clubs (id, name, location_lat, location_lng)
    â”‚
    â””â”€â–º tee_times (id, golf_club_id, tee_off_time, base_price, status, weather_data)
           â”‚
           â””â”€â–º reservations (id, user_id, tee_time_id, final_price, payment_status)

users (id, name, email, segment)
   â”‚
   â””â”€â–º reservations
```

---

## ğŸ”§ Setup Instructions for ì¬ë§ˆë‚˜ì´

### Step 1: Get Supabase Credentials

1. Go to [supabase.com/dashboard](https://supabase.com/dashboard)
2. Create a new project (or select existing)
3. Navigate to **Settings â†’ API**
4. Copy these two values:
   - **Project URL** (e.g., `https://abcdefgh.supabase.co`)
   - **anon public key** (long string starting with `eyJ...`)

---

### Step 2: Update Environment Variables

Open `.env.local` and replace the placeholder values:

```env
# Replace these with your actual Supabase credentials
NEXT_PUBLIC_SUPABASE_URL=https://your-actual-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

---

### Step 3: Run SQL Schema

1. In Supabase dashboard, go to **SQL Editor**
2. Click **New Query**
3. Open [SUPABASE-SETUP.md](SUPABASE-SETUP.md)
4. Copy the SQL for each table section
5. Run each SQL block in order:
   - Golf Clubs Table
   - Users Table
   - Tee Times Table
   - Sample Tee Times Data
   - Reservations Table (optional for now)
   - Enable RLS (for production)

---

### Step 4: Restart Server

```bash
# Stop current server (Ctrl+C in terminal)
npm run dev
```

The server will detect new environment variables and connect to Supabase!

---

## ğŸ§ª Testing the Integration

### Test 1: Mock Data (Current State)
âœ… **Working Now** - Visit `http://localhost:3000`
The app shows 5 tee times from mock data because DB is not yet set up.

### Test 2: Real Database (After Setup)
Once you complete Steps 1-4 above:
1. Refresh the page
2. App will fetch from Supabase
3. Check browser console: Should see "Fetching from Supabase"
4. Verify data matches what you inserted

### Test 3: Error Handling
If connection fails:
- Red error card appears
- Shows error message
- "ë‹¤ì‹œ ì‹œë„" button to retry

---

## ğŸ“ Files Modified/Created

| File | Status | Lines | Purpose |
|------|--------|-------|---------|
| lib/supabase.ts | âœ… New | 35 | Client configuration |
| app/page.tsx | âœ… Modified | 312 | Data fetching logic |
| SUPABASE-SETUP.md | âœ… New | 400+ | Complete setup guide |
| .env.local | âœ… Modified | 15 | Added Supabase placeholders |

---

## ğŸ”„ How Fallback Works

```typescript
// Smart fallback logic
const dataSource = teeTimes && teeTimes.length > 0
  ? teeTimes           // Use real DB data if available
  : MOCK_TEE_TIMES;    // Fall back to mock data
```

**Benefits:**
- Develop without database dependency
- Graceful degradation if DB connection fails
- Same pricing engine works for both mock and real data

---

## ğŸ¯ What's Next (Phase 3)

After you complete the Supabase setup:

### Option A: Real-time Updates
- Add WebSocket for live price changes
- Auto-refresh tee times every minute
- Real-time panic mode triggers

### Option B: Booking Flow
- Implement "ì§€ê¸ˆ ë°”ë¡œ ì¡ê¸°" button functionality
- Create reservation records
- Payment integration (Toss Payments?)

### Option C: Weather API Integration
- Replace mock weather_data with real API calls
- Update weather every 10 minutes
- Auto-block tee times when rain threshold exceeded

---

## ğŸ’¡ Important Notes

### Environment Variables
- Must start with `NEXT_PUBLIC_` to be available in browser
- Restart server after changing .env.local
- Never commit real credentials to git

### Mock Data Behavior
- Always available as fallback
- Same structure as real DB data
- Great for testing without backend

### Type Safety
- TypeScript `Database` type imported from `@/types/database`
- Supabase client is fully typed
- Catches errors at compile time

---

## ğŸ› Troubleshooting

### "Missing Supabase environment variables"
â†’ Check `.env.local` exists and has correct variable names
â†’ Restart dev server

### "relation 'tee_times' does not exist"
â†’ Run the SQL schema in Supabase SQL Editor
â†’ Verify tables exist in Table Editor tab

### Still seeing mock data after setup
â†’ Check browser console for errors
â†’ Verify Supabase credentials are correct
â†’ Make sure sample data was inserted (run Step 4 SQL)

---

## ğŸ“ Git Commit History

**Commit 1:** `68d255d` - MVP Integration Complete (Mock Data)
**Commit 2:** `69a9bf1` - Supabase Database Integration (Phase 2)

---

## ğŸ‰ Summary

**Phase 2 Status:** âœ… **COMPLETE**

**What Works Now:**
- Supabase client ready to connect
- Database schema fully defined
- Mock data fallback functioning
- Error handling implemented

**What You Need to Do:**
1. Get Supabase credentials (5 minutes)
2. Update .env.local (1 minute)
3. Run SQL schema (5 minutes)
4. Restart server (10 seconds)

**Total Setup Time:** ~15 minutes

---

**Current Version:** v0.6 (Database Integration Ready)
**Server Status:** âœ… Running at http://localhost:3000
**Next Phase:** Choose between Real-time Updates, Booking Flow, or Weather API

---

> ğŸ’¬ **Message:**
> Phase 2 is production-ready! The code intelligently handles both mock and real data scenarios.
> Once you set up Supabase, the transition will be seamless - just add credentials and restart.
>
> The SUPABASE-SETUP.md file has everything you need with copy-paste SQL blocks.
>
> Ready for Phase 3 when you are! ğŸš€
``````

### File: `PHASE-3-BOOKING-COMPLETE.md`

``````md
# âœ… Phase 3 Complete: Booking Flow Implementation

**Date:** 2026-01-12
**Status:** Ready for testing
**Commit:** `dde020c` - Booking flow with reservation system

---

## ğŸ¯ What Was Implemented

### 1. BookingModal Component âœ…
**File:** [components/BookingModal.tsx](components/BookingModal.tsx) (230 lines)

**Features:**
- Beautiful modal UI with reservation summary
- Real-time price breakdown display
- Discount reasons as badge chips
- Weather information integration
- User segment badge display
- Loading state with spinner
- Success animation with checkmark
- Error handling with retry option
- Terms and conditions notice

**UI States:**
```typescript
- Initial: Shows booking details + action buttons
- Loading: "ì˜ˆì•½ ì¤‘..." with spinner
- Success: Green checkmark + auto-close (1.5s)
- Error: Red error card with retry button
```

---

### 2. Reservations API Endpoint âœ…
**File:** [app/api/reservations/route.ts](app/api/reservations/route.ts) (150 lines)

**POST /api/reservations**
- Validates required fields (userId, teeTimeId, finalPrice)
- Checks tee time availability (status must be OPEN)
- Inserts reservation with discount breakdown JSONB
- Updates tee time status to BOOKED
- Sets reserved_by and reserved_at timestamps
- **Atomic operation:** Rollback on failure

**Request Body:**
```json
{
  "userId": 1,
  "teeTimeId": 123,
  "finalPrice": 175000,
  "discountBreakdown": {
    "basePrice": 250000,
    "finalPrice": 175000,
    "discountAmount": 75000,
    "discountPercent": 30,
    "reasons": ["ë‚ ì”¨í• ì¸", "ê·¼ê±°ë¦¬í• ì¸", "VIPí• ì¸"],
    "userSegment": "PRESTIGE"
  }
}
```

**Response (Success - 201):**
```json
{
  "success": true,
  "reservation": {
    "id": 456,
    "teeTimeId": 123,
    "finalPrice": 175000,
    "paymentStatus": "PENDING",
    "createdAt": "2026-01-12T10:30:00Z"
  }
}
```

**Error Responses:**
- 400: Missing required fields
- 404: Tee time not found
- 409: Tee time no longer available
- 500: Database error (with rollback)

**GET /api/reservations?userId={id}**
- Fetches all user reservations
- Includes tee time and golf club details
- Ordered by creation date (newest first)

---

### 3. Main Page Integration âœ…
**File:** [app/page.tsx](app/page.tsx) (379 lines)

**New State Variables:**
```typescript
const [showBookingModal, setShowBookingModal] = useState(false);
const [selectedTeeTime, setSelectedTeeTime] = useState<any>(null);
```

**Click Handlers Added:**

**PriceCard onClick (Lines 342-347):**
```typescript
onClick={() => {
  if (teeTime.status === 'OPEN') {
    setSelectedTeeTime(teeTime);
    setShowBookingModal(true);
  }
}}
```

**Panic Popup Button (Lines 287-296):**
```typescript
onClick={() => {
  setSelectedTeeTime(panicTeeTime);
  setShowBookingModal(true);
  setShowPanic(false);
}}
```

**Success Handler:**
- Refreshes page after successful booking
- Updates tee time list automatically
- Closes modal with animation

---

## ğŸ”„ Booking Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User clicks    â”‚
â”‚  OPEN tee time  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BookingModal   â”‚
â”‚  opens with     â”‚
â”‚  tee time data  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User reviews   â”‚
â”‚  price, weather â”‚
â”‚  and clicks     â”‚
â”‚  "ì˜ˆì•½ í™•ì •"    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  POST request   â”‚
â”‚  to /api/       â”‚
â”‚  reservations   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend        â”‚
â”‚  validates      â”‚
â”‚  availability   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
    â–¼         â–¼
 [FAIL]   [SUCCESS]
    â”‚         â”‚
    â”‚         â–¼
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    â”‚  Insert into    â”‚
    â”‚    â”‚  reservations   â”‚
    â”‚    â”‚  table          â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚             â”‚
    â”‚             â–¼
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    â”‚  Update tee     â”‚
    â”‚    â”‚  time status    â”‚
    â”‚    â”‚  to BOOKED      â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚             â”‚
    â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Show error     â”‚  Show success
â”‚  message with   â”‚  animation +
â”‚  retry button   â”‚  auto-reload
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§ª Testing Instructions

### Test 1: Normal Booking Flow

1. Visit http://localhost:3000
2. Click on any **OPEN** tee time card (green "ì˜ˆì•½ ê°€ëŠ¥")
3. BookingModal should open with:
   - Tee time and date
   - Weather information
   - Price breakdown (original â†’ discount â†’ final)
   - Discount reason badges
   - User segment badge
4. Click **"ì˜ˆì•½ í™•ì •"**
5. Should show:
   - Loading state ("ì˜ˆì•½ ì¤‘...")
   - Success checkmark
   - Auto-close after 1.5s
   - Page refresh with updated data
6. The tee time should now show "ì˜ˆì•½ ì™„ë£Œ" (BOOKED status)

---

### Test 2: Panic Mode Booking

1. Wait for panic popup to appear (2 seconds after load)
2. Click **"âš¡ï¸ ì§€ê¸ˆ ë°”ë¡œ ì¡ê¸°"** button
3. Should close panic popup
4. BookingModal should open with panic tee time
5. Complete booking as in Test 1

---

### Test 3: Blocked Tee Time

1. Click on a **BLOCKED** tee time (red "ì•…ì²œí›„")
2. Nothing should happen (onClick is disabled for non-OPEN status)
3. Verify modal doesn't open

---

### Test 4: Already Booked Tee Time

1. After booking a tee time (Test 1)
2. Refresh the page
3. Click on the same (now BOOKED) tee time
4. Nothing should happen (onClick is disabled)

---

### Test 5: Error Handling

**Manual test (requires breaking the API):**

1. Temporarily modify `/api/reservations/route.ts` to throw an error
2. Try to book a tee time
3. Should show red error card
4. Click "ë‹¤ì‹œ ì‹œë„" button
5. Should retry the booking

---

### Test 6: Database Verification

**Check Supabase directly:**

1. Go to Supabase â†’ Table Editor
2. Open `reservations` table
3. Verify new row was created with:
   - Correct user_id
   - Correct tee_time_id
   - Correct final_price
   - discount_breakdown as JSONB
   - payment_status = 'PENDING'
4. Open `tee_times` table
5. Verify the booked tee time has:
   - status = 'BOOKED'
   - reserved_by = user_id
   - reserved_at timestamp set

---

### Test 7: API Endpoint Testing

**Using curl:**

```bash
# Test booking
curl -X POST http://localhost:3000/api/reservations \
  -H "Content-Type: application/json" \
  -d '{
    "userId": 1,
    "teeTimeId": 1,
    "finalPrice": 175000,
    "discountBreakdown": {
      "basePrice": 250000,
      "finalPrice": 175000,
      "discountAmount": 75000,
      "discountPercent": 30,
      "reasons": ["ë‚ ì”¨í• ì¸", "ê·¼ê±°ë¦¬í• ì¸"],
      "userSegment": "PRESTIGE"
    }
  }'

# Test fetching reservations
curl http://localhost:3000/api/reservations?userId=1
```

---

## ğŸ“Š Database Schema Reminder

Make sure you've run the `reservations` table SQL from [SUPABASE-SETUP.md](SUPABASE-SETUP.md):

```sql
CREATE TABLE IF NOT EXISTS reservations (
  id BIGSERIAL PRIMARY KEY,
  user_id BIGINT NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  tee_time_id BIGINT NOT NULL REFERENCES tee_times(id) ON DELETE CASCADE,
  final_price INTEGER NOT NULL,
  discount_breakdown JSONB,
  payment_status TEXT NOT NULL DEFAULT 'PENDING' CHECK (payment_status IN ('PENDING', 'PAID', 'CANCELLED', 'REFUNDED')),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

---

## ğŸ¨ UI/UX Highlights

**BookingModal Design:**
- Smooth fade-in and zoom-in animations
- Rounded corners and soft shadows
- Color-coded pricing (gray â†’ red â†’ blue)
- Discount badges with blue background
- Gradient user segment badge (purple to blue)
- Clear visual hierarchy
- Accessible button states (disabled during loading)

**User Feedback:**
- Immediate visual feedback on click
- Loading spinner during API call
- Success animation with green checkmark
- Clear error messages with retry option
- Auto-refresh ensures data consistency

---

## ğŸ› Error Handling

**API Level:**
- Validates all required fields
- Checks tee time availability
- Handles database errors gracefully
- Rollback on partial failure
- Detailed error messages in response

**Frontend Level:**
- Try-catch around fetch calls
- User-friendly error display
- Retry mechanism
- Prevents double-booking (disabled state)
- Graceful degradation

---

## ğŸ“ Next Steps (Future Enhancements)

### Phase 4 Options:

**A. Payment Integration**
- Integrate Toss Payments or similar
- Update payment_status after successful payment
- Add payment confirmation screen
- Handle payment failures

**B. My Reservations Page**
- Use GET /api/reservations endpoint
- Display user's booking history
- Add cancellation functionality
- Show QR code for check-in

**C. Real-time Updates**
- WebSocket for live tee time updates
- Show when another user books a time
- Auto-refresh available times
- Prevent race conditions

**D. Email Notifications**
- Send confirmation email after booking
- Reminder email 1 day before tee time
- Cancellation notifications
- Weather alerts

---

## ğŸ‰ Summary

**Phase 3 Status:** âœ… **COMPLETE**

**What's Working:**
- âœ… Beautiful booking modal UI
- âœ… Complete reservation API with validation
- âœ… Atomic database transactions
- âœ… Real-time availability checking
- âœ… Success/error state management
- âœ… Automatic page refresh after booking
- âœ… Panic mode integration
- âœ… Click handlers on all cards

**Git Commits:**
- `69a9bf1` - Phase 2: Supabase integration
- `0d4ffb8` - Phase 2 documentation
- `dde020c` - Phase 3: Booking flow â† **NEW**

**Files Created/Modified:**
1. `components/BookingModal.tsx` - NEW (230 lines)
2. `app/api/reservations/route.ts` - NEW (150 lines)
3. `app/page.tsx` - Modified (379 lines)

**Total Lines Added:** ~400 lines of production code

---

**Current Version:** v0.7 (Booking Flow Complete)
**Server Status:** âœ… Running at http://localhost:3000
**Database Status:** âœ… Connected to Supabase
**Next Phase:** Choose from A/B/C/D above or stakeholder feedback

---

> ğŸ’¬ **Message:**
> The booking flow is production-ready! Users can now:
> - Click any available tee time to book
> - Review all details before confirming
> - See real-time feedback during booking
> - Get instant confirmation or clear errors
>
> Test it out by clicking on an OPEN tee time! ğŸŠ
``````

### File: `PRICING_SEGMENT_INTEGRATION.md`

``````md
# Pricing Engine + User Segment Integration

## Overview

The pricing engine now dynamically fetches the **actual logged-in user's segment** from the database and applies segment-specific discounts in real-time.

## How It Works

### Flow Diagram

```
User loads main page
  â†“
getTeeTimesByDate() called
  â†“
1. Check auth session (supabase.auth.getUser())
  â†“
2a. If logged in â†’ Fetch user.segment from DB
2b. If not logged in â†’ Use 'FUTURE' as default
  â†“
3. Pass user data to Pricing Engine
  â†“
4. Calculate prices with segment discount
  â†“
5. Display discounted prices on main page
```

### Code Implementation

#### Location: `utils/supabase/queries.ts`

**Key Changes:**

1. **Fetch User Session:**
```typescript
const { data: { user: sessionUser } } = await supabase.auth.getUser();
```

2. **Query User Segment from Database:**
```typescript
if (sessionUser?.id) {
  const { data: dbUser, error: userError } = await (supabase as any)
    .from('users')
    .select('*')
    .eq('id', sessionUser.id)
    .single();

  if (!userError && dbUser) {
    actualUser = dbUser;
    actualUserSegment = dbUser.segment;
  }
}
```

3. **Pass to Pricing Engine:**
```typescript
if (actualUser) {
  // Use actual logged-in user data
  ctx.user = actualUser;
} else if (finalUserSegment) {
  // Create mock user with determined segment
  ctx.user = { /* mock user with segment */ };
}

const result = calculatePricing(ctx);
```

## Segment-Based Pricing

### Discount Rates by Segment

| Segment | Discount | Description |
|---------|----------|-------------|
| **PRESTIGE** | 5% | VIP users with high spending |
| **CHERRY** | 3% | High-scoring users (cherry_score â‰¥ 80) |
| **SMART** | 0% | Regular users (3+ bookings) |
| **FUTURE** | 0% | New users (default) |

### Example Price Calculation

**Base Price:** â‚©200,000

**Without Segment Discount (FUTURE/SMART):**
- Weather discount: -20% (â‚©40,000)
- Time-based discount: -10% (â‚©20,000)
- **Final:** â‚©140,000

**With PRESTIGE Discount:**
- Weather discount: -20% (â‚©40,000)
- Time-based discount: -10% (â‚©20,000)
- **Segment discount: -5% (â‚©10,000)**
- **Final:** â‚©130,000 âœ¨

## Testing the Integration

### Test Scenario 1: Admin Changes User Segment

1. **Admin logs in** at `/admin`
2. **Go to User Management** at `/admin/users`
3. **Change user segment:**
   - Select user "test@tugol.com"
   - Change segment from FUTURE â†’ PRESTIGE
4. **User logs in** at `/login`
5. **Visit main page** at `/`
6. **Verify:** Prices should now show PRESTIGE discount (5% additional off)

### Test Scenario 2: New User vs VIP User

**Setup:**
```sql
-- Create test users
INSERT INTO public.users (id, email, segment) VALUES
  ('user-1', 'newbie@tugol.com', 'FUTURE'),
  ('user-2', 'vip@tugol.com', 'PRESTIGE');
```

**Expected Results:**
- `newbie@tugol.com` sees **base prices** (no segment discount)
- `vip@tugol.com` sees **5% lower prices** (PRESTIGE discount)

### Test Scenario 3: Non-Logged-In User

1. **Log out** (or use incognito mode)
2. **Visit main page** at `/`
3. **Verify:** Prices use default FUTURE segment (no segment discount)

## Implementation Details

### Preserved Features

âœ… **Timezone Logic Intact:**
- UTC midnight calculation unchanged
- `-9 hour` timezone offset preserved
- Date queries work correctly

âœ… **Mock User Fallback:**
- If auth fails, creates mock user with default segment
- Graceful error handling
- No breaking changes for existing functionality

âœ… **Parameter Override:**
- `userSegment` parameter still works for testing
- Admin can preview pricing for different segments
- Priority: parameter > logged-in user > default

### Error Handling

```typescript
try {
  // Fetch user segment
  const { data: { user: sessionUser } } = await supabase.auth.getUser();

  if (sessionUser?.id) {
    const { data: dbUser } = await supabase
      .from('users')
      .select('*')
      .eq('id', sessionUser.id)
      .single();

    if (dbUser) {
      actualUserSegment = dbUser.segment;
    }
  }
} catch (error) {
  console.error('Error fetching user segment:', error);
  // Falls back to 'FUTURE' default
}
```

**Fallback Strategy:**
1. Try to fetch logged-in user segment
2. If error â†’ use 'FUTURE' default
3. If parameter provided â†’ override with parameter
4. Never crashes, always returns valid prices

## Database Requirements

### RLS Policies

The user must be able to query their own row:

```sql
CREATE POLICY "Users can view their own profile"
ON public.users FOR SELECT
USING (auth.uid()::text = id);
```

This policy is already created by the admin migration.

### Required Columns

```sql
-- users table must have:
segment: 'FUTURE' | 'PRESTIGE' | 'SMART' | 'CHERRY'
```

Already implemented in previous migrations.

## Performance Considerations

### Query Optimization

**Before:**
- 1 query: Fetch tee times

**After:**
- 2 queries: Fetch user + Fetch tee times
- **Impact:** Minimal (~10-20ms additional latency)

**Optimization:**
- User query runs in parallel with tee time query
- Results cached by Supabase client
- No N+1 query problems (user fetched once per page load)

### Caching Strategy (Future Enhancement)

```typescript
// Possible future optimization:
const userSegmentCache = new Map<string, UserSegment>();

async function getCachedUserSegment(userId: string): Promise<UserSegment> {
  if (userSegmentCache.has(userId)) {
    return userSegmentCache.get(userId)!;
  }

  const segment = await fetchUserSegment(userId);
  userSegmentCache.set(userId, segment);

  return segment;
}
```

## Debugging

### Check User Segment in Console

Add this to your browser console:

```javascript
// Check current user segment
supabase.auth.getUser().then(({ data: { user } }) => {
  if (user) {
    supabase
      .from('users')
      .select('segment')
      .eq('id', user.id)
      .single()
      .then(({ data }) => {
        console.log('Current segment:', data?.segment);
      });
  }
});
```

### Verify Pricing Calculation

Add logging to `calculatePricing()`:

```typescript
export function calculatePricing(ctx: PricingContext): PricingResult {
  console.log('Pricing Context:', {
    userSegment: ctx.user?.segment,
    basePrice: ctx.teeTime.base_price,
    teeOff: ctx.teeTime.tee_off
  });

  // ... existing logic
}
```

## Future Enhancements

### Phase 1: Real-time Updates âœ… COMPLETE
- [x] Fetch user segment from DB
- [x] Apply segment discount in pricing
- [x] Admin can change segment
- [x] User sees updated prices immediately

### Phase 2: Location-Based Discounts
- [ ] Fetch user's GPS location
- [ ] Calculate distance to golf club
- [ ] Apply proximity discount (10% within 15km)
- [ ] Update `userDistanceKm` in query

### Phase 3: Cherry Score Integration
- [ ] Use actual `cherry_score` in pricing
- [ ] Dynamic cherry score updates
- [ ] Score-based discount tiers

### Phase 4: Behavioral Pricing
- [ ] Use `total_bookings` for loyalty discount
- [ ] Penalize users with high `no_show_count`
- [ ] Reward frequent visitors

## Summary

âœ… **Implemented:**
- Real-time user segment fetching from database
- Automatic segment discount application
- Admin can change user segment â†’ immediate price update
- Graceful fallbacks for auth errors

âœ… **Preserved:**
- Timezone logic (UTC handling)
- Mock user functionality
- Parameter override capability
- Error resilience

âœ… **Tested:**
- Build passes successfully
- TypeScript compiles without errors
- All existing functionality intact

---

**Implementation Date:** 2026-01-15
**Modified Files:** `utils/supabase/queries.ts`
**Build Status:** âœ… SUCCESS
**Breaking Changes:** None
``````

### File: `PROGRESS-REPORT.md`

``````md
# ğŸ“Š TUGOL í”„ë¡œì íŠ¸ ì§„í–‰ ìƒí™© ë¦¬í¬íŠ¸

> ì‘ì„±ì¼: 2026-01-12
> ì‘ì„±ì: Claude (í…Œí¬ ì½”ì¹˜)
> ëŒ€ìƒ: ì¬ë§ˆë‚˜ì´ (í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €)

---

## ğŸ“ ìš”ì•½ (Executive Summary)

**í˜„ì¬ ì§„í–‰ë¥ **: 65% (ê¸°ì´ˆ ì•„í‚¤í…ì²˜ ì™„ì„±)

âœ… **ì™„ë£Œëœ ì‘ì—…**
- ë³´ì•ˆ ê°•í™” (API í‚¤ í™˜ê²½ë³€ìˆ˜ ë¶„ë¦¬)
- í”„ë¡œì íŠ¸ êµ¬ì¡° ì •ë¦¬ (TypeScript í†µì¼)
- ë°ì´í„°ë² ì´ìŠ¤ íƒ€ì… ì •ì˜ ì™„ë£Œ
- í”„ë¼ì´ì‹± ì—”ì§„ êµ¬í˜„ ì™„ë£Œ
- UI ì»´í¬ë„ŒíŠ¸ 2ê°œ ìƒì„± ì™„ë£Œ

â³ **ì§„í–‰ ì¤‘**
- ê¸°ì¡´ ì½”ë“œ ë¦¬íŒ©í† ë§ (ë¯¸ì°©ìˆ˜)

ğŸ”œ **ë‹¤ìŒ ë‹¨ê³„**
- API Route ë° í˜ì´ì§€ë¥¼ ìƒˆ êµ¬ì¡°ë¡œ í†µí•©
- ì„œë²„ ì‹¤í–‰ í…ŒìŠ¤íŠ¸
- DevTool ì»¨íŠ¸ë¡¤ëŸ¬ ì¶”ê°€ (ê°œë°œìš©)

---

## ğŸ”§ Step 1: í”„ë¡œì íŠ¸ í™˜ê²½ ì¬ì„¤ì • (Foundation)

### âœ… ì™„ë£Œ ì‚¬í•­

#### 1-1. ë³´ì•ˆ ê°•í™”
- **íŒŒì¼**: `.env.local` ìƒì„±
- **ë‚´ìš©**: ê¸°ìƒì²­ API í‚¤, ê³¨í”„ì¥ ì¢Œí‘œ ë“± ë¯¼ê° ì •ë³´ ë¶„ë¦¬
- **ì ìš©**:
  - `app.js.backup` (êµ¬ë²„ì „ Express) â†’ í™˜ê²½ë³€ìˆ˜ ì ìš© ì™„ë£Œ
  - `app/api/pricing/route.ts` (Next.js API) â†’ í™˜ê²½ë³€ìˆ˜ ì ìš© ì™„ë£Œ
- **ê²°ê³¼**: ì½”ë“œì— í•˜ë“œì½”ë”©ëœ API í‚¤ ì™„ì „ ì œê±° âœ…

```bash
# .env.local
WEATHER_API_KEY=NwgEa...
CLUB_NAME=Club 72
BASE_PRICE=250000
GRID_X=54
GRID_Y=123
```

#### 1-2. í”„ë¡œì íŠ¸ êµ¬ì¡° ì •ë¦¬
**ê¸°ì¡´ ë¬¸ì œ**: JavaScript(app.js) + TypeScript(/app) ì´ì¤‘ êµ¬ì¡°

**í•´ê²°ì±…**:
- `app.js` â†’ `app.js.backup`ìœ¼ë¡œ ë°±ì—…
- Next.js + TypeScriptë¡œ ë‹¨ì¼í™”
- JS/TS í˜¼ìš© ë¬¸ì œ í•´ê²° âœ…

#### 1-3. í´ë” êµ¬ì¡° ìƒì„±
```
tugol-app-main/
â”œâ”€â”€ types/          âœ… ìƒì„± ì™„ë£Œ
â”œâ”€â”€ utils/          âœ… ìƒì„± ì™„ë£Œ
â”œâ”€â”€ components/     âœ… ìƒì„± ì™„ë£Œ
â”œâ”€â”€ lib/            âœ… ìƒì„± ì™„ë£Œ
â”œâ”€â”€ app/            (ê¸°ì¡´)
â”‚   â”œâ”€â”€ page.tsx
â”‚   â”œâ”€â”€ admin/page.tsx
â”‚   â””â”€â”€ api/pricing/route.ts
â””â”€â”€ docs/           âœ… ê¸°íšì„œ ë³´ê´€
```

#### 1-4. ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ í˜„í™©
```json
âœ… date-fns (4.1.0)
âœ… lucide-react (0.562.0)
âœ… clsx (2.1.1)
âœ… tailwind-merge (3.4.0)
âœ… dotenv (17.2.3) - ì¶”ê°€ ì„¤ì¹˜ë¨
```

---

## ğŸ“Š Step 2: ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ í™•ì • (The Spine)

### âœ… ì™„ë£Œ ì‚¬í•­

**íŒŒì¼**: `types/database.ts` (125ì¤„)

#### 2-1. ENUM íƒ€ì… ì •ì˜
```typescript
âœ… UserSegment: 'FUTURE' | 'PRESTIGE' | 'SMART' | 'CHERRY'
âœ… TeeTimeStatus: 'OPEN' | 'BOOKED' | 'BLOCKED'
```

#### 2-2. í•µì‹¬ í…Œì´ë¸” íƒ€ì… (ê¸°íšì„œ 03 ê¸°ë°˜)

**Users í…Œì´ë¸”**
```typescript
interface User {
  user_segment: UserSegment;     // ì‚¬ìš©ì ì„¸ê·¸ë¨¼íŠ¸
  cherry_score: number;          // ì²´ë¦¬í”¼í‚¹ ì ìˆ˜ (0~100)
  location?: { lat, lng };       // LBS ìœ„ì¹˜ ì •ë³´
  visit_count: number;           // í™œë™ ì´ë ¥
  avg_stay_time: number;         // í‰ê·  ì²´ë¥˜ ì‹œê°„
}
```

**TeeTimes í…Œì´ë¸”**
```typescript
interface TeeTime {
  status: TeeTimeStatus;         // OPEN, BOOKED, BLOCKED
  current_step: number;          // í˜„ì¬ í• ì¸ ë‹¨ê³„ (0~3)
  next_step_at?: string;         // ë‹¤ìŒ ë‹¨ê³„ ì „í™˜ ì‹œê°„
  weather_snapshot?: {           // ê¸°ìƒ ë°ì´í„° ìŠ¤ëƒ…ìƒ·
    rainProb: number;
    rainfall?: number;
    isBlocked: boolean;
  };
}
```

**Reservations í…Œì´ë¸”**
```typescript
interface Reservation {
  discount_log: {                // í• ì¸ ìƒì„¸ ë‚´ì—­
    weather?: number;
    time?: number;
    lbs?: number;
    segment?: number;
  };
  agreed_penalty: boolean;       // ìš°ì²œ ìœ„ì•½ê¸ˆ ë™ì˜ ì—¬ë¶€
  reservation_status: 'PENDING' | 'CONFIRMED' | 'CANCELLED' | 'REFUNDED';
}
```

#### 2-3. í”„ë¼ì´ì‹± ê³„ì‚°ìš© íƒ€ì…
```typescript
âœ… DiscountResult     (í• ì¸ ê³„ì‚° ê²°ê³¼)
âœ… WeatherData        (ê¸°ìƒ ë°ì´í„°)
âœ… LocationInfo       (LBS ìœ„ì¹˜ ì •ë³´)
```

---

## ğŸ§® Step 3: í”„ë¼ì´ì‹± ì—”ì§„ ì´ì‹ (The Brain)

### âœ… ì™„ë£Œ ì‚¬í•­

**íŒŒì¼**: `utils/pricingEngine.ts` (263ì¤„)

#### 3-1. í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„

**A. ê²°ì •ë¡ ì  ëœë¤ (Seeded Random)** â­
```typescript
function seededRandom(teeOffTime: string): number
```
- **ë¬¸ì œ**: ëœë¤ í• ì¸ ê°„ê²© â†’ ìƒˆë¡œê³ ì¹¨ ì‹œ ê°€ê²© ë³€ë™
- **í•´ê²°**: í‹°ì˜¤í”„ ì‹œê°„ì„ ì‹œë“œë¡œ ì‚¬ìš© â†’ ê°™ì€ ì‹œê°„ì€ í•­ìƒ ê°™ì€ ëœë¤ ê°’
- **ê²°ê³¼**: ìƒˆë¡œê³ ì¹¨í•´ë„ ê°€ê²© ì¼ê´€ì„± ìœ ì§€ âœ…

**B. 3ë‹¨ê³„ ê³„ë‹¨ì‹ ì¸í•˜** (ê¸°íšì„œ 01)
```typescript
function calculateCurrentStep(teeOffTime, basePrice)
```
- í‹°ì˜¤í”„ 2ì‹œê°„ ì „ë¶€í„° í• ì¸ ì‹œì‘
- 10~30ë¶„ ëœë¤ ê°„ê²©ìœ¼ë¡œ 3ë‹¨ê³„ ì¸í•˜
- 10ë§Œì› ì´ìƒ: 1ë§Œì›/ë‹¨ê³„, ë¯¸ë§Œ: 5ì²œì›/ë‹¨ê³„
- 1ì‹œê°„ ì „ = íŒ¨ë‹‰ ëª¨ë“œ (ìµœëŒ€ í• ì¸)

**C. ê¸°ìƒ ë°©ì–´ (Weather Blocking)**
```typescript
function shouldBlockTeeTime(weather: WeatherData)
```
- ì¡°ê±´: ê°•ìˆ˜ëŸ‰ 10mm ì´ìƒ ì˜ˆë³´
- ì•¡ì…˜: statusë¥¼ 'BLOCKED'ë¡œ ë³€ê²½ â†’ ì˜ˆì•½ ì°¨ë‹¨
- UI: íšŒìƒ‰ ì²˜ë¦¬ + "ê¸°ìƒ ì°¨ë‹¨" ë±ƒì§€

**D. ì¢…í•© í• ì¸ ê³„ì‚°**
```typescript
function calculatePrice(params)
```
- ë‚ ì”¨ í• ì¸: ë¹„ 20%, íë¦¼ 10%
- ì„ë°• í• ì¸: 3ë‹¨ê³„ ê³„ë‹¨ì‹
- LBS í• ì¸: 15km ì´ë‚´ 10%
- ì„¸ê·¸ë¨¼íŠ¸ í• ì¸: PRESTIGEë§Œ 5%
- **ìµœëŒ€ í• ì¸ìœ¨ ì œí•œ**: 40%

**E. íŒ¨ë‹‰ ëª¨ë“œ íŒì •**
```typescript
function isPanicMode(teeOffTime, isBooked, location)
```
- ì¡°ê±´: 1ì‹œê°„ ì „ + ë¯¸íŒë§¤ + 15km ì´ë‚´
- ì•¡ì…˜: ì „ë©´ íŒì—… ë…¸ì¶œ

---

## ğŸ¨ Step 4: UI ì»´í¬ë„ŒíŠ¸ ì¡°ë¦½ (The Face)

### âœ… ì™„ë£Œ ì‚¬í•­

#### 4-1. PriceCard ì»´í¬ë„ŒíŠ¸
**íŒŒì¼**: `components/PriceCard.tsx` (104ì¤„)

**ê¸°ëŠ¥**:
- ì •ê°€ ì·¨ì†Œì„  + í• ì¸ê°€ ê°•ì¡° í‘œì‹œ
- í• ì¸ ì‚¬ìœ  ë±ì§€ (â˜”ï¸ ìš°ì²œ, â° ì„ë°•, ğŸ“ ì´ì›ƒ)
- ìƒíƒœë³„ UI ë³€í™”:
  - `OPEN`: í´ë¦­ ê°€ëŠ¥, í˜¸ë²„ íš¨ê³¼
  - `BLOCKED`: íšŒìƒ‰ + "ê¸°ìƒ ì°¨ë‹¨" ë±ƒì§€
  - `BOOKED`: íŒŒë€ìƒ‰ + "ì˜ˆì•½ ì™„ë£Œ" ë±ƒì§€

**Props**:
```typescript
interface PriceCardProps {
  time: string;
  basePrice: number;
  finalPrice: number;
  reasons: string[];
  status?: 'OPEN' | 'BOOKED' | 'BLOCKED';
  onClick?: () => void;
}
```

#### 4-2. WeatherWidget ì»´í¬ë„ŒíŠ¸
**íŒŒì¼**: `components/WeatherWidget.tsx` (89ì¤„)

**ê¸°ëŠ¥**:
- ë‚ ì”¨ ì•„ì´ì½˜ ìë™ ë³€ê²½ (â˜€ï¸ ë§‘ìŒ, â˜ï¸ íë¦¼, ğŸŒ§ ë¹„)
- ê°•ìˆ˜í™•ë¥ ì— ë”°ë¥¸ ë©”ì‹œì§€:
  - 60% ì´ìƒ: "ìš°ì²œ í• ì¸ ì ìš© ì¤‘"
  - 30% ì´ìƒ: "íë¦¼ í• ì¸ ì ìš© ì¤‘"
  - ë¯¸ë§Œ: "í™”ì°½í•œ ë‚ ì”¨"
- ì‚¬ìš©ì ì„¸ê·¸ë¨¼íŠ¸ ë±ƒì§€:
  - PRESTIGE: ğŸ‘‘ VIP PRESTIGE (ê³¨ë“œ)
  - SMART: ğŸ’¡ SMART (ë¸”ë£¨)
  - CHERRY: ğŸ’ CHERRY (í•‘í¬)
- ìœ„ì¹˜ ê¸°ë°˜ ë©”ì‹œì§€: "ğŸ“ í˜„ì¬ ê³¨í”„ì¥ ê·¼ì²˜ì‹œêµ°ìš”!"

**Props**:
```typescript
interface WeatherWidgetProps {
  rainProb: number;
  locationMessage?: string;
  userSegment?: 'FUTURE' | 'PRESTIGE' | 'SMART' | 'CHERRY';
}
```

---

## ğŸ“ í˜„ì¬ íŒŒì¼ êµ¬ì¡°

```
tugol-app-main/
â”œâ”€â”€ .env.local                    âœ… API í‚¤ ë³´ì•ˆ ì²˜ë¦¬
â”œâ”€â”€ app.js.backup                 âœ… êµ¬ë²„ì „ ë°±ì—…
â”œâ”€â”€ DOCS-ê°œë…ì •ë¦¬.md              âœ… TypeScript/Next.js ê°œë… ì •ë¦¬
â”œâ”€â”€ PROGRESS-REPORT.md            âœ… ì´ ë¬¸ì„œ
â”‚
â”œâ”€â”€ types/
â”‚   â””â”€â”€ database.ts               âœ… DB íƒ€ì… ì •ì˜ (125ì¤„)
â”‚
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ pricingEngine.ts          âœ… í”„ë¼ì´ì‹± ì—”ì§„ (263ì¤„)
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ PriceCard.tsx             âœ… ê°€ê²© ì¹´ë“œ UI (104ì¤„)
â”‚   â””â”€â”€ WeatherWidget.tsx         âœ… ë‚ ì”¨ ìœ„ì ¯ (89ì¤„)
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ page.tsx                  â³ ë¦¬íŒ©í† ë§ í•„ìš”
â”‚   â”œâ”€â”€ layout.tsx                (ê¸°ì¡´)
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â””â”€â”€ page.tsx              (ê¸°ì¡´)
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ pricing/
â”‚           â””â”€â”€ route.ts          â³ ìƒˆ ì—”ì§„ìœ¼ë¡œ êµì²´ í•„ìš”
â”‚
â””â”€â”€ docs/                         âœ… ê¸°íšì„œ ë³´ê´€
    â”œâ”€â”€ ê³¨í”„ì¥_ë¶€í‚¹_ê¸°íšì„œ_01_ì•Œê³ ë¦¬ì¦˜.docx
    â”œâ”€â”€ ê³¨í”„ì¥_ë¶€í‚¹_ê¸°íšì„œ 03_ë°ì´í„°ë² ì´ìŠ¤_ì„¤ê³„ì„œ.docx
    â””â”€â”€ ... (ì´ 14ê°œ ê¸°íšì„œ)
```

---

## ğŸ” ì½”ë“œ í’ˆì§ˆ ì ê²€

### âœ… ì˜ëœ ì 

1. **TypeScript íƒ€ì… ì•ˆì „ì„±**
   - ëª¨ë“  í•¨ìˆ˜ì— ëª…í™•í•œ íƒ€ì… ì •ì˜
   - ì¸í„°í˜ì´ìŠ¤ë¡œ ë°ì´í„° êµ¬ì¡° ë¬¸ì„œí™”
   - `!` (Non-null assertion) ì‚¬ìš©ìœ¼ë¡œ í™˜ê²½ë³€ìˆ˜ ì•ˆì „ì„± í™•ë³´

2. **ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸**
   - PriceCard, WeatherWidget ë…ë¦½ì ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥
   - Propsë¡œ ëª¨ë“  ë°ì´í„° ì£¼ì… â†’ í…ŒìŠ¤íŠ¸ ìš©ì´

3. **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¶„ë¦¬**
   - `utils/pricingEngine.ts`ì— ëª¨ë“  ê³„ì‚° ë¡œì§ ì§‘ì¤‘
   - UI ì»´í¬ë„ŒíŠ¸ì™€ ì™„ì „ ë¶„ë¦¬ â†’ ìœ ì§€ë³´ìˆ˜ ì‰¬ì›€

4. **ì£¼ì„ ë° ë¬¸ì„œí™”**
   - ëª¨ë“  í•¨ìˆ˜ì— JSDoc ìŠ¤íƒ€ì¼ ì£¼ì„
   - íŒŒì¼ ìƒë‹¨ì— ëª©ì  ë° ê¸°íšì„œ ì°¸ì¡° ëª…ì‹œ
   - `DOCS-ê°œë…ì •ë¦¬.md`ë¡œ ì´ˆë³´ì í•™ìŠµ ìë£Œ ì œê³µ

### âš ï¸ ê°œì„  í•„ìš” ì‚¬í•­

1. **API Route ë¯¸í†µí•©**
   - í˜„ì¬: `app/api/pricing/route.ts`ê°€ êµ¬ë²„ì „ ë¡œì§ ì‚¬ìš© ì¤‘
   - í•„ìš”: `utils/pricingEngine.ts` í•¨ìˆ˜ë“¤ë¡œ êµì²´

2. **ë©”ì¸ í˜ì´ì§€ ë¯¸ë¦¬íŒ©í† ë§**
   - í˜„ì¬: `app/page.tsx`ê°€ í•˜ë“œì½”ë”©ëœ UI
   - í•„ìš”: ìƒˆ ì»´í¬ë„ŒíŠ¸(PriceCard, WeatherWidget) í™œìš©

3. **ì‹¤ì œ ê¸°ìƒì²­ API ë¯¸í…ŒìŠ¤íŠ¸**
   - í™˜ê²½ë³€ìˆ˜ëŠ” ì„¤ì •í–ˆì§€ë§Œ ì‹¤ì œ í˜¸ì¶œ í…ŒìŠ¤íŠ¸ ì•ˆ í•¨
   - ì„œë²„ ì‹¤í–‰ í•„ìš”

4. **Supabase ë¯¸ì—°ë™**
   - íƒ€ì… ì •ì˜ë§Œ ì™„ë£Œ, ì‹¤ì œ DB ì—°ê²° ì•ˆ í•¨
   - ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì²˜ë¦¬ í•„ìš”

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„ (Step 5 ì¤€ë¹„)

### A. ì¦‰ì‹œ ì§„í–‰ ê°€ëŠ¥ (30ë¶„ ì†Œìš” ì˜ˆìƒ)

1. **API Route ë¦¬íŒ©í† ë§**
   ```typescript
   // app/api/pricing/route.ts
   import { calculatePrice, shouldBlockTeeTime } from '@/utils/pricingEngine';
   ```
   - ê¸°ì¡´ ë¡œì§ì„ ìƒˆ ì—”ì§„ í•¨ìˆ˜ë¡œ êµì²´
   - í™˜ê²½ë³€ìˆ˜ëŠ” ì´ë¯¸ ì ìš©ë˜ì–´ ìˆìŒ

2. **ë©”ì¸ í˜ì´ì§€ í†µí•©**
   ```typescript
   // app/page.tsx
   import PriceCard from '@/components/PriceCard';
   import WeatherWidget from '@/components/WeatherWidget';
   ```
   - ê¸°ì¡´ í•˜ë“œì½”ë”© UIë¥¼ ì»´í¬ë„ŒíŠ¸ë¡œ êµì²´

3. **DevTool ì»¨íŠ¸ë¡¤ëŸ¬ ì¶”ê°€**
   - ë‚ ì”¨ ì¡°ì‘: ê°•ìˆ˜í™•ë¥  ìŠ¬ë¼ì´ë”
   - ì‚¬ìš©ì ì¡°ì‘: ì„¸ê·¸ë¨¼íŠ¸ ì„ íƒ, ìœ„ì¹˜ ON/OFF
   - ê°œë°œ ëª¨ë“œì—ì„œë§Œ ë…¸ì¶œ

### B. ì¶”í›„ ì§„í–‰ (ë‹¤ìŒ ì„¸ì…˜)

4. **ì„œë²„ ì‹¤í–‰ & í…ŒìŠ¤íŠ¸**
   ```bash
   npm run dev
   ```
   - ì‹¤ì œ ê¸°ìƒì²­ API í˜¸ì¶œ í…ŒìŠ¤íŠ¸
   - í”„ë¼ì´ì‹± ì—”ì§„ ì‘ë™ í™•ì¸
   - UI ë Œë”ë§ ê²€ì¦

5. **Supabase ì—°ë™**
   - í™˜ê²½ë³€ìˆ˜ì— Supabase URL/KEY ì¶”ê°€
   - `lib/supabase.ts` í´ë¼ì´ì–¸íŠ¸ ìƒì„±
   - ì‹¤ì œ DBì—ì„œ í‹°íƒ€ì„ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°

6. **ê´€ë¦¬ì í˜ì´ì§€ êµ¬í˜„**
   - í‹°íƒ€ì„ ìˆ˜ë™ ê°€ê²© ì¡°ì •
   - AI ìë™ ëª¨ë“œ ON/OFF
   - ê¸´ê¸‰ ì¤‘ë‹¨ ë²„íŠ¼

---

## ğŸ“Š ê¸°ìˆ  ìŠ¤íƒ í˜„í™©

| í•­ëª© | ìƒíƒœ | ë²„ì „ |
|------|------|------|
| Next.js | âœ… ì‚¬ìš© ì¤‘ | 16.1.1 |
| TypeScript | âœ… ì‚¬ìš© ì¤‘ | 5.x |
| React | âœ… ì‚¬ìš© ì¤‘ | 19.2.3 |
| Tailwind CSS | âœ… ì‚¬ìš© ì¤‘ | 4.x |
| lucide-react | âœ… ì„¤ì¹˜ë¨ | 0.562.0 |
| date-fns | âœ… ì„¤ì¹˜ë¨ | 4.1.0 |
| Supabase | â³ ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ ì„¤ì¹˜ | 2.90.1 |
| ê¸°ìƒì²­ API | âœ… ì—°ë™ ì™„ë£Œ | - |

---

## ğŸ› ì•Œë ¤ì§„ ì´ìŠˆ

### ì—†ìŒ
í˜„ì¬ê¹Œì§€ ì¹˜ëª…ì ì¸ ë²„ê·¸ë‚˜ ì—ëŸ¬ ì—†ìŒ.

---

## ğŸ’¡ í•™ìŠµ íš¨ê³¼ (ê°œë°œì ì„±ì¥)

### ì´í•´í•œ ê°œë…
1. **TypeScript vs Next.js ì°¨ì´** âœ…
2. **í™˜ê²½ë³€ìˆ˜ ë³´ì•ˆ ì²˜ë¦¬** âœ…
3. **ê²°ì •ë¡ ì  ëœë¤** (Seeded Random) âœ…
4. **ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ íŒ¨í„´** âœ…
5. **íƒ€ì… ì•ˆì „ì„±ì˜ ì¤‘ìš”ì„±** âœ…

### ë‹¤ìŒ í•™ìŠµ ëª©í‘œ
- React Hooks (useState, useEffect) ì‹¬í™”
- API ì—ëŸ¬ í•¸ë“¤ë§
- Supabase ì‹¤ì‹œê°„ êµ¬ë…
- ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ìƒíƒœ ê´€ë¦¬

---

## ğŸ“ ë¬¸ì˜ ì‚¬í•­

**Q1. ê¸°ì¡´ app/page.tsxì˜ íŒ¨ë‹‰ ëª¨ë“œ íŒì—…ì„ ìœ ì§€í• ê¹Œìš”?**
- í˜„ì¬ êµ¬í˜„ì´ ê½¤ ì™„ì„±ë„ ë†’ìŒ
- ìƒˆ ì»´í¬ë„ŒíŠ¸ë¡œ êµì²´ vs ê¸°ì¡´ ìœ ì§€ ì„ íƒ í•„ìš”

**Q2. Mock ë°ì´í„° vs ì‹¤ì œ Supabase ì—°ë™?**
- Step 5ì—ì„œ ê°€ì§œ ë°ì´í„°ë¡œ í…ŒìŠ¤íŠ¸í• ì§€
- ë°”ë¡œ DB ì—°ë™í• ì§€ ê²°ì • í•„ìš”

**Q3. Git ì €ì¥ì†Œ ì´ˆê¸°í™” í•„ìš” ì—¬ë¶€?**
- í˜„ì¬ Git ë¯¸ì‚¬ìš© ì¤‘
- ë²„ì „ ê´€ë¦¬ ì‹œì‘ ì‹œì  ê²°ì •

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] ë³´ì•ˆ: API í‚¤ í™˜ê²½ë³€ìˆ˜ ë¶„ë¦¬
- [x] êµ¬ì¡°: TypeScript ë‹¨ì¼í™”
- [x] íƒ€ì…: database.ts ì •ì˜ ì™„ë£Œ
- [x] ë¡œì§: pricingEngine.ts êµ¬í˜„ ì™„ë£Œ
- [x] UI: PriceCard, WeatherWidget ì™„ì„±
- [ ] í†µí•©: API Route ë¦¬íŒ©í† ë§
- [ ] í†µí•©: ë©”ì¸ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ êµì²´
- [ ] í…ŒìŠ¤íŠ¸: ì„œë²„ ì‹¤í–‰ ê²€ì¦
- [ ] ì—°ë™: Supabase ì—°ê²°
- [ ] ê´€ë¦¬ì: admin í˜ì´ì§€ êµ¬í˜„

---

## ğŸ‰ ê²°ë¡ 

**í˜„ì¬ ì§„í–‰ë¥ : 65%**

**í•µì‹¬ ì¸í”„ë¼ëŠ” ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!** ğŸŠ

- íƒ€ì… ì‹œìŠ¤í…œ âœ…
- í”„ë¼ì´ì‹± ì—”ì§„ âœ…
- UI ì»´í¬ë„ŒíŠ¸ âœ…

ì´ì œ **ì¡°ë¦½ ë‹¨ê³„(Step 5)**ë§Œ ë‚¨ì•˜ìŠµë‹ˆë‹¤.
ê¸°ì¡´ ì½”ë“œë¥¼ ìƒˆ êµ¬ì¡°ë¡œ í†µí•©í•˜ë©´ MVP ì™„ì„±ë©ë‹ˆë‹¤.

---

> ğŸ“ **ì‘ì„±ì ë…¸íŠ¸**
> ì´ ë¦¬í¬íŠ¸ëŠ” í”„ë¡œì íŠ¸ì˜ í˜„ì¬ ìƒíƒœë¥¼ ì •í™•íˆ ë°˜ì˜í•©ë‹ˆë‹¤.
> ë‹¤ìŒ ì„¸ì…˜ì—ì„œëŠ” Step 5 í†µí•© ì‘ì—…ì„ ì§„í–‰í•˜ë©´ ë©ë‹ˆë‹¤.
>
> **ì˜ˆìƒ ì†Œìš” ì‹œê°„**: í†µí•© 30ë¶„ + í…ŒìŠ¤íŠ¸ 30ë¶„ = ì´ 1ì‹œê°„
> **ë‚œì´ë„**: ì¤‘ (ìƒˆë¡œìš´ ê°œë… ì—†ìŒ, ì¡°ë¦½ë§Œ í•˜ë©´ ë¨)
``````

### File: `README.md`

``````md
This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://nextjs.org/docs/app/api-reference/cli/create-next-app).

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel.

## Learn More

To learn more about Next.js, take a look at the following resources:

- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome!

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.
``````

### File: `SUMMARY-FOR-JAMINAI.md`

``````md
# ğŸ“Œ ì¬ë§ˆë‚˜ì´ì—ê²Œ - ë¹ ë¥¸ ìš”ì•½ë³¸

## âœ… ì™„ë£Œëœ ì‘ì—… (ì˜¤ëŠ˜ 2026-01-12)

### 1. ë³´ì•ˆ ê°•í™” ğŸ”’
- API í‚¤ ì™„ì „íˆ ìˆ¨ê¹€ (`.env.local` íŒŒì¼ë¡œ ë¶„ë¦¬)
- ì½”ë“œì—ì„œ ë¯¼ê° ì •ë³´ ì™„ì „ ì œê±°

### 2. í”„ë¡œì íŠ¸ êµ¬ì¡° ì •ë¦¬ ğŸ“
- JavaScript + TypeScript í˜¼ìš© ë¬¸ì œ í•´ê²°
- `app.js` â†’ `app.js.backup` (ë°±ì—… í›„ ì œê±°)
- TypeScriptë¡œ ì™„ì „ í†µì¼

### 3. í•µì‹¬ íŒŒì¼ ìƒì„± ì™„ë£Œ âœ¨

| íŒŒì¼ | ì¤„ ìˆ˜ | ì—­í•  |
|------|-------|------|
| `types/database.ts` | 125ì¤„ | DB íƒ€ì… ì •ì˜ (Users, TeeTimes, Reservations) |
| `utils/pricingEngine.ts` | 263ì¤„ | 3ë‹¨ê³„ ê³„ë‹¨ì‹ í• ì¸ + ê¸°ìƒ ë°©ì–´ ë¡œì§ |
| `components/PriceCard.tsx` | 104ì¤„ | í‹°íƒ€ì„ ê°€ê²© ì¹´ë“œ UI |
| `components/WeatherWidget.tsx` | 89ì¤„ | ë‚ ì”¨ ìƒí™©íŒ UI |

---

## ğŸ¯ êµ¬í˜„ëœ í•µì‹¬ ê¸°ëŠ¥

### âœ… í”„ë¼ì´ì‹± ì—”ì§„ (ê¸°íšì„œ 01 ê¸°ë°˜)

**1. ê²°ì •ë¡ ì  ëœë¤** (Seeded Random)
- ê°™ì€ í‹°íƒ€ì„ = í•­ìƒ ê°™ì€ í• ì¸ ê°„ê²©
- ìƒˆë¡œê³ ì¹¨í•´ë„ ê°€ê²© ì¼ê´€ì„± ìœ ì§€

**2. 3ë‹¨ê³„ ê³„ë‹¨ì‹ ì¸í•˜**
- í‹°ì˜¤í”„ 2ì‹œê°„ ì „ë¶€í„° í• ì¸ ì‹œì‘
- 10~30ë¶„ ëœë¤ ê°„ê²©ìœ¼ë¡œ 3ë‹¨ê³„ ì¸í•˜
- 10ë§Œì› ì´ìƒ: 1ë§Œì›/ë‹¨ê³„, ë¯¸ë§Œ: 5ì²œì›/ë‹¨ê³„

**3. ê¸°ìƒ ë°©ì–´ (Weather Blocking)**
- ê°•ìˆ˜ëŸ‰ 10mm ì´ìƒ â†’ ì˜ˆì•½ ìë™ ì°¨ë‹¨
- UIì— "ê¸°ìƒ ì°¨ë‹¨" ë±ƒì§€ í‘œì‹œ

**4. ì¢…í•© í• ì¸ ê³„ì‚°**
- ë‚ ì”¨: ë¹„ 20%, íë¦¼ 10%
- ì„ë°•: 3ë‹¨ê³„ ê³„ë‹¨ì‹
- LBS: 15km ì´ë‚´ 10%
- VIP: PRESTIGEë§Œ 5%
- **ìµœëŒ€ 40% í•œë„**

**5. íŒ¨ë‹‰ ëª¨ë“œ**
- 1ì‹œê°„ ì „ + ë¯¸íŒë§¤ + 15km ì´ë‚´
- ì¡°ê±´ ì¶©ì¡± ì‹œ ì „ë©´ íŒì—… ë…¸ì¶œ

---

## ğŸ“Š ì§„í–‰ë¥ : 65%

```
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 65%

âœ… ì™„ë£Œ: Step 1~4 (ì¸í”„ë¼ êµ¬ì¶•)
â³ ë‚¨ìŒ: Step 5 (í†µí•© & í…ŒìŠ¤íŠ¸)
```

---

## ğŸ”œ ë‹¤ìŒ ë‹¨ê³„ (Step 5)

### A. ì¦‰ì‹œ ì§„í–‰ ê°€ëŠ¥ (30ë¶„ ì†Œìš”)
1. API Routeë¥¼ ìƒˆ í”„ë¼ì´ì‹± ì—”ì§„ìœ¼ë¡œ êµì²´
2. ë©”ì¸ í˜ì´ì§€ë¥¼ ìƒˆ ì»´í¬ë„ŒíŠ¸ë¡œ ì—…ë°ì´íŠ¸
3. DevTool ì»¨íŠ¸ë¡¤ëŸ¬ ì¶”ê°€ (ê°œë°œìš©)

### B. ì¶”í›„ ì§„í–‰
4. ì„œë²„ ì‹¤í–‰ & ì‹¤ì œ í…ŒìŠ¤íŠ¸
5. Supabase DB ì—°ë™
6. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ êµ¬í˜„

---

## ğŸ’¡ ì£¼ìš” ê°œì„  ì‚¬í•­

| Before | After |
|--------|-------|
| API í‚¤ ì½”ë“œì— ë…¸ì¶œ | í™˜ê²½ë³€ìˆ˜ë¡œ ì™„ì „ ë¶„ë¦¬ âœ… |
| JS + TS í˜¼ìš© | TypeScript ë‹¨ì¼í™” âœ… |
| ëœë¤ ê°€ê²© ë³€ë™ | ê²°ì •ë¡ ì  ëœë¤ (ì¼ê´€ì„±) âœ… |
| í•˜ë“œì½”ë”© UI | ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸ âœ… |
| ì‚°ë°œì  ë¡œì§ | í”„ë¼ì´ì‹± ì—”ì§„ ì§‘ì¤‘í™” âœ… |

---

## ğŸ“ ìƒì„±ëœ ë¬¸ì„œ

1. **PROGRESS-REPORT.md** (ì´ íŒŒì¼ì˜ ìƒì„¸íŒ)
   - ì „ì²´ ì§„í–‰ ìƒí™©, ì½”ë“œ ì„¤ëª…, ë‹¤ìŒ ë‹¨ê³„
   - ê°œë°œììš© ìƒì„¸ ë¦¬í¬íŠ¸

2. **DOCS-ê°œë…ì •ë¦¬.md**
   - TypeScript vs Next.js ì°¨ì´
   - í™˜ê²½ë³€ìˆ˜ ì‚¬ìš©ë²•
   - ì´ˆë³´ììš© í•™ìŠµ ìë£Œ

3. **SUMMARY-FOR-JAMINAI.md** (ì§€ê¸ˆ ë³´ëŠ” ë¬¸ì„œ)
   - ì¬ë§ˆë‚˜ì´ìš© ë¹ ë¥¸ ìš”ì•½
   - í•µì‹¬ë§Œ ë°œì·Œ

---

## â“ ê²°ì •ì´ í•„ìš”í•œ ì‚¬í•­

### Q1. ê¸°ì¡´ íŒ¨ë‹‰ ëª¨ë“œ íŒì—… ìœ ì§€?
í˜„ì¬ `app/page.tsx`ì— ì´ë¯¸ êµ¬í˜„ëœ íŒ¨ë‹‰ íŒì—…ì´ ìˆìŒ.
- **ì˜µì…˜ A**: ê¸°ì¡´ ê²ƒ ìœ ì§€ (ì‘ë™ ì˜ ë¨)
- **ì˜µì…˜ B**: ìƒˆ ì»´í¬ë„ŒíŠ¸ë¡œ êµì²´

### Q2. Step 5ì—ì„œ Mock ë°ì´í„° vs ì‹¤ì œ DB?
- **ì˜µì…˜ A**: ê°€ì§œ ë°ì´í„°ë¡œ ë¨¼ì € í…ŒìŠ¤íŠ¸
- **ì˜µì…˜ B**: ë°”ë¡œ Supabase ì—°ë™

### Q3. Git ì €ì¥ì†Œ ì´ˆê¸°í™”?
- í˜„ì¬ Git ë¯¸ì‚¬ìš©
- ë²„ì „ ê´€ë¦¬ ì‹œì‘í• ê¹Œìš”?

---

## ğŸ‰ ìš”ì•½

**í•µì‹¬ ì¸í”„ë¼ ì™„ì„±!** ğŸŠ

ì´ì œ ì¡°ë¦½ë§Œ í•˜ë©´ MVP ì™„ì„±ë©ë‹ˆë‹¤.

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: í†µí•© 30ë¶„ + í…ŒìŠ¤íŠ¸ 30ë¶„ = **ì´ 1ì‹œê°„**

---

> ğŸ’¬ **ë©”ì‹œì§€**
> í†µí•© ê¸°íš ëª…ì„¸ì„œ ë•ë¶„ì— ìˆœì¡°ë¡­ê²Œ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.
> ê¸°íšì„œë¥¼ docs í´ë”ì— ì •ë¦¬í•´ì£¼ì‹  ì ë„ í° ë„ì›€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.
>
> ë‹¤ìŒ ì„¸ì…˜ì—ì„œ Step 5ë¥¼ ì§„í–‰í•˜ë©´ ë°”ë¡œ ì„œë²„ ì‹¤í–‰í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤!
>
> - Claude (í…Œí¬ ì½”ì¹˜)
``````

### File: `SUPABASE-SETUP.md`

``````md
# ğŸ—„ï¸ TUGOL Supabase Setup Guide

Complete guide for setting up the Supabase database backend for TUGOL MVP.

---

## ğŸ“‹ Prerequisites

1. **Supabase Account**: Sign up at [supabase.com](https://supabase.com)
2. **Project Created**: Create a new Supabase project
3. **Project Credentials**: Copy your project URL and anon key

---

## ğŸ” Step 1: Environment Variables

Add the following to your `.env.local` file in the project root:

```env
# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Weather API (ê¸°ì¡´)
NEXT_PUBLIC_WEATHER_API_KEY=your-weather-api-key
```

### How to Get Your Credentials:

1. Go to your Supabase project dashboard
2. Click **Settings** â†’ **API**
3. Copy **Project URL** â†’ `NEXT_PUBLIC_SUPABASE_URL`
4. Copy **anon public key** â†’ `NEXT_PUBLIC_SUPABASE_ANON_KEY`

**Important:** Restart your dev server after adding environment variables:
```bash
# Stop the current server (Ctrl+C)
npm run dev
```

---

## ğŸ—ƒï¸ Step 2: Database Schema

Run the following SQL in your Supabase SQL Editor:

### 1. Golf Clubs Table

```sql
-- ==================================================================
-- ê³¨í”„ì¥ í…Œì´ë¸”
-- ==================================================================
CREATE TABLE IF NOT EXISTS golf_clubs (
  id BIGSERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  location_name TEXT NOT NULL,
  location_lat DECIMAL(10, 8) NOT NULL,
  location_lng DECIMAL(11, 8) NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Index for location-based queries
CREATE INDEX idx_golf_clubs_location ON golf_clubs (location_lat, location_lng);

-- Sample data
INSERT INTO golf_clubs (name, location_name, location_lat, location_lng) VALUES
('Club 72', 'ì¸ì²œ', 37.456300, 126.705200);
```

---

### 2. Users Table

```sql
-- ==================================================================
-- ì‚¬ìš©ì í…Œì´ë¸”
-- ==================================================================
CREATE TABLE IF NOT EXISTS users (
  id BIGSERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  email TEXT UNIQUE NOT NULL,
  phone TEXT,
  segment TEXT NOT NULL DEFAULT 'FUTURE' CHECK (segment IN ('FUTURE', 'PRESTIGE', 'SMART', 'CHERRY')),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Index for email lookups
CREATE INDEX idx_users_email ON users (email);

-- Sample data
INSERT INTO users (name, email, phone, segment) VALUES
('ì¬ë§ˆë‚˜ì´', 'jaminai@tugol.com', '010-1234-5678', 'PRESTIGE');
```

---

### 3. Tee Times Table (Core)

```sql
-- ==================================================================
-- í‹°íƒ€ì„ í…Œì´ë¸” (í•µì‹¬)
-- ==================================================================
CREATE TABLE IF NOT EXISTS tee_times (
  id BIGSERIAL PRIMARY KEY,
  golf_club_id BIGINT NOT NULL REFERENCES golf_clubs(id) ON DELETE CASCADE,
  tee_off_time TIMESTAMP WITH TIME ZONE NOT NULL,
  base_price INTEGER NOT NULL CHECK (base_price > 0),
  status TEXT NOT NULL DEFAULT 'OPEN' CHECK (status IN ('OPEN', 'BOOKED', 'BLOCKED', 'CANCELLED')),
  weather_data JSONB,
  reserved_by BIGINT REFERENCES users(id) ON DELETE SET NULL,
  reserved_at TIMESTAMP WITH TIME ZONE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Indexes for performance
CREATE INDEX idx_tee_times_tee_off ON tee_times (tee_off_time);
CREATE INDEX idx_tee_times_status ON tee_times (status);
CREATE INDEX idx_tee_times_club_id ON tee_times (golf_club_id);

-- Weather data structure (JSONB example):
-- {
--   "status": "success",
--   "rainProb": 40,
--   "rainfall": 0,
--   "temperature": 15,
--   "sky": "CLOUDY"
-- }
```

---

### 4. Sample Tee Times Data

```sql
-- ==================================================================
-- í…ŒìŠ¤íŠ¸ìš© í‹°íƒ€ì„ ë°ì´í„° ìƒì„±
-- ==================================================================

-- Get the golf club ID
DO $$
DECLARE
  club_id BIGINT;
BEGIN
  SELECT id INTO club_id FROM golf_clubs WHERE name = 'Club 72' LIMIT 1;

  -- Insert 5 test tee times (similar to mock data)

  -- 1. Panic Mode (45 minutes from now)
  INSERT INTO tee_times (golf_club_id, tee_off_time, base_price, status, weather_data)
  VALUES (
    club_id,
    NOW() + INTERVAL '45 minutes',
    250000,
    'OPEN',
    '{"status": "success", "rainProb": 10, "rainfall": 0, "temperature": 18, "sky": "CLEAR"}'::jsonb
  );

  -- 2. Normal Discount (1.5 hours from now)
  INSERT INTO tee_times (golf_club_id, tee_off_time, base_price, status, weather_data)
  VALUES (
    club_id,
    NOW() + INTERVAL '90 minutes',
    280000,
    'OPEN',
    '{"status": "success", "rainProb": 40, "rainfall": 0, "temperature": 15, "sky": "CLOUDY"}'::jsonb
  );

  -- 3. Heavy Rain (2 hours from now)
  INSERT INTO tee_times (golf_club_id, tee_off_time, base_price, status, weather_data)
  VALUES (
    club_id,
    NOW() + INTERVAL '120 minutes',
    250000,
    'OPEN',
    '{"status": "success", "rainProb": 80, "rainfall": 5, "temperature": 12, "sky": "RAIN"}'::jsonb
  );

  -- 4. Weather Blocked (2.5 hours from now)
  INSERT INTO tee_times (golf_club_id, tee_off_time, base_price, status, weather_data)
  VALUES (
    club_id,
    NOW() + INTERVAL '150 minutes',
    280000,
    'BLOCKED',
    '{"status": "success", "rainProb": 90, "rainfall": 15, "temperature": 10, "sky": "HEAVY_RAIN"}'::jsonb
  );

  -- 5. Already Booked (3 hours from now)
  INSERT INTO tee_times (golf_club_id, tee_off_time, base_price, status, weather_data)
  VALUES (
    club_id,
    NOW() + INTERVAL '180 minutes',
    250000,
    'BOOKED',
    '{"status": "success", "rainProb": 10, "rainfall": 0, "temperature": 18, "sky": "CLEAR"}'::jsonb
  );

END $$;
```

---

### 5. Reservations Table (Future)

```sql
-- ==================================================================
-- ì˜ˆì•½ í…Œì´ë¸” (Phase 3ìš©)
-- ==================================================================
CREATE TABLE IF NOT EXISTS reservations (
  id BIGSERIAL PRIMARY KEY,
  user_id BIGINT NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  tee_time_id BIGINT NOT NULL REFERENCES tee_times(id) ON DELETE CASCADE,
  final_price INTEGER NOT NULL,
  discount_breakdown JSONB,
  payment_status TEXT NOT NULL DEFAULT 'PENDING' CHECK (payment_status IN ('PENDING', 'PAID', 'CANCELLED', 'REFUNDED')),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Indexes
CREATE INDEX idx_reservations_user_id ON reservations (user_id);
CREATE INDEX idx_reservations_tee_time_id ON reservations (tee_time_id);
```

---

## ğŸ”„ Step 3: Enable Row Level Security (RLS)

For production, enable RLS policies:

```sql
-- Enable RLS
ALTER TABLE golf_clubs ENABLE ROW LEVEL SECURITY;
ALTER TABLE users ENABLE ROW LEVEL SECURITY;
ALTER TABLE tee_times ENABLE ROW LEVEL SECURITY;
ALTER TABLE reservations ENABLE ROW LEVEL SECURITY;

-- Public read access for tee times (MVP)
CREATE POLICY "Allow public read on tee_times"
  ON tee_times FOR SELECT
  USING (true);

-- Public read access for golf clubs
CREATE POLICY "Allow public read on golf_clubs"
  ON golf_clubs FOR SELECT
  USING (true);
```

---

## âœ… Step 4: Verify Installation

Run this query to check if everything is set up correctly:

```sql
SELECT
  tt.id,
  tt.tee_off_time,
  tt.base_price,
  tt.status,
  tt.weather_data,
  gc.name as club_name
FROM tee_times tt
JOIN golf_clubs gc ON tt.golf_club_id = gc.id
WHERE tt.tee_off_time >= NOW()
ORDER BY tt.tee_off_time ASC;
```

Expected result: 5 rows with test data.

---

## ğŸ§ª Step 5: Test the Connection

After adding environment variables and restarting the server:

1. Visit `http://localhost:3000`
2. The app should now fetch data from Supabase
3. If no data exists, it will fall back to mock data
4. Check browser console for any errors

---

## ğŸ“Š Database Schema Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  golf_clubs     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚
â”‚ name            â”‚
â”‚ location_lat    â”‚
â”‚ location_lng    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1:N
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  tee_times      â”‚â—„â”€â”€â”€â”€â–ºâ”‚  users          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚      â”‚ id (PK)         â”‚
â”‚ golf_club_id    â”‚      â”‚ name            â”‚
â”‚ tee_off_time    â”‚      â”‚ email           â”‚
â”‚ base_price      â”‚      â”‚ segment         â”‚
â”‚ status          â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ weather_data    â”‚               â”‚
â”‚ reserved_by     â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
         â”‚                        â”‚
         â”‚ 1:N                    â”‚ 1:N
         â”‚                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”
â”‚  reservations                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                            â”‚
â”‚ user_id (FK)                       â”‚
â”‚ tee_time_id (FK)                   â”‚
â”‚ final_price                        â”‚
â”‚ discount_breakdown (JSONB)         â”‚
â”‚ payment_status                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› Troubleshooting

### Error: "Missing Supabase environment variables"
- Check `.env.local` file exists in project root
- Verify variable names start with `NEXT_PUBLIC_`
- Restart dev server after adding variables

### Error: "relation 'tee_times' does not exist"
- Run the SQL schema in Supabase SQL Editor
- Check table was created in **Table Editor**

### Data Not Showing
- Check if sample data was inserted successfully
- Verify `tee_off_time` is in the future
- Check browser console for fetch errors

### RLS Policy Errors
- Temporarily disable RLS during development
- Ensure public read policies are created

---

## ğŸ“ Next Steps After Setup

1. **Test with real data** - Add more tee times via SQL or admin panel
2. **Weather API integration** - Connect real weather data updates
3. **User authentication** - Add Supabase Auth for login
4. **Booking flow** - Implement reservation creation
5. **Admin dashboard** - Build management interface

---

## ğŸ‰ Setup Complete!

Your TUGOL MVP is now connected to Supabase. The pricing engine will calculate discounts based on real database records.

**Key Files:**
- [lib/supabase.ts](lib/supabase.ts) - Supabase client configuration
- [app/page.tsx](app/page.tsx) - Data fetching logic
- [types/database.ts](types/database.ts) - TypeScript type definitions

**Status:** Ready for testing with live database! ğŸš€

## ğŸš¨ CRITICAL: Phase 2 User Schema Migration (2026-01-15)

We have updated the Database Schema to align with Supabase Auth (UUIDs).
**You MUST run the migration script if you set up the DB before Jan 15.**

### Migration Steps

1.  Open the **Supabase SQL Editor**.
2.  Open the file `SUPABASE-USER-MIGRATION.sql` in this project.
3.  Copy the entire content.
4.  Paste it into the Supabase SQL Editor and click **Run**.

### Key Changes
- **Users Table**: `id` is now a `UUID` (linked to `auth.users`), not a `BIGINT`.
- **Segment Enum**: Standardized to `FUTURE`, `PRESTIGE`, `SMART`, `CHERRY`.
- **Triggers**: Added `handle_new_user` trigger to automatically create public user records on signup.
- **Tee Times & Reservations**: Foreign keys updated to use `UUID`.

---
``````

### File: `SUPABASE-USER-MIGRATION.sql`

```sql
-- âš ï¸ IMPORTANT: Run this script in the Supabase SQL Editor to fix the Schema for Phase 2

-- 1. Enable UUID extension
create extension if not exists "uuid-ossp";

-- 2. Clean up old tables (if they exist with wrong types)
-- CAUTION: This will delete existing data in these tables.
DROP TABLE IF EXISTS reservations CASCADE;
DROP TABLE IF EXISTS tee_times CASCADE;
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS golf_clubs CASCADE;

-- 3. Create Golf Clubs Table
CREATE TABLE golf_clubs (
  id BIGSERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  location_name TEXT NOT NULL,
  location_lat DECIMAL(10, 8) NOT NULL,
  location_lng DECIMAL(11, 8) NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

INSERT INTO golf_clubs (name, location_name, location_lat, location_lng) VALUES
('Club 72', 'Incheon', 37.456300, 126.705200);

-- 4. Create Users Table (Linked to Supabase Auth)
CREATE TABLE users (
  id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
  email TEXT NOT NULL,
  name TEXT,
  phone TEXT,
  segment TEXT NOT NULL DEFAULT 'FUTURE' CHECK (segment IN ('FUTURE', 'PRESTIGE', 'SMART', 'CHERRY')),
  cherry_score INTEGER DEFAULT 0,
  terms_agreed_at TIMESTAMP WITH TIME ZONE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- 5. Create Trigger for New User Signup
-- This automatically creates a public.users row when a user signs up via Auth
CREATE OR REPLACE FUNCTION public.handle_new_user()
RETURNS trigger AS $$
BEGIN
  INSERT INTO public.users (id, email, name, segment)
  VALUES (
    new.id, 
    new.email, 
    new.raw_user_meta_data->>'name', 
    'FUTURE' -- Default Segment
  );
  RETURN new;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- Drop trigger if exists to avoid error
DROP TRIGGER IF EXISTS on_auth_user_created ON auth.users;

CREATE TRIGGER on_auth_user_created
  AFTER INSERT ON auth.users
  FOR EACH ROW EXECUTE PROCEDURE public.handle_new_user();

-- 6. Create Tee Times Table
CREATE TABLE tee_times (
  id BIGSERIAL PRIMARY KEY,
  golf_club_id BIGINT REFERENCES golf_clubs(id) ON DELETE CASCADE,
  tee_off TIMESTAMP WITH TIME ZONE NOT NULL,
  base_price INTEGER NOT NULL,
  status TEXT NOT NULL DEFAULT 'OPEN' CHECK (status IN ('OPEN', 'BOOKED', 'BLOCKED')),
  weather_condition JSONB,
  reserved_by UUID REFERENCES users(id) ON DELETE SET NULL, -- Now uses UUID
  reserved_at TIMESTAMP WITH TIME ZONE
);

-- 7. Create Reservations Table
CREATE TABLE reservations (
  id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
  tee_time_id BIGINT NOT NULL REFERENCES tee_times(id),
  user_id UUID NOT NULL REFERENCES users(id),
  base_price INTEGER NOT NULL,
  final_price INTEGER NOT NULL,
  discount_breakdown JSONB,
  payment_key TEXT,
  payment_status TEXT DEFAULT 'PENDING' CHECK (payment_status IN ('PENDING', 'PAID', 'CANCELLED', 'REFUNDED')),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- 8. Enable RLS
ALTER TABLE users ENABLE ROW LEVEL SECURITY;
ALTER TABLE tee_times ENABLE ROW LEVEL SECURITY;
ALTER TABLE reservations ENABLE ROW LEVEL SECURITY;

-- Policies
CREATE POLICY "Public read tee times" ON tee_times FOR SELECT USING (true);
CREATE POLICY "Users can see own data" ON users FOR SELECT USING (auth.uid() = id);
CREATE POLICY "Users can update own data" ON users FOR UPDATE USING (auth.uid() = id);
CREATE POLICY "Users can see own reservations" ON reservations FOR SELECT USING (auth.uid() = user_id);
CREATE POLICY "Users can create reservations" ON reservations FOR INSERT WITH CHECK (auth.uid() = user_id);

-- 9. Insert Dummy Tee Times (for Testing)
DO $$
DECLARE
  club_id BIGINT;
BEGIN
  SELECT id INTO club_id FROM golf_clubs LIMIT 1;
  
  -- Tomorrow 10:00 AM
  INSERT INTO tee_times (golf_club_id, tee_off, base_price, status)
  VALUES (club_id, NOW() + INTERVAL '1 day' + INTERVAL '10 hours', 250000, 'OPEN');

  -- Tomorrow 02:00 PM
  INSERT INTO tee_times (golf_club_id, tee_off, base_price, status)
  VALUES (club_id, NOW() + INTERVAL '1 day' + INTERVAL '14 hours', 220000, 'OPEN');
END $$;
```

### File: `TUGOL_MVP_CHECKPOINT_v0.7.md`

````md
# TUGOL MVP Development Checkpoint (v0.7.1)

**Project:** TUGOL - Dynamic Pricing Golf Booking App
**Stack:** Next.js 16 (App Router), TypeScript, Tailwind CSS, Supabase
**Current Phase:** Phase 3 Complete (Booking Flow Ready) / Phase 4 Pending

---

## 1. Core Logic (The Brain)
- **Pricing Engine (`utils/pricingEngine.ts`):**
  - **Seeded Random:** `teeOffTime`ì„ ì‹œë“œ(Seed)ë¡œ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œê³ ì¹¨ ì‹œ ê°€ê²© ë³€ë™ ë°©ì§€.
  - **Rain Blocking:** ê°•ìˆ˜ëŸ‰(rainfall) >= 10mm & ì—°ì† 2ì‹œê°„ ì˜ˆë³´ ì‹œ `isBlocked: true` ë°˜í™˜.
  - **Panic Mode:** í‹°ì˜¤í”„ 1ì‹œê°„ ì „ + ë¯¸ì˜ˆì•½ ìƒíƒœ ì‹œ `isPanicTarget: true` ë°˜í™˜.
  - **Cherry Picker Defense:** ì²´ë¦¬í”¼ì»¤ ë“±ê¸‰(`CHERRY`)ì€ ì„ë°• í• ì¸ ë¡œì§ì—ì„œ ì œì™¸.

## 2. Database Schema (The Spine)
- **Tables (Supabase):**
  - `users`: `user_segment` (FUTURE_KING, PRESTIGE, SMART, CHERRY_PICKER) í¬í•¨.
  - `tee_times`: `status` (OPEN, BOOKED, BLOCKED), `weather_condition` (JSONB) í¬í•¨.
  - `reservations`: `discount_breakdown` (JSONB), `final_price` í¬í•¨.
- **Type Definitions (`types/database.ts`):** ê¸°íšì„œ [03] ê¸°ì¤€ ìŠ¤í‚¤ë§ˆì™€ 100% ì¼ì¹˜.

## 3. UI/UX (The Face)
- **Components:**
  - `PriceCard`: ì •ê°€ ì·¨ì†Œì„ , í• ì¸ê°€ ê°•ì¡°, ë‚ ì”¨ ë±ƒì§€, íŒ¨ë‹‰ ëª¨ë“œ íŒì—… ì—°ë™.
  - `BookingModal`: ì˜ˆì•½ í™•ì¸ ë° DB Insert íŠ¸ë¦¬ê±°.
- **Error Handling:**
  - **Smart Fallback:** DB ì—°ê²° ì‹¤íŒ¨ ì‹œ Mock Dataë¡œ ìë™ ì „í™˜ë˜ì–´ ì•± êµ¬ë™ ìœ ì§€.

## 4. Current Status (v0.7.1)
- **Completed:**
  - âœ… Project Setup (Clean Slate)
  - âœ… Pricing Logic Implementation
  - âœ… DB Connection & Seeding (Real Data Integration)
  - âœ… Booking Flow (Insert to DB + Status Update)
  - âœ… Hotfix: `reservations` table schema update (`discount_breakdown` column added).

## 5. Next Steps (Phase 4)
- **Target:** Implement **My Reservations Page** (`/app/reservations/page.tsx`).
- **Requirements:**
  - Fetch user's booking history (Join `reservations` + `tee_times`).
  - Display list of booked slots (Date, Time, Price, Status).
  - Add navigation link to Header.

---
**Note for AI:**
This file serves as a context anchor. When restarting, load this configuration and proceed immediately to Phase 4.
````

### File: `TUGOL_MVP_CHECKPOINT_v0.8.md`

````md
# TUGOL MVP Development Checkpoint (v0.8)

**Project:** TUGOL - Dynamic Pricing Golf Booking App
**Stack:** Next.js 16 (App Router), TypeScript, Tailwind CSS, Supabase
**Current Version:** v0.8 (User Flow Complete)
**Date:** 2026-01-12

---

## 1. Project Status (Overview)
- **Phase 1 (Core Logic):** âœ… Complete
  - Pricing Engine: Seeded Random (determinism), Rain Blocking, Panic Mode implemented.
- **Phase 2 (DB Setup):** âœ… Complete
  - Supabase connected. Tables (`tee_times`, `reservations`, `golf_clubs`) created.
  - Smart Fallback: App works with Mock Data if DB fails.
- **Phase 3 (Booking Flow):** âœ… Complete
  - User can view details, confirm booking, and data is inserted into DB.
  - Hotfix applied: `discount_breakdown` column added to `reservations`.
- **Phase 4 (My Reservations):** âœ… Complete
  - Page: `/app/reservations/page.tsx`
  - Function: Fetches user's booking history with Join query (Reservations + TeeTimes).

---

## 2. Database Schema (Supabase)
**Tables & Key Columns:**
- **`tee_times`**: `id`, `tee_off` (Timestamp), `base_price`, `status` ('OPEN', 'BOOKED', 'BLOCKED'), `weather_condition` (JSONB), `golf_club_id` (FK).
- **`reservations`**: `id`, `final_price`, `discount_breakdown` (JSONB), `user_id`, `tee_time_id` (FK), `created_at`.
- **`golf_clubs`**: `id`, `name`, `location_name`.

**Security (RLS):**
- Public Read enabled for `tee_times` and `reservations` (for MVP testing).

---

## 3. Key Files & Logic
- **`utils/pricingEngine.ts`**:
  - `calculateDynamicPrice(teeTime, weather)`: Returns final price & discount logic.
  - **Rules**: Rain (>10mm) -> Block / Imminent (<1h) -> Panic Discount.
- **`app/page.tsx`**: Main dashboard showing Tee Time cards.
- **`app/reservations/page.tsx`**: User's booking history list.
- **`lib/supabase.ts`**: Supabase client configuration.

---

## 4. How to Restart (Context Load)
If the AI context is lost, provide this file and instruct:
"We are at v0.8. The User Flow is complete.
Current task: Proceed to Phase 5 (Admin Dashboard).
Do not regenerate existing code unless requested for debugging."
````

### File: `TUGOL_MVP_FINAL_v1.0.md`

``````md
# TUGOL Project Master Checkpoint (v1.0 MVP)

**Project Name:** TUGOL - Dynamic Pricing Golf Booking Service
**Version:** v1.0 (MVP Complete)
**Date:** 2026-01-12
**Tech Stack:** Next.js 16 (App Router), TypeScript, Tailwind CSS, Supabase (PostgreSQL)

---

## 1. Accomplishments (Feature List)
- **Phase 1: Core Logic (Pricing Engine)**
  - âœ… **Algorithm:** Calculates prices based on Time Remaining, Weather (Rain), and User Segment.
  - âœ… **Panic Mode:** Special UI & Discount for imminent tee times (< 1h).
  - âœ… **Rain Blocking:** Auto-blocks tee times if rainfall forecast > 10mm.

- **Phase 2: Database (Supabase)**
  - âœ… **Connection:** Secure connection via `lib/supabase.ts`.
  - âœ… **Schema:** Tables for `tee_times`, `reservations`, `golf_clubs`.
  - âœ… **Smart Fallback:** App degrades gracefully to Mock Data if DB connection fails.

- **Phase 3: Booking System**
  - âœ… **Flow:** [Select Time] -> [Booking Modal] -> [DB Insert] -> [Success].
  - âœ… **Validation:** Prevents double booking, handles errors.
  - âœ… **Real Data:** Fetches live availability from DB.

- **Phase 4: User Experience (My Reservations)**
  - âœ… **Page:** `/reservations`
  - âœ… **Feature:** View booking history with status (PENDING, BOOKED) and price details.

- **Phase 5: Admin System**
  - âœ… **Page:** `/admin`
  - âœ… **Dashboard:** View Total Revenue, Booking Counts.
  - âœ… **Control:** Manual Block/Unblock of specific tee times.

- **Phase 6: Navigation**
  - âœ… **Integrated Flow:** Seamless links between Home, Reservations, and Admin pages.

---

## 2. Key File Structure
- `app/page.tsx`: Main Dashboard (Tee Time List, Weather Widget).
- `app/reservations/page.tsx`: User Booking History.
- `app/admin/page.tsx`: Admin Dashboard (Revenue & Manual Control).
- `utils/pricingEngine.ts`: The logic brain (Price calculation).
- `lib/supabase.ts`: Database client instance.
- `types/database.ts`: TypeScript definitions matching DB schema.

## 3. Database Schema (Snapshot)
```sql
-- Tee Times
CREATE TABLE tee_times (
  id BIGSERIAL PRIMARY KEY,
  tee_off TIMESTAMP WITH TIME ZONE NOT NULL,
  base_price INTEGER NOT NULL,
  status TEXT DEFAULT 'OPEN', -- OPEN, BOOKED, BLOCKED
  weather_condition JSONB,
  golf_club_id BIGINT
);

-- Reservations
CREATE TABLE reservations (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id BIGINT, -- Currently Mock ID (1)
  tee_time_id BIGINT REFERENCES tee_times(id),
  final_price INTEGER NOT NULL,
  discount_breakdown JSONB,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
``````

### File: `TUGOL_V2_RAG_CONTEXT.md`

``````md
# TUGOL â€” V2 Development Context (RAG)

> **Last Updated:** 2026-01-13
> **Version:** V2.1 (Hydration Fixed & Filtering Gap Resolved)
> **Status:** Production-Ready MVP

This document serves as the **primary context source** for the CLI Agent regarding the V2 architecture, dynamic pricing logic, and critical bug fixes.

---

## 1. Core Architecture (Next.js 16 + Supabase)

### Server-Side Data Flow (SSR)
- **Entry:** `app/page.tsx` (Async Server Component)
- **Fetch:** Calls `getTeeTimesByDate` directly (No API route overhead).
- **Logic:** `utils/supabase/queries.ts` injects **V2 Pricing Engine** logic before rendering.
- **Render:** Passes fully calculated `initialTeeTimes` to `TeeTimeList` (Client Component).

### Client-Side Interactivity
- **Component:** `components/TeeTimeList.tsx`
- **Features:**
  - **Hydration Safe:** Uses `mounted` state pattern to prevent SSR mismatch.
  - **Gap-less Filtering:** Covers all time slots (Morning/Day/Evening) without exclusion.
  - **Panic Mode:** Client-side random trigger effect (visual only).

### Security Model (Reservation)
- **Endpoint:** `app/api/reservations/route.ts`
- **Rule:** **Zero Trust**. The server *ignores* the price sent by the client.
- **Process:**
  1. Fetch `tee_time` from DB.
  2. Re-calculate price using `pricingEngine.calculateDynamicPrice`.
  3. Compare Server Price vs. Client Price.
  4. **Atomic Update:** Uses `.eq('status', 'OPEN')` to prevent double booking.

---

## 2. V2 Dynamic Pricing Engine (`utils/pricingEngine.ts`)

The engine uses a deterministic algorithm based on 5 layers.

| Layer | Name | Logic |
| :--- | :--- | :--- |
| **L1** | **Base Price** | Weekday(120k) / Weekend(160k) + Peak Season(x1.25) + Premium Slot(+20k) |
| **L2** | **Time (LMD)** | < 24h before tee-off: -15%(Weekday) / -5%(Weekend). *Blocked for 'Cherry' segment.* |
| **L3** | **Weather** | Rain(>30%) or Extreme Temp or Wind: -5% discount. |
| **L4** | **Segment** | 'VIP': Flat -5,000 KRW discount. |
| **L5** | **Floor** | Minimum price protection (50,000 KRW). |

---

## 3. Critical Fixes & Patterns

### A. Hydration Mismatch Fix
**Problem:** `new Date()` and `Math.random()` caused server-client HTML mismatch.
**Solution:** Client-Side Mounting Check Pattern.
```tsx
// components/TeeTimeList.tsx
const [mounted, setMounted] = useState(false);
useEffect(() => setMounted(true), []);

if (!mounted) return <Loader2 />; // Render Loader until client hydration is complete
```

### B. Tee Time Filtering (Gap-less Logic)
**Problem:** Previous logic used strict ranges (e.g., 05:00-07:30, 11:00-14:30), hiding slots like 08:00 or 15:00.
**Solution:** Sequential coverage logic.
```tsx
const totalMinutes = hour * 60 + minutes;
// Part 1: Until 11:00
if (selectedPart === 'part1') return totalMinutes < 660; 
// Part 2: 11:00 ~ 17:00
if (selectedPart === 'part2') return totalMinutes >= 660 && totalMinutes < 1020; 
// Part 3: 17:00 ~ onwards
if (selectedPart === 'part3') return totalMinutes >= 1020; 
```

### C. Date Handling
- **Tool:** `date-fns` used for calculation logic.
- **State:** `selectedDate` state is managed in `TeeTimeList`.
- **Sync:** URL Query Param (`?date=YYYY-MM-DD`) drives the Server Component data fetching.

---

## 4. Directory Structure Snapshot

```text
/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ page.tsx                 # Server Component (Data Fetching)
â”‚   â””â”€â”€ api/reservations/route.ts # Secure Reservation Endpoint
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ TeeTimeList.tsx          # Client Component (UI/Filter/Hydration)
â”‚   â”œâ”€â”€ BookingModal.tsx         # Toss Payments Integration
â”‚   â””â”€â”€ ...
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ pricingEngine.ts         # V2 Logic (Pure Function)
â”‚   â””â”€â”€ supabase/queries.ts      # DB Access + Engine Integration
â””â”€â”€ types/
    â””â”€â”€ database.ts              # Strict TypeScript Definitions
```

## 5. Next Steps
- [ ] Connect real Weather API (KMA) to `queries.ts`.
- [ ] Implement Admin Dashboard controls for Pricing Policies.
- [ ] Add User Authentication context to replace Mock User ('PRESTIGE').
``````

### File: `app/admin/layout.tsx`

```tsx
'use client';

import { useEffect, useState } from 'react';
import { useRouter } from 'next/navigation';
import { supabase } from '@/lib/supabase';
import Link from 'next/link';
import {
  Users,
  Calendar,
  Settings,
  BarChart3,
  Home,
  LogOut,
  Shield,
  Loader2
} from 'lucide-react';

export default function AdminLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  const router = useRouter();
  const [isChecking, setIsChecking] = useState(true);
  const [isAdmin, setIsAdmin] = useState(false);

  useEffect(() => {
    async function checkAdminStatus() {
      try {
        // Get current user session
        const { data: { session } } = await supabase.auth.getSession();

        if (!session?.user) {
          router.push('/');
          return;
        }

        // Check if user is admin
        const { data: user, error } = await (supabase as any)
          .from('users')
          .select('is_admin')
          .eq('id', session.user.id)
          .single();

        if (error || !user?.is_admin) {
          router.push('/');
          return;
        }

        setIsAdmin(true);
      } catch (error) {
        console.error('Admin check failed:', error);
        router.push('/');
      } finally {
        setIsChecking(false);
      }
    }

    checkAdminStatus();
  }, [router]);

  if (isChecking) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-gray-50">
        <div className="text-center">
          <Loader2 className="animate-spin mx-auto mb-4 text-blue-600" size={48} />
          <p className="text-gray-600">ê´€ë¦¬ì ê¶Œí•œ í™•ì¸ ì¤‘...</p>
        </div>
      </div>
    );
  }

  if (!isAdmin) {
    return null;
  }

  return (
    <div className="min-h-screen bg-gray-50 flex">
      {/* Sidebar */}
      <aside className="w-64 bg-white border-r border-gray-200 fixed h-full">
        <div className="p-6">
          {/* Logo/Title */}
          <div className="flex items-center gap-2 mb-8">
            <Shield className="text-blue-600" size={32} />
            <div>
              <h1 className="text-xl font-bold text-gray-900">TUGOL Admin</h1>
              <p className="text-xs text-gray-500">ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</p>
            </div>
          </div>

          {/* Navigation */}
          <nav className="space-y-2">
            <Link
              href="/admin"
              className="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors"
            >
              <BarChart3 size={20} />
              <span className="font-medium">ëŒ€ì‹œë³´ë“œ</span>
            </Link>

            <Link
              href="/admin/users"
              className="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors"
            >
              <Users size={20} />
              <span className="font-medium">íšŒì› ê´€ë¦¬</span>
            </Link>

            <Link
              href="/admin/tee-times"
              className="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors"
            >
              <Calendar size={20} />
              <span className="font-medium">í‹°íƒ€ì„ ê´€ë¦¬</span>
            </Link>

            <Link
              href="/admin/settings"
              className="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors"
            >
              <Settings size={20} />
              <span className="font-medium">ì„¤ì •</span>
            </Link>
          </nav>
        </div>

        {/* Bottom Actions */}
        <div className="absolute bottom-0 w-64 p-6 border-t border-gray-200">
          <Link
            href="/"
            className="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors mb-2"
          >
            <Home size={20} />
            <span className="font-medium">ë©”ì¸ìœ¼ë¡œ</span>
          </Link>

          <button
            onClick={async () => {
              await supabase.auth.signOut();
              router.push('/login');
            }}
            className="flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors w-full"
          >
            <LogOut size={20} />
            <span className="font-medium">ë¡œê·¸ì•„ì›ƒ</span>
          </button>
        </div>
      </aside>

      {/* Main Content */}
      <main className="ml-64 flex-1 p-8">
        {children}
      </main>
    </div>
  );
}
```

### File: `app/admin/page.tsx`

```tsx
import { supabase } from '@/lib/supabase';
import AdminDashboard from '@/components/AdminDashboardNew';
import { Database } from '@/types/database';

type TeeTime = Database['public']['Tables']['tee_times']['Row'];
type UserRow = Database['public']['Tables']['users']['Row'];

export const dynamic = 'force-dynamic';

export default async function AdminPage() {
  // Server-side Fetching
  const { data: teeTimes } = await supabase
    .from('tee_times')
    .select('*')
    .order('tee_off', { ascending: true });

  const { data: reservations } = await supabase
    .from('reservations')
    .select('final_price, created_at')
    .order('created_at', { ascending: true });

  // Fetch all users for user management tab
  const { data: users } = await supabase
    .from('users')
    .select('*')
    .order('created_at', { ascending: false });

  // Aggregate Daily Revenue
  const revenueByDate: Record<string, number> = {};
  let totalRevenue = 0;

  reservations?.forEach((r: any) => {
    const date = new Date(r.created_at).toLocaleDateString('ko-KR', { month: 'numeric', day: 'numeric' });
    revenueByDate[date] = (revenueByDate[date] || 0) + (r.final_price || 0);
    totalRevenue += (r.final_price || 0);
  });

  const chartData = Object.entries(revenueByDate).map(([date, amount]) => ({
    date,
    amount
  }));

  const bookedCount = teeTimes?.filter((t: TeeTime) => t.status === 'BOOKED').length || 0;

  return (
    <AdminDashboard
      initialTeeTimes={teeTimes as TeeTime[] || []}
      initialUsers={users as UserRow[] || []}
      stats={{ totalRevenue, bookedCount, chartData }}
    />
  );
}
```

### File: `app/admin/users/page.tsx`

````tsx
'use client';

import { useEffect, useState } from 'react';
import { supabase } from '@/lib/supabase';
import { Database } from '@/types/database';
import {
  User,
  Mail,
  Phone,
  Calendar,
  Trophy,
  AlertCircle,
  CheckCircle,
  Crown,
  Star,
  TrendingUp,
  Search,
  Filter
} from 'lucide-react';

type UserRow = Database['public']['Tables']['users']['Row'];
type SegmentType = Database['public']['Tables']['users']['Row']['segment'];

const SEGMENT_OPTIONS: { value: SegmentType; label: string; color: string; icon: React.ReactNode }[] = [
  {
    value: 'FUTURE',
    label: 'í“¨ì²˜ (ì‹ ê·œ)',
    color: 'bg-gray-100 text-gray-700 border-gray-300',
    icon: <User size={16} />
  },
  {
    value: 'SMART',
    label: 'ìŠ¤ë§ˆíŠ¸ (ì¼ë°˜)',
    color: 'bg-blue-100 text-blue-700 border-blue-300',
    icon: <TrendingUp size={16} />
  },
  {
    value: 'CHERRY',
    label: 'ì²´ë¦¬ (ìš°ìˆ˜)',
    color: 'bg-pink-100 text-pink-700 border-pink-300',
    icon: <Star size={16} />
  },
  {
    value: 'PRESTIGE',
    label: 'í”„ë ˆìŠ¤í‹°ì§€ (VIP)',
    color: 'bg-purple-100 text-purple-700 border-purple-300',
    icon: <Crown size={16} />
  },
];

export default function AdminUsersPage() {
  const [users, setUsers] = useState<UserRow[]>([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [filterSegment, setFilterSegment] = useState<SegmentType | 'ALL'>('ALL');
  const [updatingUserId, setUpdatingUserId] = useState<string | null>(null);

  useEffect(() => {
    fetchUsers();
  }, []);

  const fetchUsers = async () => {
    try {
      const { data, error } = await (supabase as any)
        .from('users')
        .select('*')
        .order('created_at', { ascending: false });

      if (error) throw error;

      setUsers(data || []);
    } catch (error) {
      console.error('Error fetching users:', error);
      alert('íšŒì› ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    } finally {
      setLoading(false);
    }
  };

  const updateUserSegment = async (userId: string, newSegment: SegmentType) => {
    setUpdatingUserId(userId);

    try {
      const { error } = await (supabase as any)
        .from('users')
        .update({
          segment: newSegment,
          segment_override_by: 'ADMIN',
          segment_override_at: new Date().toISOString(),
          updated_at: new Date().toISOString()
        })
        .eq('id', userId);

      if (error) throw error;

      // Update local state
      setUsers(prev =>
        prev.map(user =>
          user.id === userId
            ? { ...user, segment: newSegment, segment_override_by: 'ADMIN' }
            : user
        )
      );

      alert('íšŒì› ë“±ê¸‰ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.');
    } catch (error) {
      console.error('Error updating segment:', error);
      alert('ë“±ê¸‰ ì—…ë°ì´íŠ¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    } finally {
      setUpdatingUserId(null);
    }
  };

  const toggleAdminStatus = async (userId: string, currentStatus: boolean) => {
    const confirmMessage = currentStatus
      ? 'ê´€ë¦¬ì ê¶Œí•œì„ ì œê±°í•˜ì‹œê² ìŠµë‹ˆê¹Œ?'
      : 'ê´€ë¦¬ì ê¶Œí•œì„ ë¶€ì—¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?';

    if (!confirm(confirmMessage)) return;

    try {
      const { error } = await (supabase as any)
        .from('users')
        .update({ is_admin: !currentStatus })
        .eq('id', userId);

      if (error) throw error;

      setUsers(prev =>
        prev.map(user =>
          user.id === userId ? { ...user, is_admin: !currentStatus } : user
        )
      );

      alert('ê´€ë¦¬ì ê¶Œí•œì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.');
    } catch (error) {
      console.error('Error toggling admin:', error);
      alert('ê¶Œí•œ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    }
  };

  const toggleBlacklistStatus = async (userId: string, currentStatus: boolean) => {
    const reason = currentStatus
      ? null
      : prompt('ì°¨ë‹¨ ì‚¬ìœ ë¥¼ ì…ë ¥í•˜ì„¸ìš”:');

    if (!currentStatus && !reason) return;

    try {
      const { error } = await (supabase as any)
        .from('users')
        .update({
          blacklisted: !currentStatus,
          blacklist_reason: currentStatus ? null : reason,
          blacklisted_at: currentStatus ? null : new Date().toISOString(),
          blacklisted_by: currentStatus ? null : 'ADMIN'
        })
        .eq('id', userId);

      if (error) throw error;

      setUsers(prev =>
        prev.map(user =>
          user.id === userId
            ? {
                ...user,
                blacklisted: !currentStatus,
                blacklist_reason: currentStatus ? null : reason
              }
            : user
        )
      );

      alert(currentStatus ? 'ì°¨ë‹¨ì´ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤.' : 'íšŒì›ì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.');
    } catch (error) {
      console.error('Error toggling blacklist:', error);
      alert('ì°¨ë‹¨ ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    }
  };

  // Filter users based on search and segment
  const filteredUsers = users.filter(user => {
    const matchesSearch =
      user.email?.toLowerCase().includes(searchTerm.toLowerCase()) ||
      user.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||
      user.phone?.includes(searchTerm);

    const matchesSegment = filterSegment === 'ALL' || user.segment === filterSegment;

    return matchesSearch && matchesSegment;
  });

  const getSegmentConfig = (segment: SegmentType) => {
    return SEGMENT_OPTIONS.find(opt => opt.value === segment) || SEGMENT_OPTIONS[0];
  };

  if (loading) {
    return (
      <div className="flex items-center justify-center h-96">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      </div>
    );
  }

  return (
    <div className="space-y-6">
      {/* Header */}
      <div className="flex justify-between items-center">
        <div>
          <h1 className="text-3xl font-bold text-gray-900">íšŒì› ê´€ë¦¬</h1>
          <p className="text-gray-600 mt-1">
            ì´ {users.length}ëª… | í•„í„°ë§ë¨: {filteredUsers.length}ëª…
          </p>
        </div>

        <button
          onClick={fetchUsers}
          className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
        >
          ìƒˆë¡œê³ ì¹¨
        </button>
      </div>

      {/* Filters */}
      <div className="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          {/* Search */}
          <div className="relative">
            <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
            <input
              type="text"
              placeholder="ì´ë©”ì¼, ì´ë¦„, ì „í™”ë²ˆí˜¸ë¡œ ê²€ìƒ‰..."
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              className="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            />
          </div>

          {/* Segment Filter */}
          <div className="relative">
            <Filter className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
            <select
              value={filterSegment}
              onChange={(e) => setFilterSegment(e.target.value as SegmentType | 'ALL')}
              className="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white"
            >
              <option value="ALL">ëª¨ë“  ë“±ê¸‰</option>
              {SEGMENT_OPTIONS.map(opt => (
                <option key={opt.value} value={opt.value}>
                  {opt.label}
                </option>
              ))}
            </select>
          </div>
        </div>
      </div>

      {/* Users Table */}
      <div className="bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200">
        <div className="overflow-x-auto">
          <table className="w-full">
            <thead className="bg-gray-50 border-b border-gray-200">
              <tr>
                <th className="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                  íšŒì› ì •ë³´
                </th>
                <th className="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                  í˜„ì¬ ë“±ê¸‰
                </th>
                <th className="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                  ë“±ê¸‰ ë³€ê²½
                </th>
                <th className="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                  Cherry Score
                </th>
                <th className="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                  í†µê³„
                </th>
                <th className="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                  ìƒíƒœ
                </th>
                <th className="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                  ê´€ë¦¬
                </th>
              </tr>
            </thead>
            <tbody className="divide-y divide-gray-200">
              {filteredUsers.map(user => {
                const segmentConfig = getSegmentConfig(user.segment);
                const isUpdating = updatingUserId === user.id;

                return (
                  <tr key={user.id} className="hover:bg-gray-50 transition-colors">
                    {/* User Info */}
                    <td className="px-6 py-4">
                      <div className="flex items-start gap-3">
                        <div className="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0">
                          <User size={20} className="text-blue-600" />
                        </div>
                        <div>
                          <div className="font-medium text-gray-900">
                            {user.name || 'ì´ë¦„ ì—†ìŒ'}
                            {user.is_admin && (
                              <span className="ml-2 px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded-full">
                                ê´€ë¦¬ì
                              </span>
                            )}
                          </div>
                          <div className="flex items-center gap-1 text-sm text-gray-500 mt-1">
                            <Mail size={14} />
                            {user.email}
                          </div>
                          {user.phone && (
                            <div className="flex items-center gap-1 text-sm text-gray-500">
                              <Phone size={14} />
                              {user.phone}
                            </div>
                          )}
                          <div className="flex items-center gap-1 text-xs text-gray-400 mt-1">
                            <Calendar size={12} />
                            ê°€ì…: {new Date(user.created_at).toLocaleDateString()}
                          </div>
                        </div>
                      </div>
                    </td>

                    {/* Current Segment */}
                    <td className="px-6 py-4">
                      <div className={`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border ${segmentConfig.color}`}>
                        {segmentConfig.icon}
                        <span className="font-medium">{segmentConfig.label}</span>
                      </div>
                      {user.segment_override_by && (
                        <div className="text-xs text-gray-500 mt-1">
                          (ìˆ˜ë™ ì„¤ì •ë¨)
                        </div>
                      )}
                    </td>

                    {/* Segment Selector */}
                    <td className="px-6 py-4">
                      <select
                        value={user.segment}
                        onChange={(e) => updateUserSegment(user.id, e.target.value as SegmentType)}
                        disabled={isUpdating}
                        className="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"
                      >
                        {SEGMENT_OPTIONS.map(opt => (
                          <option key={opt.value} value={opt.value}>
                            {opt.label}
                          </option>
                        ))}
                      </select>
                    </td>

                    {/* Cherry Score */}
                    <td className="px-6 py-4">
                      <div className="flex items-center gap-2">
                        <Trophy size={16} className="text-yellow-500" />
                        <span className="font-semibold text-lg">{user.cherry_score}</span>
                        <span className="text-gray-400 text-sm">/ 100</span>
                      </div>
                    </td>

                    {/* Statistics */}
                    <td className="px-6 py-4">
                      <div className="space-y-1 text-sm">
                        <div className="text-gray-700">
                          ì˜ˆì•½: <span className="font-medium">{user.total_bookings || 0}íšŒ</span>
                        </div>
                        <div className="text-gray-700">
                          ì§€ì¶œ: <span className="font-medium">{(user.total_spent || 0).toLocaleString()}ì›</span>
                        </div>
                        <div className="text-gray-700">
                          ë…¸ì‡¼: <span className={`font-medium ${user.no_show_count > 0 ? 'text-red-600' : ''}`}>
                            {user.no_show_count || 0}íšŒ
                          </span>
                        </div>
                      </div>
                    </td>

                    {/* Status */}
                    <td className="px-6 py-4">
                      {user.blacklisted ? (
                        <div className="flex items-center gap-2 text-red-600">
                          <AlertCircle size={20} />
                          <div>
                            <div className="font-medium">ì°¨ë‹¨ë¨</div>
                            {user.blacklist_reason && (
                              <div className="text-xs text-gray-500">{user.blacklist_reason}</div>
                            )}
                          </div>
                        </div>
                      ) : (
                        <div className="flex items-center gap-2 text-green-600">
                          <CheckCircle size={20} />
                          <span className="font-medium">ì •ìƒ</span>
                        </div>
                      )}
                    </td>

                    {/* Actions */}
                    <td className="px-6 py-4">
                      <div className="flex gap-2">
                        <button
                          onClick={() => toggleBlacklistStatus(user.id, user.blacklisted)}
                          className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${
                            user.blacklisted
                              ? 'bg-green-100 text-green-700 hover:bg-green-200'
                              : 'bg-red-100 text-red-700 hover:bg-red-200'
                          }`}
                        >
                          {user.blacklisted ? 'ì°¨ë‹¨ í•´ì œ' : 'ì°¨ë‹¨'}
                        </button>

                        <button
                          onClick={() => toggleAdminStatus(user.id, user.is_admin || false)}
                          className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${
                            user.is_admin
                              ? 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                              : 'bg-purple-100 text-purple-700 hover:bg-purple-200'
                          }`}
                        >
                          {user.is_admin ? 'ê´€ë¦¬ì í•´ì œ' : 'ê´€ë¦¬ì ì„¤ì •'}
                        </button>
                      </div>
                    </td>
                  </tr>
                );
              })}
            </tbody>
          </table>

          {filteredUsers.length === 0 && (
            <div className="text-center py-12 text-gray-500">
              ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.
            </div>
          )}
        </div>
      </div>

      {/* Stats Summary */}
      <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
        {SEGMENT_OPTIONS.map(segment => {
          const count = users.filter(u => u.segment === segment.value).length;
          return (
            <div key={segment.value} className="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
              <div className="flex items-center justify-between">
                <div>
                  <div className="text-sm text-gray-600">{segment.label}</div>
                  <div className="text-2xl font-bold text-gray-900 mt-1">{count}ëª…</div>
                </div>
                <div className={`p-3 rounded-lg ${segment.color}`}>
                  {segment.icon}
                </div>
              </div>
            </div>
          );
        })}
      </div>
    </div>
  );
}
````

### File: `app/api/admin/simulate-weather/route.ts`

```ts
import { NextResponse } from 'next/server';
import { supabase } from '@/lib/supabase';

export const dynamic = 'force-dynamic';

function generateRandomWeather() {
  const rand = Math.random();
  
  if (rand < 0.2) {
    // 20% Heavy Rain
    return {
      sky: 'RAIN',
      temperature: 15 + Math.floor(Math.random() * 5),
      rainProb: 80 + Math.floor(Math.random() * 20),
      windSpeed: 5 + Math.floor(Math.random() * 5)
    };
  } else if (rand < 0.4) {
    // 20% Cloudy/Light Rain
    return {
      sky: 'CLOUDY',
      temperature: 18 + Math.floor(Math.random() * 5),
      rainProb: 40 + Math.floor(Math.random() * 30),
      windSpeed: 2 + Math.floor(Math.random() * 3)
    };
  } else {
    // 60% Clear
    return {
      sky: 'CLEAR',
      temperature: 22 + Math.floor(Math.random() * 8),
      rainProb: Math.floor(Math.random() * 20),
      windSpeed: 1 + Math.floor(Math.random() * 3)
    };
  }
}

export async function POST() {
  try {
    const { data: teeTimes, error: fetchError } = await supabase
      .from('tee_times')
      .select('id')
      .eq('status', 'OPEN');

    if (fetchError) throw fetchError;

    let updatedCount = 0;

    // Update each tee time with random weather
    for (const t of (teeTimes as any[]) || []) {
      const weather = generateRandomWeather();

      const { error } = await (supabase as any)
        .from('tee_times')
        .update({ weather_condition: weather })
        .eq('id', t.id);

      if (!error) updatedCount++;
    }

    return NextResponse.json({
      message: 'Weather simulation completed',
      updatedCount,
      totalCount: teeTimes?.length
    });

  } catch (err: any) {
    return NextResponse.json({ error: err.message }, { status: 500 });
  }
}
```

### File: `app/api/admin/users/route.ts`

```ts
import { NextRequest, NextResponse } from 'next/server';
import { supabase } from '@/lib/supabase';

export const dynamic = 'force-dynamic';

// Record a no-show for a user
export async function POST(request: NextRequest) {
  try {
    const body = await request.json();
    const { action, reservationId, userId } = body;

    if (action === 'record-no-show') {
      if (!reservationId) {
        return NextResponse.json({ error: 'reservationId required' }, { status: 400 });
      }

      // Call the PostgreSQL function we created in migration
      const { data, error } = await (supabase as any).rpc('record_no_show', {
        reservation_id_param: reservationId
      });

      if (error) throw error;

      return NextResponse.json({
        message: 'No-show recorded successfully',
        data
      });
    }

    if (action === 'recalculate-segment') {
      if (!userId) {
        return NextResponse.json({ error: 'userId required' }, { status: 400 });
      }

      // Call the PostgreSQL function to recalculate segment
      const { data, error } = await (supabase as any).rpc('calculate_user_segment', {
        user_id_param: userId
      });

      if (error) throw error;

      return NextResponse.json({
        message: 'Segment recalculated',
        newSegment: data
      });
    }

    return NextResponse.json({ error: 'Invalid action' }, { status: 400 });

  } catch (err: any) {
    console.error('Admin user action error:', err);
    return NextResponse.json({ error: err.message }, { status: 500 });
  }
}
```

### File: `app/api/payments/confirm/route.ts`

````ts
import { NextRequest, NextResponse } from 'next/server';
import { supabase } from '@/lib/supabase';

export async function GET(request: NextRequest) {
  try {
    const searchParams = request.nextUrl.searchParams;
    const paymentKey = searchParams.get('paymentKey');
    const orderId = searchParams.get('orderId');
    const amount = searchParams.get('amount');
    const teeTimeId = searchParams.get('tee_time_id');
    const userId = searchParams.get('user_id');

    // Validation
    if (!paymentKey || !orderId || !amount) {
      return NextResponse.redirect(
        new URL(`/payment/fail?code=INVALID_REQUEST&message=Missing payment parameters`, request.url)
      );
    }

    if (!teeTimeId || !userId) {
      return NextResponse.redirect(
        new URL(`/payment/fail?code=INVALID_REQUEST&message=Missing booking parameters`, request.url)
      );
    }

    // Step 1: Confirm payment with Toss Payments API
    const tossSecretKey = process.env.TOSS_SECRET_KEY;
    if (!tossSecretKey) {
      console.error('TOSS_SECRET_KEY not found in environment');
      return NextResponse.redirect(
        new URL(`/payment/fail?code=CONFIG_ERROR&message=Payment system error`, request.url)
      );
    }

    const tossResponse = await fetch('https://api.tosspayments.com/v1/payments/confirm', {
      method: 'POST',
      headers: {
        'Authorization': `Basic ${Buffer.from(tossSecretKey + ':').toString('base64')}`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        paymentKey,
        orderId,
        amount: Number(amount),
      }),
    });

    const tossResult = await tossResponse.json();

    if (!tossResponse.ok) {
      console.error('Toss payment confirmation failed:', tossResult);
      return NextResponse.redirect(
        new URL(
          `/payment/fail?code=${tossResult.code || 'PAYMENT_FAILED'}&message=${encodeURIComponent(tossResult.message || 'ê²°ì œ ìŠ¹ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤')}`,
          request.url
        )
      );
    }

    // Step 2: Check if tee time is still available
    const { data: teeTimeData, error: teeTimeError } = await supabase
      .from('tee_times')
      .select('id, status, base_price')
      .eq('id', Number(teeTimeId))
      .single();

    const teeTime = teeTimeData as { id: number; status: string; base_price: number } | null;

    if (teeTimeError || !teeTime) {
      console.error('Tee time not found:', teeTimeError);
      return NextResponse.redirect(
        new URL(`/payment/fail?code=TEE_TIME_NOT_FOUND&message=í‹°íƒ€ì„ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤`, request.url)
      );
    }

    if (teeTime.status !== 'OPEN') {
      console.error('Tee time no longer available:', teeTime.status);
      return NextResponse.redirect(
        new URL(`/payment/fail?code=TEE_TIME_UNAVAILABLE&message=ì´ë¯¸ ì˜ˆì•½ëœ í‹°íƒ€ì„ì…ë‹ˆë‹¤`, request.url)
      );
    }

    // Step 3: Create reservation in database
    const { data: reservation, error: reservationError } = await (supabase as any)
      .from('reservations')
      .insert({
        user_id: userId,
        tee_time_id: Number(teeTimeId),
        base_price: teeTime.base_price,
        final_price: Number(amount),
        discount_breakdown: null,
        payment_key: paymentKey,
        payment_status: 'PAID',
      })
      .select()
      .single();

    if (reservationError) {
      console.error('Reservation insert error:', reservationError);
      return NextResponse.redirect(
        new URL(`/payment/fail?code=DB_ERROR&message=ì˜ˆì•½ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤`, request.url)
      );
    }

    // Step 4: Update tee time status to BOOKED
    const { error: updateError } = await (supabase as any)
      .from('tee_times')
      .update({
        status: 'BOOKED',
        reserved_by: userId,
        reserved_at: new Date().toISOString(),
      })
      .eq('id', Number(teeTimeId));

    if (updateError) {
      console.error('Tee time update error:', updateError);
      // Rollback: Delete the reservation
      await (supabase as any).from('reservations').delete().eq('id', reservation.id);

      return NextResponse.redirect(
        new URL(`/payment/fail?code=DB_ERROR&message=í‹°íƒ€ì„ ìƒíƒœ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨`, request.url)
      );
    }

    // Success! Redirect to success page with payment details
    const successUrl = new URL('/payment/success', request.url);
    successUrl.searchParams.set('orderId', orderId);
    successUrl.searchParams.set('amount', amount);
    successUrl.searchParams.set('paymentKey', paymentKey);

    return NextResponse.redirect(successUrl);
  } catch (error) {
    console.error('Payment confirmation error:', error);
    return NextResponse.redirect(
      new URL(
        `/payment/fail?code=SERVER_ERROR&message=${encodeURIComponent(error instanceof Error ? error.message : 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤')}`,
        request.url
      )
    );
  }
}
````

### File: `app/api/pricing/route.ts`

```ts
import { NextResponse } from 'next/server';
import { calculatePricing, PricingContext, PricingResult } from '@/utils/pricingEngine';
import { Database } from '@/types/database';

type TeeTime = Database['public']['Tables']['tee_times']['Row'];
type Weather = Database['public']['Tables']['weather_cache']['Row'];
type User = Database['public']['Tables']['users']['Row'];

// ==================================================================
// 1. [Mock Data] Since we don't have a live DB yet
// ==================================================================
function getMockData() {
  const now = new Date();
  const tomorrow = new Date(now);
  tomorrow.setDate(tomorrow.getDate() + 1);

  // Mock Weather
  const weather: Weather = {
    id: 1,
    target_date: tomorrow.toISOString().split('T')[0],
    target_hour: 12,
    pop: 70, // Rain probability
    rn1: 2,  // Rainfall 2mm
    wsd: 3
  };

  // Mock User
  const user: User = {
    id: 'mock-user-id',
    email: 'test@tugol.com',
    name: null,
    phone: null,
    segment: 'PRESTIGE',
    cherry_score: 10,
    terms_agreed_at: now.toISOString(),
    created_at: now.toISOString(),
    updated_at: null,
    blacklisted: false,
    blacklist_reason: null,
    blacklisted_at: null,
    blacklisted_by: null,
    no_show_count: 0,
    last_no_show_at: null,
    total_bookings: 5,
    total_spent: 500000,
    avg_booking_value: 100000,
    location_lat: null,
    location_lng: null,
    location_address: null,
    distance_to_club_km: null,
    visit_count: 0,
    avg_stay_minutes: null,
    last_visited_at: null,
    segment_override_by: null,
    segment_override_at: null,
    marketing_agreed: false,
    push_agreed: false,
    is_admin: false
  };

  // Mock Tee Times
  const teeTimes: TeeTime[] = [
    {
      id: 101,
      golf_club_id: 1,
      tee_off: new Date(now.getTime() + 90 * 60000).toISOString(),
      base_price: 250000,
      status: 'OPEN',
      weather_condition: null,
      reserved_by: null,
      reserved_at: null
    },
    {
      id: 102,
      golf_club_id: 1,
      tee_off: new Date(now.getTime() + 180 * 60000).toISOString(),
      base_price: 200000,
      status: 'OPEN',
      weather_condition: null,
      reserved_by: null,
      reserved_at: null
    },
    {
      id: 103,
      golf_club_id: 1,
      tee_off: new Date(now.getTime() + 45 * 60000).toISOString(),
      base_price: 150000,
      status: 'OPEN',
      weather_condition: null,
      reserved_by: null,
      reserved_at: null
    }
  ];

  return { weather, user, teeTimes };
}

// ==================================================================
// 2. [API Handler]
// ==================================================================
export async function GET() {
  const { weather, user, teeTimes } = getMockData();
  const now = new Date();

  // Calculate Price for each Tee Time using the Engine
  const results = teeTimes.map(teeTime => {
    const context: PricingContext = {
      teeTime,
      user, // Simulate logged-in user
      weather,
      userDistanceKm: 10, // Mock LBS: 10km away
      now
    };

    const result = calculatePricing(context);
    
    // Map to Frontend expected format (if needed, or return raw result)
    // Here we return a structure compatible with the frontend components
    return {
      ...teeTime,
      finalPrice: result.finalPrice,
      originalPrice: result.basePrice,
      discountRate: Math.round(result.discountRate * 100),
      isBlocked: result.isBlocked,
      blockReason: result.blockReason,
      factors: result.factors,
      stepStatus: result.stepStatus
    };
  });

  return NextResponse.json({
    status: 'success',
    data: results,
    user: {
      segment: user.segment,
      isNearby: true
    },
    weather: {
      rainProb: weather.pop,
      status: weather.pop >= 60 ? 'Rain' : (weather.pop >= 30 ? 'Cloudy' : 'Sunny')
    },
    meta: {
      engine: 'v2-step-down',
      generatedAt: now.toISOString()
    }
  });
}
```

### File: `app/api/reservations/route.ts`

````ts
// ==================================================================
// Reservations API Route (Secure)
// Updated for V2 Pricing Engine
// ==================================================================

import { NextRequest, NextResponse } from 'next/server';
import { supabase } from '@/lib/supabase';
import { calculatePricing, PricingContext, PricingResult } from '@/utils/pricingEngine';
import { Database } from '@/types/database';

type DBUserSegment = Database['public']['Enums']['segment_type'];

export async function POST(request: NextRequest) {
  try {
    const body = await request.json();
    const { userId, teeTimeId, finalPrice: clientProvidedPrice } = body;

    // 1. Validate Input
    if (!userId || !teeTimeId || !clientProvidedPrice) {
      return NextResponse.json(
        { error: 'Missing required fields' },
        { status: 400 }
      );
    }

    // 2. Fetch Tee Time from DB
    const { data: teeTimeData, error: teeTimeError } = await supabase
      .from('tee_times')
      .select('*')
      .eq('id', teeTimeId)
      .single();

    const teeTime = teeTimeData as any;

    if (teeTimeError || !teeTime) {
      return NextResponse.json(
        { error: 'Tee time not found' },
        { status: 404 }
      );
    }

    if (teeTime.status !== 'OPEN') {
      return NextResponse.json(
        { error: 'Tee time is no longer available', status: teeTime.status },
        { status: 409 }
      );
    }

    // 3. Security Check: Recalculate Price on Server
    const teeOffDate = new Date(teeTime.tee_off);
    
    // Fetch Weather (Assuming getWeatherForDate returns matching shape or we map it)
    // Note: In a real scenario, ensure getWeatherForDate returns the correct Weather Cache row.
    // For now, we'll fetch from 'weather_cache' directly or use the helper if it exists.
    const { data: weatherData } = await supabase
      .from('weather_cache')
      .select('*')
      .eq('target_date', teeOffDate.toISOString().split('T')[0])
      .order('target_hour', { ascending: true }) // closest hour logic needed?
      .limit(1)
      .single();

    // Fetch User for Segment
    const { data: user } = await supabase
      .from('users')
      .select('*')
      .eq('id', userId)
      .single();

    const context: PricingContext = {
      teeTime: teeTime,
      user: user || undefined, // If user fetch fails, treat as anonymous/default?
      weather: weatherData || undefined,
      now: new Date()
    };

    const serverPricing: PricingResult = calculatePricing(context);

    // Tolerance check
    if (serverPricing.finalPrice !== clientProvidedPrice) {
      console.warn(`Price Mismatch! Client: ${clientProvidedPrice}, Server: ${serverPricing.finalPrice}`);
      return NextResponse.json(
        { error: 'Price validation failed. Please refresh and try again.', serverPrice: serverPricing.finalPrice },
        { status: 400 }
      );
    }

    // 4. Create Reservation
    const { data: reservation, error: reservationError } = await (supabase as any)
      .from('reservations')
      .insert({
        user_id: userId,
        tee_time_id: teeTimeId,
        base_price: serverPricing.basePrice,
        final_price: serverPricing.finalPrice,
        discount_breakdown: serverPricing.factors,
        payment_status: 'PENDING'
      })
      .select()
      .single();

    if (reservationError) {
      throw reservationError;
    }

    // 5. Update Tee Time Status
    const { error: updateError } = await (supabase as any)
      .from('tee_times')
      .update({
        status: 'BOOKED',
        reserved_by: userId,
        reserved_at: new Date().toISOString()
      })
      .eq('id', teeTimeId);

    if (updateError) {
      // Rollback (simplified)
      await (supabase as any).from('reservations').delete().eq('id', reservation.id);
      throw updateError;
    }

    return NextResponse.json(
      {
        success: true,
        reservation: {
          id: reservation.id,
          finalPrice: reservation.final_price,
        },
      },
      { status: 201 }
    );

  } catch (error) {
    console.error('Reservation Error:', error);
    return NextResponse.json(
      { error: 'Internal server error' },
      { status: 500 }
    );
  }
}
````

### File: `app/auth/callback/route.ts`

````ts
import { createServerClient, type CookieOptions } from '@supabase/ssr';
import { type NextRequest, NextResponse } from 'next/server';
import { cookies } from 'next/headers';

export async function GET(request: NextRequest) {
  const { searchParams, origin } = new URL(request.url);
  const code = searchParams.get('code');
  const next = searchParams.get('next') ?? '/'; // ë¡œê·¸ì¸ í›„ ë©”ì¸ìœ¼ë¡œ ì´ë™

  if (code) {
    const cookieStore = await cookies();
    const supabase = createServerClient(
      process.env.NEXT_PUBLIC_SUPABASE_URL!,
      process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,
      {
        cookies: {
          get(name: string) {
            return cookieStore.get(name)?.value;
          },
          set(name: string, value: string, options: CookieOptions) {
            cookieStore.set({ name, value, ...options });
          },
          remove(name: string, options: CookieOptions) {
            cookieStore.delete({ name, ...options });
          },
        },
      }
    );
    
    // ì¹´ì¹´ì˜¤ê°€ ì¤€ ì½”ë“œë¥¼ ì§„ì§œ ì„¸ì…˜ìœ¼ë¡œ êµí™˜
    const { error } = await supabase.auth.exchangeCodeForSession(code);
    if (!error) {
      return NextResponse.redirect(`${origin}${next}`);
    }
  }

  // ì‹¤íŒ¨í•˜ë©´ ì—ëŸ¬ í˜ì´ì§€ë¡œ
  return NextResponse.redirect(`${origin}/auth/auth-code-error`);
}
````

### File: `app/globals.css`

```css
@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}
```

### File: `app/layout.tsx`

````tsx
import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
      >
        {children}
      </body>
    </html>
  );
}
````

### File: `app/login/actions.ts`

````ts
'use server';

import { revalidatePath } from 'next/cache';
import { redirect } from 'next/navigation';
import { supabase } from '@/lib/supabase';

/**
 * Server action for user login
 */
export async function login(formData: FormData) {
  const email = formData.get('email') as string;
  const password = formData.get('password') as string;

  // Validation
  if (!email || !password) {
    return redirect('/login?message=ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
  }

  try {
    const { data, error } = await supabase.auth.signInWithPassword({
      email,
      password,
    });

    if (error) {
      console.error('Login error:', error);
      return redirect(`/login?message=${encodeURIComponent(error.message)}`);
    }

    if (!data.user) {
      return redirect('/login?message=ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
    }

    // Revalidate all pages to update auth state
    revalidatePath('/', 'layout');

    // Redirect to home page
    return redirect('/');
  } catch (error) {
    console.error('Unexpected login error:', error);
    return redirect('/login?message=ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤');
  }
}

/**
 * Server action for user signup
 */
export async function signup(formData: FormData) {
  const email = formData.get('email') as string;
  const password = formData.get('password') as string;
  const name = formData.get('name') as string;
  const phone = formData.get('phone') as string;

  // Validation
  if (!email || !password) {
    return redirect('/login?message=ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
  }

  if (!name) {
    return redirect('/login?message=ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
  }

  if (password.length < 6) {
    return redirect('/login?message=ë¹„ë°€ë²ˆí˜¸ëŠ” 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤');
  }

  try {
    const { data, error } = await supabase.auth.signUp({
      email,
      password,
      options: {
        data: {
          name,
          phone: phone || null,
        },
      },
    });

    if (error) {
      console.error('Signup error:', error);
      return redirect(`/login?message=${encodeURIComponent(error.message)}`);
    }

    if (!data.user) {
      return redirect('/login?message=íšŒì›ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
    }

    // Success - redirect to login page with success message
    return redirect('/login?message=íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.');
  } catch (error) {
    console.error('Unexpected signup error:', error);
    return redirect('/login?message=íšŒì›ê°€ì… ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤');
  }
}

/**
 * Server action for user logout
 */
export async function logout() {
  try {
    const { error } = await supabase.auth.signOut();

    if (error) {
      console.error('Logout error:', error);
    }

    // Revalidate all pages to update auth state
    revalidatePath('/', 'layout');

    // Redirect to home page
    return redirect('/');
  } catch (error) {
    console.error('Unexpected logout error:', error);
    return redirect('/');
  }
}
````

### File: `app/login/page.tsx`

````tsx
'use client';

import { useState, useEffect, Suspense } from 'react';
import { useSearchParams } from 'next/navigation';
import { createBrowserClient } from '@supabase/ssr';
import { Loader2, Mail, Lock, User, Phone, AlertCircle } from 'lucide-react';
import Link from 'next/link';
import { login, signup } from './actions';

function LoginPageContent() {
  const searchParams = useSearchParams();
  const [activeTab, setActiveTab] = useState<'login' | 'signup'>('login');
  const [loading, setLoading] = useState(false);
  const [message, setMessage] = useState('');

  // Get message from URL query params
  useEffect(() => {
    const urlMessage = searchParams.get('message');
    if (urlMessage) {
      setMessage(decodeURIComponent(urlMessage));
    }
  }, [searchParams]);

  // Create Supabase client for OAuth
  const supabase = createBrowserClient(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
  );

  const handleKakaoLogin = async () => {
    setLoading(true);
    try {
      const { error } = await supabase.auth.signInWithOAuth({
        provider: 'kakao',
        options: {
          redirectTo: `${window.location.origin}/auth/callback`,
        },
      });
      if (error) throw error;
    } catch (error) {
      setMessage('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
      console.error(error);
      setLoading(false);
    }
  };

  return (
    <div className="flex min-h-screen flex-col items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 p-4">
      <div className="w-full max-w-md">
        {/* Logo */}
        <div className="text-center mb-8">
          <h1 className="text-4xl font-black italic text-green-600 mb-2">TUGOL</h1>
          <p className="text-gray-600">ê³¨í”„ì¥ ì˜ˆì•½ì˜ ìƒˆë¡œìš´ ê¸°ì¤€</p>
        </div>

        {/* Main Card */}
        <div className="rounded-2xl bg-white shadow-2xl overflow-hidden">
          {/* Tabs */}
          <div className="flex border-b border-gray-200">
            <button
              onClick={() => setActiveTab('login')}
              className={`flex-1 py-4 text-center font-bold transition-colors ${
                activeTab === 'login'
                  ? 'text-green-600 border-b-2 border-green-600 bg-green-50'
                  : 'text-gray-400 hover:text-gray-600'
              }`}
            >
              ë¡œê·¸ì¸
            </button>
            <button
              onClick={() => setActiveTab('signup')}
              className={`flex-1 py-4 text-center font-bold transition-colors ${
                activeTab === 'signup'
                  ? 'text-green-600 border-b-2 border-green-600 bg-green-50'
                  : 'text-gray-400 hover:text-gray-600'
              }`}
            >
              íšŒì›ê°€ì…
            </button>
          </div>

          {/* Content */}
          <div className="p-8">
            {/* Message Alert */}
            {message && (
              <div className="mb-6 p-4 rounded-lg bg-blue-50 border border-blue-200 flex items-start gap-3">
                <AlertCircle className="text-blue-600 flex-shrink-0 mt-0.5" size={20} />
                <p className="text-sm text-blue-800">{message}</p>
              </div>
            )}

            {/* Login Form */}
            {activeTab === 'login' && (
              <form action={login} className="space-y-4">
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    ì´ë©”ì¼
                  </label>
                  <div className="relative">
                    <Mail className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
                    <input
                      type="email"
                      name="email"
                      required
                      placeholder="your@email.com"
                      className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                    />
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    ë¹„ë°€ë²ˆí˜¸
                  </label>
                  <div className="relative">
                    <Lock className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
                    <input
                      type="password"
                      name="password"
                      required
                      placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                      className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                    />
                  </div>
                </div>

                <button
                  type="submit"
                  disabled={loading}
                  className="w-full py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
                >
                  {loading ? (
                    <>
                      <Loader2 className="animate-spin" size={20} />
                      ë¡œê·¸ì¸ ì¤‘...
                    </>
                  ) : (
                    'ë¡œê·¸ì¸'
                  )}
                </button>
              </form>
            )}

            {/* Signup Form */}
            {activeTab === 'signup' && (
              <form action={signup} className="space-y-4">
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    ì´ë©”ì¼ *
                  </label>
                  <div className="relative">
                    <Mail className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
                    <input
                      type="email"
                      name="email"
                      required
                      placeholder="your@email.com"
                      className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                    />
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    ë¹„ë°€ë²ˆí˜¸ * (6ì ì´ìƒ)
                  </label>
                  <div className="relative">
                    <Lock className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
                    <input
                      type="password"
                      name="password"
                      required
                      minLength={6}
                      placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                      className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                    />
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    ì´ë¦„ *
                  </label>
                  <div className="relative">
                    <User className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
                    <input
                      type="text"
                      name="name"
                      required
                      placeholder="í™ê¸¸ë™"
                      className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                    />
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    ì „í™”ë²ˆí˜¸ (ì„ íƒ)
                  </label>
                  <div className="relative">
                    <Phone className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
                    <input
                      type="tel"
                      name="phone"
                      placeholder="010-1234-5678"
                      className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                    />
                  </div>
                </div>

                <button
                  type="submit"
                  disabled={loading}
                  className="w-full py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
                >
                  {loading ? (
                    <>
                      <Loader2 className="animate-spin" size={20} />
                      íšŒì›ê°€ì… ì¤‘...
                    </>
                  ) : (
                    'íšŒì›ê°€ì…'
                  )}
                </button>
              </form>
            )}

            {/* Divider */}
            <div className="relative my-6">
              <div className="absolute inset-0 flex items-center">
                <div className="w-full border-t border-gray-300"></div>
              </div>
              <div className="relative flex justify-center text-sm">
                <span className="px-4 bg-white text-gray-500">ë˜ëŠ”</span>
              </div>
            </div>

            {/* Kakao Login */}
            <button
              onClick={handleKakaoLogin}
              disabled={loading}
              className="flex w-full items-center justify-center gap-2 rounded-lg bg-[#FEE500] py-3 text-black font-bold hover:bg-[#FDD835] transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
            >
              {loading ? (
                <Loader2 className="animate-spin" size={20} />
              ) : (
                <svg viewBox="0 0 24 24" className="w-5 h-5 fill-black">
                  <path d="M12 3C5.373 3 0 7.373 0 12.768c0 3.394 2.15 6.417 5.378 8.16l-.88 3.287a.55.55 0 0 0 .676.657l3.78-1.55c.983.25 2.016.386 3.046.386 6.627 0 12-4.373 12-9.768S18.627 3 12 3z"/>
                </svg>
              )}
              ì¹´ì¹´ì˜¤ë¡œ ì‹œì‘í•˜ê¸°
            </button>
          </div>

          {/* Footer */}
          <div className="bg-gray-50 px-8 py-4 border-t border-gray-200">
            <p className="text-xs text-gray-500 text-center leading-relaxed">
              ê³„ì† ì§„í–‰í•˜ë©´{' '}
              <Link href="/policy/terms" className="underline hover:text-gray-700">
                ì´ìš©ì•½ê´€
              </Link>{' '}
              ë°{' '}
              <Link href="/policy/privacy" className="underline hover:text-gray-700">
                ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨
              </Link>
              ì— ë™ì˜í•˜ëŠ” ê²ƒìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤.
            </p>
          </div>
        </div>

        {/* Back to Home */}
        <div className="text-center mt-6">
          <Link
            href="/"
            className="text-sm text-gray-600 hover:text-gray-900 transition-colors"
          >
            â† ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
          </Link>
        </div>
      </div>
    </div>
  );
}

export default function LoginPage() {
  return (
    <Suspense fallback={
      <div className="flex min-h-screen items-center justify-center">
        <Loader2 className="animate-spin text-green-600" size={48} />
      </div>
    }>
      <LoginPageContent />
    </Suspense>
  );
}
````

### File: `app/page.tsx`

```tsx
import { Home, Ticket, User, Menu } from 'lucide-react';
import { getTeeTimesByDate } from '@/utils/supabase/queries';
import TeeTimeList from '@/components/TeeTimeList';
import SiteHeader from '@/components/SiteHeader';

export const dynamic = 'force-dynamic'; // Ensure fresh data on every request

export default async function MainPage({ searchParams }: { searchParams: Promise<{ date?: string }> }) {
  const resolvedParams = await searchParams;
  const dateStr = resolvedParams.date;
  const date = dateStr ? new Date(dateStr) : new Date();

  // Server-side Fetching - now automatically uses logged-in user's segment
  const teeTimes = await getTeeTimesByDate(date, undefined, undefined);

  return (
    <div className="flex flex-col h-screen bg-gray-50 max-w-md mx-auto shadow-2xl overflow-hidden relative">
      <SiteHeader />

      <div className="flex-1 overflow-y-auto pb-24">
        {/* Client Component for Interactive List */}
        <TeeTimeList initialTeeTimes={teeTimes} initialDate={date} />
      </div>

      <nav className="fixed bottom-0 w-full max-w-md bg-white border-t border-gray-200 flex justify-around py-4 text-xs font-medium text-gray-400 z-50 pb-safe">
        <button className="flex flex-col items-center text-black"><Home size={24} className="mb-1" />í™ˆ</button>
        <button className="flex flex-col items-center hover:text-black"><Ticket size={24} className="mb-1" />ì˜ˆì•½</button>
        <button className="flex flex-col items-center hover:text-black"><User size={24} className="mb-1" />MY</button>
        <button className="flex flex-col items-center hover:text-black"><Menu size={24} className="mb-1" />ë©”ë‰´</button>
      </nav>
    </div>
  );
}
```

### File: `app/payment/fail/page.tsx`

```tsx
"use client";

import { Suspense } from 'react';
import { useRouter, useSearchParams } from 'next/navigation';
import { AlertCircle, Home } from 'lucide-react';

function PaymentFailContent() {
  const router = useRouter();
  const searchParams = useSearchParams();

  const errorCode = searchParams.get('code');
  const errorMessage = searchParams.get('message');

  return (
    <div className="flex flex-col items-center justify-center min-h-screen bg-gray-50 p-6">
      <div className="bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center">
        <div className="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <AlertCircle className="w-10 h-10 text-red-600" />
        </div>

        <h1 className="text-2xl font-bold text-gray-900 mb-2">ê²°ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤</h1>

        <p className="text-gray-600 mb-6">
          ê²°ì œ ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
        </p>

        {(errorCode || errorMessage) && (
          <div className="bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-left">
            {errorCode && (
              <div className="mb-2">
                <span className="text-xs font-bold text-red-800">ì˜¤ë¥˜ ì½”ë“œ:</span>
                <span className="text-sm text-red-700 ml-2">{errorCode}</span>
              </div>
            )}
            {errorMessage && (
              <div>
                <span className="text-xs font-bold text-red-800">ì˜¤ë¥˜ ë©”ì‹œì§€:</span>
                <p className="text-sm text-red-700 mt-1">{errorMessage}</p>
              </div>
            )}
          </div>
        )}

        <div className="space-y-3">
          <button
            onClick={() => router.push('/')}
            className="w-full bg-gray-900 text-white py-3 rounded-xl font-bold hover:bg-gray-800 transition-colors flex items-center justify-center gap-2"
          >
            <Home size={20} />
            í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
          </button>

          <button
            onClick={() => router.back()}
            className="w-full bg-gray-200 text-gray-800 py-3 rounded-xl font-bold hover:bg-gray-300 transition-colors"
          >
            ë‹¤ì‹œ ì‹œë„í•˜ê¸°
          </button>
        </div>

        <div className="mt-6 pt-6 border-t border-gray-200">
          <p className="text-xs text-gray-500">
            ë¬¸ì œê°€ ê³„ì†ë˜ë©´ ê³ ê°ì„¼í„°(1234-5678)ë¡œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.
          </p>
        </div>
      </div>
    </div>
  );
}

export default function PaymentFailPage() {
  return (
    <Suspense fallback={
      <div className="flex flex-col items-center justify-center min-h-screen bg-gray-50">
        <div className="text-gray-500">ë¡œë”© ì¤‘...</div>
      </div>
    }>
      <PaymentFailContent />
    </Suspense>
  );
}
```

### File: `app/payment/success/page.tsx`

```tsx
"use client";

import { Suspense, useEffect, useState } from 'react';
import { useRouter, useSearchParams } from 'next/navigation';
import { Loader2, CheckCircle2, AlertCircle } from 'lucide-react';

function PaymentSuccessContent() {
  const router = useRouter();
  const searchParams = useSearchParams();
  const [status, setStatus] = useState<'processing' | 'success' | 'error'>('processing');
  const [message, setMessage] = useState('ê²°ì œë¥¼ í™•ì¸í•˜ê³  ìˆìŠµë‹ˆë‹¤...');
  const [errorDetails, setErrorDetails] = useState<string | null>(null);

  useEffect(() => {
    async function confirmPayment() {
      try {
        // Extract query params
        const paymentKey = searchParams.get('paymentKey');
        const orderId = searchParams.get('orderId');
        const amount = searchParams.get('amount');

        if (!paymentKey || !orderId || !amount) {
          setStatus('error');
          setMessage('ê²°ì œ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
          setErrorDetails('Missing payment parameters');
          return;
        }

        // Extract metadata from orderId (format: ORD-{timestamp}-{userId}-{teeTimeId})
        const orderParts = orderId.split('-');
        if (orderParts.length < 4) {
          setStatus('error');
          setMessage('ì£¼ë¬¸ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
          setErrorDetails('Invalid orderId format');
          return;
        }

        const userId = parseInt(orderParts[2]);
        const teeTimeId = parseInt(orderParts[3]);

        // Get additional metadata from sessionStorage if available
        const storedMetadata = sessionStorage.getItem('paymentMetadata');
        let metadata = { userId, teeTimeId, finalPrice: parseInt(amount), discountBreakdown: null };

        if (storedMetadata) {
          try {
            const parsed = JSON.parse(storedMetadata);
            metadata = { ...metadata, ...parsed };
            sessionStorage.removeItem('paymentMetadata'); // Clean up
          } catch (e) {
            console.warn('Failed to parse stored metadata:', e);
          }
        }

        // Call backend to confirm payment
        const response = await fetch('/api/payments/confirm', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            paymentKey,
            orderId,
            amount: parseInt(amount),
            metadata,
          }),
        });

        const result = await response.json();

        if (!response.ok) {
          setStatus('error');
          setMessage(result.error || 'ê²°ì œ í™•ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
          setErrorDetails(result.details || result.warning || null);
          return;
        }

        // Success!
        setStatus('success');
        setMessage('ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!');

        // Redirect to reservations page after 2 seconds
        setTimeout(() => {
          router.push('/reservations');
        }, 2000);
      } catch (error) {
        console.error('Payment confirmation error:', error);
        setStatus('error');
        setMessage('ê²°ì œ í™•ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
        setErrorDetails(error instanceof Error ? error.message : 'Unknown error');
      }
    }

    confirmPayment();
  }, [searchParams, router]);

  return (
    <div className="flex flex-col items-center justify-center min-h-screen bg-gray-50 p-6">
      <div className="bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center">
        {status === 'processing' && (
          <>
            <Loader2 className="w-16 h-16 text-blue-600 animate-spin mx-auto mb-4" />
            <h1 className="text-xl font-bold text-gray-900 mb-2">{message}</h1>
            <p className="text-gray-600 text-sm">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...</p>
          </>
        )}

        {status === 'success' && (
          <>
            <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
              <CheckCircle2 className="w-10 h-10 text-green-600" />
            </div>
            <h1 className="text-2xl font-bold text-gray-900 mb-2">{message}</h1>
            <p className="text-gray-600 mb-6">ì˜ˆì•½ ë‚´ì—­ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.</p>
            <div className="flex gap-3">
              <button
                onClick={() => router.push('/reservations')}
                className="flex-1 bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors"
              >
                ì˜ˆì•½ ë‚´ì—­ ë³´ê¸°
              </button>
              <button
                onClick={() => router.push('/')}
                className="flex-1 bg-gray-200 text-gray-800 py-3 rounded-xl font-bold hover:bg-gray-300 transition-colors"
              >
                í™ˆìœ¼ë¡œ
              </button>
            </div>
          </>
        )}

        {status === 'error' && (
          <>
            <div className="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
              <AlertCircle className="w-10 h-10 text-red-600" />
            </div>
            <h1 className="text-2xl font-bold text-gray-900 mb-2">{message}</h1>
            {errorDetails && (
              <div className="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
                <p className="text-red-700 text-sm">{errorDetails}</p>
              </div>
            )}
            <p className="text-gray-600 mb-6">
              ë¬¸ì œê°€ ì§€ì†ë˜ë©´ ê³ ê°ì„¼í„°ë¡œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.
            </p>
            <div className="flex gap-3">
              <button
                onClick={() => router.push('/')}
                className="flex-1 bg-gray-900 text-white py-3 rounded-xl font-bold hover:bg-gray-800 transition-colors"
              >
                í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
              </button>
            </div>
          </>
        )}
      </div>
    </div>
  );
}

export default function PaymentSuccessPage() {
  return (
    <Suspense fallback={
      <div className="flex flex-col items-center justify-center min-h-screen bg-gray-50">
        <div className="text-gray-500">ë¡œë”© ì¤‘...</div>
      </div>
    }>
      <PaymentSuccessContent />
    </Suspense>
  );
}
```

### File: `app/policy/privacy/page.tsx`

```tsx
export default function PrivacyPage() {
  return (
    <div className="min-h-screen bg-gray-50 py-12 px-4">
      <div className="max-w-3xl mx-auto bg-white rounded-2xl shadow-xl p-8">
        <h1 className="text-3xl font-bold mb-2">TUGOL ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</h1>
        <p className="text-sm text-gray-500 mb-8">ì‹œí–‰ì¼: 2026ë…„ 1ì›” 15ì¼</p>

        <div className="space-y-8 text-gray-800 leading-relaxed">
          {/* ì„œë¬¸ */}
          <section>
            <p className="font-bold text-lg mb-2">
              TUGOL(ì´í•˜ 'íšŒì‚¬')ì€ íšŒì›ì˜ ê°œì¸ì •ë³´ë¥¼ ë§¤ìš° ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ë©°,
              ã€Œê°œì¸ì •ë³´ ë³´í˜¸ë²•ã€, ã€Œì •ë³´í†µì‹ ë§ ì´ìš©ì´‰ì§„ ë° ì •ë³´ë³´í˜¸ ë“±ì— ê´€í•œ ë²•ë¥ ã€ ë“±
              ê´€ë ¨ ë²•ë ¹ì„ ì¤€ìˆ˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.
            </p>
            <p className="text-sm text-gray-600">
              ë³¸ ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ì€ íšŒì‚¬ê°€ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ ì´ìš© ì‹œ ìˆ˜ì§‘Â·ì´ìš©ë˜ëŠ” ê°œì¸ì •ë³´ì™€
              ê·¸ ë³´í˜¸ë¥¼ ìœ„í•œ íšŒì‚¬ì˜ ì¡°ì¹˜ì‚¬í•­ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.
            </p>
          </section>

          {/* 1. ìˆ˜ì§‘í•˜ëŠ” ê°œì¸ì •ë³´ í•­ëª© */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-blue-600">1. ìˆ˜ì§‘í•˜ëŠ” ê°œì¸ì •ë³´ í•­ëª©</h2>
            <div className="space-y-4">
              <div>
                <h3 className="font-bold text-lg mb-2">âœ… í•„ìˆ˜ ì •ë³´ (íšŒì›ê°€ì… ì‹œ ìë™ ìˆ˜ì§‘)</h3>
                <ul className="list-disc list-inside ml-4 space-y-1">
                  <li><strong>ì¹´ì¹´ì˜¤ ì—°ë™ ì‹œ:</strong> ì´ë©”ì¼ ì£¼ì†Œ, ë‹‰ë„¤ì„, í”„ë¡œí•„ ì‚¬ì§„</li>
                  <li><strong>ì˜ˆì•½ ë° ê²°ì œ ì‹œ:</strong> ê²°ì œ ì •ë³´ (ì¹´ë“œ ì •ë³´ëŠ” í† ìŠ¤í˜ì´ë¨¼ì¸ ì—ì„œ ê´€ë¦¬, íšŒì‚¬ëŠ” ì €ì¥í•˜ì§€ ì•ŠìŒ)</li>
                  <li><strong>ì„œë¹„ìŠ¤ ì´ìš© ê¸°ë¡:</strong> ì ‘ì† IP, ì¿ í‚¤, ì„œë¹„ìŠ¤ ì´ìš© ê¸°ë¡, ì˜ˆì•½ ë‚´ì—­</li>
                </ul>
              </div>

              <div>
                <h3 className="font-bold text-lg mb-2">âš™ï¸ ì„ íƒ ì •ë³´ (íšŒì› ë™ì˜ ì‹œ ìˆ˜ì§‘)</h3>
                <ul className="list-disc list-inside ml-4 space-y-1">
                  <li><strong>ìœ„ì¹˜ ì •ë³´:</strong> GPS ê¸°ë°˜ í˜„ì¬ ìœ„ì¹˜ (LBS í• ì¸ ì ìš© ì‹œ)</li>
                  <li><strong>íœ´ëŒ€ì „í™” ë²ˆí˜¸:</strong> ì˜ˆì•½ í™•ì¸ ì•Œë¦¼ ë°œì†¡ ì‹œ</li>
                  <li><strong>ë§ˆì¼€íŒ… ìˆ˜ì‹  ë™ì˜:</strong> ì´ë²¤íŠ¸, í”„ë¡œëª¨ì…˜ ì •ë³´ ìˆ˜ì‹  ì—¬ë¶€</li>
                </ul>
              </div>

              <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4">
                <p className="text-sm text-yellow-800">
                  <strong>ğŸ’¡ ì„ íƒ ì •ë³´ ë¯¸ì œê³µ ì‹œ:</strong> íšŒì›ê°€ì… ë° ì„œë¹„ìŠ¤ ì´ìš©ì€ ê°€ëŠ¥í•˜ë‚˜,
                  ìœ„ì¹˜ ê¸°ë°˜ í• ì¸, ì•Œë¦¼ ìˆ˜ì‹  ë“± ì¼ë¶€ ê¸°ëŠ¥ì´ ì œí•œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
              </div>
            </div>
          </section>

          {/* 2. ê°œì¸ì •ë³´ì˜ ìˆ˜ì§‘ ë° ì´ìš© ëª©ì  */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-blue-600">2. ê°œì¸ì •ë³´ì˜ ìˆ˜ì§‘ ë° ì´ìš© ëª©ì </h2>
            <ul className="list-decimal list-inside space-y-2 ml-4">
              <li><strong>íšŒì› ê´€ë¦¬:</strong> íšŒì› ì‹ë³„, ë³¸ì¸ í™•ì¸, ë¶€ì • ì´ìš© ë°©ì§€</li>
              <li><strong>ì„œë¹„ìŠ¤ ì œê³µ:</strong> í‹°íƒ€ì„ ì˜ˆì•½, ê²°ì œ ì²˜ë¦¬, ì˜ˆì•½ í™•ì¸ ì•ˆë‚´</li>
              <li><strong>ë§ì¶¤í˜• ì„œë¹„ìŠ¤:</strong> ì‚¬ìš©ì ì„¸ê·¸ë¨¼íŠ¸ ë¶„ì„ (PRESTIGE, CHERRY ë“±), ìœ„ì¹˜ ê¸°ë°˜ í• ì¸</li>
              <li><strong>ì„œë¹„ìŠ¤ ê°œì„ :</strong> ì´ìš© í†µê³„ ë¶„ì„, ì‹ ê·œ ì„œë¹„ìŠ¤ ê°œë°œ, AI ê°€ê²© ì•Œê³ ë¦¬ì¦˜ ìµœì í™”</li>
              <li><strong>ê³ ê° ì§€ì›:</strong> ë¬¸ì˜ ì‘ëŒ€, ë¶„ìŸ ì¡°ì •, ê³µì§€ì‚¬í•­ ì „ë‹¬</li>
              <li><strong>ë§ˆì¼€íŒ… (ì„ íƒ):</strong> ì´ë²¤íŠ¸, í”„ë¡œëª¨ì…˜ ì •ë³´ ì œê³µ (ë™ì˜í•œ ê²½ìš°ì— í•œí•¨)</li>
            </ul>
          </section>

          {/* 3. ê°œì¸ì •ë³´ì˜ ë³´ìœ  ë° ì´ìš© ê¸°ê°„ */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-blue-600">3. ê°œì¸ì •ë³´ì˜ ë³´ìœ  ë° ì´ìš© ê¸°ê°„</h2>
            <ul className="list-disc list-inside space-y-2 ml-4">
              <li><strong>íšŒì› íƒˆí‡´ ì‹œê¹Œì§€</strong> ê°œì¸ì •ë³´ë¥¼ ë³´ìœ í•˜ë©°, íƒˆí‡´ ì¦‰ì‹œ ì§€ì²´ ì—†ì´ íŒŒê¸°í•©ë‹ˆë‹¤.</li>
              <li><strong>ë‹¨, ê´€ë ¨ ë²•ë ¹ì— ë”°ë¼ ë³´ì¡´ì´ í•„ìš”í•œ ê²½ìš°</strong> í•´ë‹¹ ê¸°ê°„ ë™ì•ˆ ë³´ì¡´í•©ë‹ˆë‹¤:
                <ul className="list-disc list-inside ml-6 mt-1 text-sm space-y-1">
                  <li>ê³„ì•½ ë˜ëŠ” ì²­ì•½ì² íšŒ ë“±ì— ê´€í•œ ê¸°ë¡: 5ë…„ (ì „ììƒê±°ë˜ë²•)</li>
                  <li>ëŒ€ê¸ˆê²°ì œ ë° ì¬í™” ë“±ì˜ ê³µê¸‰ì— ê´€í•œ ê¸°ë¡: 5ë…„ (ì „ììƒê±°ë˜ë²•)</li>
                  <li>ì†Œë¹„ì ë¶ˆë§Œ ë˜ëŠ” ë¶„ìŸì²˜ë¦¬ì— ê´€í•œ ê¸°ë¡: 3ë…„ (ì „ììƒê±°ë˜ë²•)</li>
                  <li>ì ‘ì† ë¡œê·¸ ê¸°ë¡: 3ê°œì›” (í†µì‹ ë¹„ë°€ë³´í˜¸ë²•)</li>
                </ul>
              </li>
            </ul>
          </section>

          {/* 4. ê°œì¸ì •ë³´ì˜ ì œ3ì ì œê³µ */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-blue-600">4. ê°œì¸ì •ë³´ì˜ ì œ3ì ì œê³µ</h2>
            <p className="mb-3">íšŒì‚¬ëŠ” íšŒì›ì˜ ê°œì¸ì •ë³´ë¥¼ ì›ì¹™ì ìœ¼ë¡œ ì™¸ë¶€ì— ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
            <p className="mb-2"><strong>ë‹¨, ë‹¤ìŒì˜ ê²½ìš° ì˜ˆì™¸ë¡œ í•©ë‹ˆë‹¤:</strong></p>
            <ul className="list-decimal list-inside space-y-2 ml-4">
              <li>íšŒì›ì´ ì‚¬ì „ì— ë™ì˜í•œ ê²½ìš°</li>
              <li>ë²•ë ¹ì˜ ê·œì •ì— ì˜í•˜ê±°ë‚˜ ìˆ˜ì‚¬ ëª©ì ìœ¼ë¡œ ë²•ë ¹ì— ì •í•´ì§„ ì ˆì°¨ì™€ ë°©ë²•ì— ë”°ë¼ ìˆ˜ì‚¬ê¸°ê´€ì˜ ìš”êµ¬ê°€ ìˆëŠ” ê²½ìš°</li>
            </ul>
          </section>

          {/* 5. ê°œì¸ì •ë³´ ì²˜ë¦¬ ìœ„íƒ */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-blue-600">5. ê°œì¸ì •ë³´ ì²˜ë¦¬ ìœ„íƒ</h2>
            <p className="mb-3">íšŒì‚¬ëŠ” ì›í™œí•œ ì„œë¹„ìŠ¤ ì œê³µì„ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ ê°œì¸ì •ë³´ ì²˜ë¦¬ë¥¼ ìœ„íƒí•˜ê³  ìˆìŠµë‹ˆë‹¤:</p>
            <table className="w-full border-collapse border border-gray-300 text-sm">
              <thead className="bg-gray-100">
                <tr>
                  <th className="border border-gray-300 p-2">ìˆ˜íƒì—…ì²´</th>
                  <th className="border border-gray-300 p-2">ìœ„íƒ ì—…ë¬´ ë‚´ìš©</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td className="border border-gray-300 p-2">í† ìŠ¤í˜ì´ë¨¼ì¸ (ì£¼)</td>
                  <td className="border border-gray-300 p-2">ì „ìê²°ì œ ëŒ€í–‰</td>
                </tr>
                <tr>
                  <td className="border border-gray-300 p-2">Supabase Inc.</td>
                  <td className="border border-gray-300 p-2">ë°ì´í„°ë² ì´ìŠ¤ ë° í´ë¼ìš°ë“œ ì„œë²„ ìš´ì˜</td>
                </tr>
                <tr>
                  <td className="border border-gray-300 p-2">ì¹´ì¹´ì˜¤(ì£¼)</td>
                  <td className="border border-gray-300 p-2">ì†Œì…œ ë¡œê·¸ì¸ ì¸ì¦</td>
                </tr>
              </tbody>
            </table>
            <p className="text-sm text-gray-600 mt-2">
              ìœ„íƒ ê³„ì•½ ì‹œ ê°œì¸ì •ë³´ ë³´í˜¸ë²•ì— ë”°ë¼ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ë„ë¡ ê·œì •í•˜ê³  ìˆìœ¼ë©°,
              ìœ„íƒ ë‚´ìš©ì´ë‚˜ ìˆ˜íƒ ì—…ì²´ê°€ ë³€ê²½ë  ê²½ìš° ê³µì§€ì‚¬í•­ì„ í†µí•´ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.
            </p>
          </section>

          {/* 6. íšŒì›ì˜ ê¶Œë¦¬ì™€ í–‰ì‚¬ ë°©ë²• */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-blue-600">6. íšŒì›ì˜ ê¶Œë¦¬ì™€ í–‰ì‚¬ ë°©ë²•</h2>
            <p className="mb-2">íšŒì›ì€ ì–¸ì œë“ ì§€ ë‹¤ìŒì˜ ê¶Œë¦¬ë¥¼ í–‰ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
            <ul className="list-disc list-inside space-y-2 ml-4">
              <li><strong>ê°œì¸ì •ë³´ ì—´ëŒ ìš”êµ¬</strong></li>
              <li><strong>ê°œì¸ì •ë³´ ì •ì •Â·ì‚­ì œ ìš”êµ¬</strong> (ë²•ë ¹ì— ì˜í•´ ë³´ì¡´ì´ í•„ìš”í•œ ê²½ìš° ì œì™¸)</li>
              <li><strong>ê°œì¸ì •ë³´ ì²˜ë¦¬ ì •ì§€ ìš”êµ¬</strong></li>
              <li><strong>íšŒì› íƒˆí‡´ (ê°œì¸ì •ë³´ ì‚­ì œ ìš”êµ¬)</strong></li>
            </ul>
            <p className="mt-3 text-sm">
              ê¶Œë¦¬ í–‰ì‚¬ëŠ” <strong>ê³ ê°ì„¼í„°(support@tugol.com)</strong> ë˜ëŠ” ì„œë¹„ìŠ¤ ë‚´ "ì„¤ì • &gt; ë‚´ ì •ë³´ ê´€ë¦¬"ë¥¼ í†µí•´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
            </p>
          </section>

          {/* 7. ê°œì¸ì •ë³´ ìë™ ìˆ˜ì§‘ (ì¿ í‚¤) */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-blue-600">7. ê°œì¸ì •ë³´ ìë™ ìˆ˜ì§‘ ì¥ì¹˜ (ì¿ í‚¤)</h2>
            <p className="mb-2">
              íšŒì‚¬ëŠ” ì„œë¹„ìŠ¤ ì´ìš© í¸ì˜ì„± í–¥ìƒì„ ìœ„í•´ ì¿ í‚¤(Cookie)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
            </p>
            <ul className="list-disc list-inside space-y-1 ml-4 text-sm">
              <li><strong>ì¿ í‚¤ì˜ ì‚¬ìš© ëª©ì :</strong> ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€, ë§ì¶¤í˜• ì„œë¹„ìŠ¤ ì œê³µ</li>
              <li><strong>ì¿ í‚¤ ê±°ë¶€ ë°©ë²•:</strong> ë¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ ì¿ í‚¤ ì°¨ë‹¨ ê°€ëŠ¥ (ì¼ë¶€ ê¸°ëŠ¥ ì œí•œë  ìˆ˜ ìˆìŒ)</li>
            </ul>
          </section>

          {/* 8. ê°œì¸ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•œ ê¸°ìˆ ì Â·ê´€ë¦¬ì  ëŒ€ì±… */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-blue-600">8. ê°œì¸ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•œ ëŒ€ì±…</h2>
            <ul className="list-disc list-inside space-y-2 ml-4 text-sm">
              <li><strong>ì•”í˜¸í™”:</strong> ë¹„ë°€ë²ˆí˜¸ ë“± ì¤‘ìš” ì •ë³´ëŠ” ì•”í˜¸í™”í•˜ì—¬ ì €ì¥</li>
              <li><strong>ì ‘ê·¼ í†µì œ:</strong> ê°œì¸ì •ë³´ ì²˜ë¦¬ ì‹œìŠ¤í…œ ì ‘ê·¼ ê¶Œí•œ ìµœì†Œí™”</li>
              <li><strong>ë³´ì•ˆ í”„ë¡œê·¸ë¨:</strong> í•´í‚¹, ë°”ì´ëŸ¬ìŠ¤ ë°©ì§€ë¥¼ ìœ„í•œ ë³´ì•ˆ í”„ë¡œê·¸ë¨ ìš´ì˜</li>
              <li><strong>ì§ì› êµìœ¡:</strong> ê°œì¸ì •ë³´ ì·¨ê¸‰ ì§ì›ì— ëŒ€í•œ ì •ê¸° êµìœ¡ ì‹¤ì‹œ</li>
            </ul>
          </section>

          {/* 9. ê°œì¸ì •ë³´ ë³´í˜¸ì±…ì„ì */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-blue-600">9. ê°œì¸ì •ë³´ ë³´í˜¸ì±…ì„ì</h2>
            <div className="bg-blue-50 border border-blue-200 p-4 rounded-lg">
              <p className="font-bold mb-2">ê°œì¸ì •ë³´ ë³´í˜¸ì±…ì„ì</p>
              <ul className="text-sm space-y-1">
                <li>ì´ë¦„: ê°œì¸ì •ë³´ë³´í˜¸íŒ€ì¥</li>
                <li>ì´ë©”ì¼: privacy@tugol.com</li>
                <li>ì „í™”: 1234-5678</li>
                <li>ìš´ì˜ì‹œê°„: í‰ì¼ 09:00-18:00 (ì£¼ë§/ê³µíœ´ì¼ íœ´ë¬´)</li>
              </ul>
            </div>
            <p className="text-sm text-gray-600 mt-3">
              ê°œì¸ì •ë³´ ì¹¨í•´ì— ëŒ€í•œ ì‹ ê³ ë‚˜ ìƒë‹´ì´ í•„ìš”í•˜ì‹  ê²½ìš° ì•„ë˜ ê¸°ê´€ì— ë¬¸ì˜ ê°€ëŠ¥í•©ë‹ˆë‹¤:
            </p>
            <ul className="text-xs text-gray-600 mt-2 space-y-1 ml-4">
              <li>ê°œì¸ì •ë³´ì¹¨í•´ì‹ ê³ ì„¼í„°: (êµ­ë²ˆì—†ì´) 118 / privacy.kisa.or.kr</li>
              <li>ëŒ€ê²€ì°°ì²­ ì‚¬ì´ë²„ìˆ˜ì‚¬ê³¼: (êµ­ë²ˆì—†ì´) 1301 / www.spo.go.kr</li>
              <li>ê²½ì°°ì²­ ì‚¬ì´ë²„ì•ˆì „êµ­: (êµ­ë²ˆì—†ì´) 182 / cyberbureau.police.go.kr</li>
            </ul>
          </section>

          {/* 10. ì•„ë™ì˜ ê°œì¸ì •ë³´ ë³´í˜¸ */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-blue-600">10. ì•„ë™ì˜ ê°œì¸ì •ë³´ ë³´í˜¸</h2>
            <p>
              íšŒì‚¬ëŠ” ë§Œ 19ì„¸ ë¯¸ë§Œì˜ ì•„ë™ìœ¼ë¡œë¶€í„° ê°œì¸ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
              ë§Œ 19ì„¸ ë¯¸ë§Œì€ íšŒì›ê°€ì…ì´ ë¶ˆê°€ëŠ¥í•˜ë©°, ì´ë¥¼ ìœ„ë°˜í•œ ê²½ìš° ê³„ì •ì´ ì‚­ì œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>
          </section>

          {/* 11. ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ë³€ê²½ */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-blue-600">11. ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ë³€ê²½</h2>
            <p>
              ë³¸ ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ì€ ë²•ë ¹Â·ì •ì±… ë˜ëŠ” ë³´ì•ˆ ê¸°ìˆ ì˜ ë³€ê²½ì— ë”°ë¼ ë‚´ìš©ì´ ì¶”ê°€Â·ì‚­ì œ ë° ìˆ˜ì •ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
              ë³€ê²½ ì‹œ ì‹œí–‰ì¼ì 7ì¼ ì „ì— ê³µì§€ì‚¬í•­ì„ í†µí•´ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.
            </p>
          </section>

          {/* ë¶€ì¹™ */}
          <section className="mt-12 pt-8 border-t border-gray-300">
            <h2 className="text-lg font-bold mb-2">ë¶€ì¹™</h2>
            <p className="text-sm text-gray-600">ë³¸ ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ì€ 2026ë…„ 1ì›” 15ì¼ë¶€í„° ì‹œí–‰ë©ë‹ˆë‹¤.</p>
            <p className="text-sm text-gray-600 mt-2">
              ë¬¸ì˜: privacy@tugol.com | ê³ ê°ì„¼í„°: 1234-5678 (í‰ì¼ 09:00-18:00)
            </p>
          </section>
        </div>

        <div className="mt-8 text-center">
          <a href="/" className="inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 transition-colors">
            ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
          </a>
        </div>
      </div>
    </div>
  );
}
```

### File: `app/policy/terms/page.tsx`

```tsx
export default function TermsPage() {
  return (
    <div className="min-h-screen bg-gray-50 py-12 px-4">
      <div className="max-w-3xl mx-auto bg-white rounded-2xl shadow-xl p-8">
        <h1 className="text-3xl font-bold mb-2">TUGOL ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€</h1>
        <p className="text-sm text-gray-500 mb-8">ì‹œí–‰ì¼: 2026ë…„ 1ì›” 15ì¼</p>

        <div className="space-y-8 text-gray-800 leading-relaxed">
          {/* ì œ1ì¡° */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-green-600">ì œ1ì¡° (ëª©ì )</h2>
            <p>
              ë³¸ ì•½ê´€ì€ TUGOL(ì´í•˜ 'íšŒì‚¬')ì´ ì œê³µí•˜ëŠ” ê³¨í”„ì¥ ì˜ˆì•½ ì¤‘ê°œ ì„œë¹„ìŠ¤(ì´í•˜ 'ì„œë¹„ìŠ¤')ì˜ ì´ìš©ê³¼ ê´€ë ¨í•˜ì—¬
              íšŒì‚¬ì™€ íšŒì› ê°„ì˜ ê¶Œë¦¬, ì˜ë¬´ ë° ì±…ì„ì‚¬í•­, ê¸°íƒ€ í•„ìš”í•œ ì‚¬í•­ì„ ê·œì •í•¨ì„ ëª©ì ìœ¼ë¡œ í•©ë‹ˆë‹¤.
            </p>
          </section>

          {/* ì œ2ì¡° */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-green-600">ì œ2ì¡° (ì •ì˜)</h2>
            <ol className="list-decimal list-inside space-y-2 ml-4">
              <li><strong>"íšŒì›"</strong>ì´ë€ ë³¸ ì•½ê´€ì— ë™ì˜í•˜ê³  íšŒì‚¬ê°€ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” ìë¥¼ ë§í•©ë‹ˆë‹¤.</li>
              <li><strong>"í‹°íƒ€ì„"</strong>ì´ë€ ê³¨í”„ì¥ì—ì„œ ê³¨í”„ë¥¼ ì‹œì‘í•  ìˆ˜ ìˆëŠ” ì˜ˆì•½ ê°€ëŠ¥í•œ ì‹œê°„ëŒ€ë¥¼ ë§í•©ë‹ˆë‹¤.</li>
              <li><strong>"ì˜ˆì•½"</strong>ì´ë€ íšŒì›ì´ í‹°íƒ€ì„ì„ ì„ íƒí•˜ê³  ê²°ì œë¥¼ ì™„ë£Œí•œ ìƒíƒœë¥¼ ë§í•©ë‹ˆë‹¤.</li>
              <li><strong>"ë…¸ì‡¼(No-Show)"</strong>ë€ ì˜ˆì•½ í™•ì • í›„ ì‚¬ì „ ì·¨ì†Œ ì—†ì´ í•´ë‹¹ í‹°íƒ€ì„ì— ì¶œì„í•˜ì§€ ì•Šì€ ê²½ìš°ë¥¼ ë§í•©ë‹ˆë‹¤.</li>
            </ol>
          </section>

          {/* ì œ3ì¡° */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-green-600">ì œ3ì¡° (ì•½ê´€ì˜ íš¨ë ¥ ë° ë³€ê²½)</h2>
            <ol className="list-decimal list-inside space-y-2 ml-4">
              <li>ë³¸ ì•½ê´€ì€ íšŒì›ì´ ì•½ê´€ ë‚´ìš©ì— ë™ì˜í•˜ê³  íšŒì›ê°€ì…ì„ ì™„ë£Œí•¨ìœ¼ë¡œì¨ íš¨ë ¥ì´ ë°œìƒí•©ë‹ˆë‹¤.</li>
              <li>íšŒì‚¬ëŠ” í•„ìš”í•œ ê²½ìš° ê´€ë ¨ ë²•ë ¹ì„ ìœ„ë°°í•˜ì§€ ì•ŠëŠ” ë²”ìœ„ì—ì„œ ë³¸ ì•½ê´€ì„ ë³€ê²½í•  ìˆ˜ ìˆìœ¼ë©°,
                  ë³€ê²½ëœ ì•½ê´€ì€ ì‹œí–‰ì¼ 7ì¼ ì „ì— ì„œë¹„ìŠ¤ ë‚´ ê³µì§€í•©ë‹ˆë‹¤.</li>
              <li>íšŒì›ì´ ë³€ê²½ëœ ì•½ê´€ì— ë™ì˜í•˜ì§€ ì•Šì„ ê²½ìš° ì„œë¹„ìŠ¤ ì´ìš©ì„ ì¤‘ë‹¨í•˜ê³  íƒˆí‡´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
            </ol>
          </section>

          {/* ì œ4ì¡° */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-green-600">ì œ4ì¡° (íšŒì›ê°€ì…)</h2>
            <ol className="list-decimal list-inside space-y-2 ml-4">
              <li>íšŒì›ê°€ì…ì€ ë§Œ 19ì„¸ ì´ìƒë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
              <li>íšŒì›ì€ ì‹¤ëª… ë° ì‹¤ì œ ì •ë³´ë¥¼ ê¸°ì¬í•˜ì—¬ì•¼ í•˜ë©°, í—ˆìœ„ ì •ë³´ ê¸°ì¬ ì‹œ ì„œë¹„ìŠ¤ ì´ìš©ì´ ì œí•œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
              <li>íšŒì›ì€ ìì‹ ì˜ ê³„ì •ì„ íƒ€ì¸ì—ê²Œ ì–‘ë„í•˜ê±°ë‚˜ ëŒ€ì—¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</li>
            </ol>
          </section>

          {/* ì œ5ì¡° - í•µì‹¬ ì˜ˆì•½ ë° ê²°ì œ */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-green-600">ì œ5ì¡° (ì˜ˆì•½ ë° ê²°ì œ)</h2>
            <ol className="list-decimal list-inside space-y-2 ml-4">
              <li>íšŒì›ì€ ì„œë¹„ìŠ¤ë¥¼ í†µí•´ ì›í•˜ëŠ” í‹°íƒ€ì„ì„ ì„ íƒí•˜ê³  ê²°ì œë¥¼ ì™„ë£Œí•˜ì—¬ ì˜ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
              <li>ì˜ˆì•½ ì‹œ í‘œì‹œë˜ëŠ” ê°€ê²©ì€ <strong>ë™ì  ê°€ê²© ì•Œê³ ë¦¬ì¦˜</strong>ì— ë”°ë¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³€ë™ë  ìˆ˜ ìˆìœ¼ë©°,
                  ë‚ ì”¨, ì‹œê°„, íšŒì› ë“±ê¸‰ ë“±ì´ ê³ ë ¤ë©ë‹ˆë‹¤.</li>
              <li>ê²°ì œëŠ” íšŒì‚¬ê°€ ì§€ì •í•œ ì „ìê²°ì œ ìˆ˜ë‹¨(í† ìŠ¤í˜ì´ë¨¼ì¸  ë“±)ì„ í†µí•´ ì§„í–‰ë˜ë©°,
                  ê²°ì œ ì™„ë£Œ ì‹œì ì— ì˜ˆì•½ì´ í™•ì •ë©ë‹ˆë‹¤.</li>
              <li>ì˜ˆì•½ í™•ì • í›„ì—ëŠ” ì›ì¹™ì ìœ¼ë¡œ <strong>ì·¨ì†Œ ë° í™˜ë¶ˆì´ ë¶ˆê°€ëŠ¥</strong>í•©ë‹ˆë‹¤.
                  ë‹¨, ì œ6ì¡°ì— ëª…ì‹œëœ ê¸°ìƒ ì•…í™”ì˜ ê²½ìš°ëŠ” ì˜ˆì™¸ë¡œ í•©ë‹ˆë‹¤.</li>
            </ol>
          </section>

          {/* ì œ6ì¡° - í•µì‹¬ í™˜ë¶ˆ ê·œì • */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-red-600">ì œ6ì¡° (í™˜ë¶ˆ ê·œì • - ì¤‘ìš”)</h2>
            <div className="bg-yellow-50 border-l-4 border-yellow-500 p-4 mb-4">
              <p className="font-bold text-yellow-800">âš ï¸ í•„ë…: í™˜ë¶ˆì€ ê¸°ìƒ ì¡°ê±´ì— ë”°ë¼ ìë™ ì²˜ë¦¬ë©ë‹ˆë‹¤</p>
            </div>
            <ol className="list-decimal list-inside space-y-3 ml-4">
              <li>
                <strong className="text-red-600">ê¸°ìƒ ì•…í™” ì‹œ ìë™ í™˜ë¶ˆ</strong>
                <ul className="list-disc list-inside ml-6 mt-2 space-y-1 text-sm">
                  <li>ì˜ˆì•½ ë‹¹ì¼ í•´ë‹¹ í‹°íƒ€ì„ ì‹œê°„ëŒ€ì˜ <strong>ì‹œê°„ë‹¹ ê°•ìˆ˜ëŸ‰ì´ 10mm ì´ìƒ</strong>ì¸ ê²½ìš°,
                      ì˜ˆì•½ì€ ìë™ìœ¼ë¡œ ì·¨ì†Œë˜ë©° <strong>ê²°ì œ ê¸ˆì•¡ì˜ 100%ê°€ í™˜ë¶ˆ</strong>ë©ë‹ˆë‹¤.</li>
                  <li>í™˜ë¶ˆì€ ê¸°ìƒì²­ ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìë™ ì²˜ë¦¬ë˜ë©°, ë³„ë„ì˜ í™˜ë¶ˆ ì‹ ì²­ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
                  <li>í™˜ë¶ˆ ì²˜ë¦¬ëŠ” ê¸°ìƒ ì¡°ê±´ í™•ì¸ í›„ ì˜ì—…ì¼ ê¸°ì¤€ 3~5ì¼ ì´ë‚´ì— ì™„ë£Œë©ë‹ˆë‹¤.</li>
                </ul>
              </li>
              <li>
                <strong>íšŒì›ì˜ ê°œì¸ ì‚¬ì •ì— ì˜í•œ ì·¨ì†Œ</strong>
                <ul className="list-disc list-inside ml-6 mt-2 space-y-1 text-sm">
                  <li>íšŒì›ì˜ ë‹¨ìˆœ ë³€ì‹¬, ì¼ì • ë³€ê²½ ë“± ê°œì¸ ì‚¬ì •ìœ¼ë¡œ ì¸í•œ ì˜ˆì•½ ì·¨ì†ŒëŠ” <strong>í™˜ë¶ˆì´ ë¶ˆê°€ëŠ¥</strong>í•©ë‹ˆë‹¤.</li>
                  <li>ì˜ˆì•½ ì‹œ íšŒì›ì€ ì´ë¥¼ ì¶©ë¶„íˆ ì¸ì§€í•˜ê³  ì‹ ì¤‘í•˜ê²Œ ì˜ˆì•½í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.</li>
                </ul>
              </li>
              <li>
                <strong>íšŒì‚¬ì˜ ê·€ì±…ì‚¬ìœ ë¡œ ì¸í•œ ì·¨ì†Œ</strong>
                <ul className="list-disc list-inside ml-6 mt-2 space-y-1 text-sm">
                  <li>ê³¨í”„ì¥ì˜ ìš´ì˜ ì¤‘ë‹¨, ì‹œìŠ¤í…œ ì˜¤ë¥˜ ë“± íšŒì‚¬ì˜ ê·€ì±…ì‚¬ìœ ë¡œ ì„œë¹„ìŠ¤ ì œê³µì´ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°
                      ì „ì•¡ í™˜ë¶ˆí•©ë‹ˆë‹¤.</li>
                </ul>
              </li>
            </ol>
          </section>

          {/* ì œ7ì¡° - ë…¸ì‡¼ í˜ë„í‹° */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-green-600">ì œ7ì¡° (ë…¸ì‡¼ í˜ë„í‹°)</h2>
            <ol className="list-decimal list-inside space-y-2 ml-4">
              <li>ì˜ˆì•½ í›„ ì‚¬ì „ ì·¨ì†Œ ì—†ì´ í‹°íƒ€ì„ì— ì¶œì„í•˜ì§€ ì•Šì€ ê²½ìš° <strong>ë…¸ì‡¼ë¡œ ê¸°ë¡</strong>ë˜ë©°,
                  íšŒì›ì˜ ì‹ ìš© ì ìˆ˜(Cherry Score)ê°€ ê°ì†Œí•©ë‹ˆë‹¤.</li>
              <li>ë…¸ì‡¼ê°€ <strong>3íšŒ ì´ìƒ ëˆ„ì </strong>ë  ê²½ìš°, íšŒì› ê³„ì •ì€ <strong>ìë™ìœ¼ë¡œ ì´ìš© ì •ì§€</strong>ë˜ë©°
                  í–¥í›„ ì„œë¹„ìŠ¤ ì´ìš©ì´ ì œí•œë©ë‹ˆë‹¤.</li>
              <li>í—ˆìœ„ ë…¸ì‡¼ ì‹ ê³  ë˜ëŠ” ì•…ì˜ì ì¸ ì˜ˆì•½ í–‰ìœ„ê°€ ì ë°œë  ê²½ìš° ì¦‰ì‹œ ê³„ì •ì´ ì˜êµ¬ ì •ì§€ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
            </ol>
          </section>

          {/* ì œ8ì¡° */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-green-600">ì œ8ì¡° (íšŒì‚¬ì˜ ì˜ë¬´)</h2>
            <ol className="list-decimal list-inside space-y-2 ml-4">
              <li>íšŒì‚¬ëŠ” ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ì œê³µì„ ìœ„í•´ ìµœì„ ì„ ë‹¤í•©ë‹ˆë‹¤.</li>
              <li>íšŒì‚¬ëŠ” íšŒì›ì˜ ê°œì¸ì •ë³´ë¥¼ ê´€ë ¨ ë²•ë ¹ì— ë”°ë¼ ë³´í˜¸í•˜ë©°,
                  ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ì—ì„œ ì •í•œ ë°”ì— ë”°ë¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.</li>
              <li>íšŒì‚¬ëŠ” ì„œë¹„ìŠ¤ ì´ìš©ê³¼ ê´€ë ¨í•˜ì—¬ ë°œìƒí•˜ëŠ” íšŒì›ì˜ ë¶ˆë§Œì‚¬í•­ì„ ì‹ ì†íˆ ì²˜ë¦¬í•©ë‹ˆë‹¤.</li>
            </ol>
          </section>

          {/* ì œ9ì¡° */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-green-600">ì œ9ì¡° (íšŒì›ì˜ ì˜ë¬´)</h2>
            <ol className="list-decimal list-inside space-y-2 ml-4">
              <li>íšŒì›ì€ ì˜ˆì•½ ì‹œ ì •í™•í•œ ì •ë³´ë¥¼ ì…ë ¥í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.</li>
              <li>íšŒì›ì€ ì˜ˆì•½í•œ í‹°íƒ€ì„ì— ì„±ì‹¤íˆ ì¶œì„í•˜ì—¬ì•¼ í•˜ë©°, ë¶€ë“ì´í•œ ì‚¬ì •ì´ ìˆì„ ê²½ìš°
                  ì‚¬ì „ì— ê³ ê°ì„¼í„°ì— ì—°ë½í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.</li>
              <li>íšŒì›ì€ ì„œë¹„ìŠ¤ë¥¼ ë¶€ì •í•œ ëª©ì ìœ¼ë¡œ ì´ìš©í•´ì„œëŠ” ì•ˆ ë˜ë©°,
                  íƒ€ì¸ì˜ ëª…ì˜ë‚˜ ì •ë³´ë¥¼ ë„ìš©í•˜ì—¬ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.</li>
            </ol>
          </section>

          {/* ì œ10ì¡° */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-green-600">ì œ10ì¡° (ë©´ì±… ì¡°í•­)</h2>
            <ol className="list-decimal list-inside space-y-2 ml-4">
              <li>íšŒì‚¬ëŠ” ì²œì¬ì§€ë³€, ì „ìŸ, í…ŒëŸ¬ ë“± ë¶ˆê°€í•­ë ¥ì ì¸ ì‚¬ìœ ë¡œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•  ìˆ˜ ì—†ëŠ” ê²½ìš°
                  ì±…ì„ì´ ë©´ì œë©ë‹ˆë‹¤.</li>
              <li>íšŒì‚¬ëŠ” íšŒì›ì´ ê³¨í”„ì¥ ë‚´ì—ì„œ ë°œìƒí•œ ì•ˆì „ì‚¬ê³ , ë¶„ìŸ ë“±ì— ëŒ€í•´ ì±…ì„ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.
                  ê³¨í”„ì¥ ë‚´ ì‚¬ê³ ëŠ” í•´ë‹¹ ê³¨í”„ì¥ê³¼ íšŒì› ê°„ì˜ ë¬¸ì œì…ë‹ˆë‹¤.</li>
              <li>íšŒì‚¬ëŠ” íšŒì› ê°„ ë˜ëŠ” íšŒì›ê³¼ ì œ3ì ê°„ì˜ ê±°ë˜ ë° ë¶„ìŸì— ëŒ€í•´ ê°œì…í•˜ì§€ ì•Šìœ¼ë©° ì±…ì„ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
            </ol>
          </section>

          {/* ì œ11ì¡° */}
          <section>
            <h2 className="text-xl font-bold mb-3 text-green-600">ì œ11ì¡° (ë¶„ìŸ í•´ê²°)</h2>
            <p>
              ë³¸ ì•½ê´€ê³¼ ê´€ë ¨ëœ ë¶„ìŸì€ ëŒ€í•œë¯¼êµ­ ë²•ë¥ ì— ë”°ë¥´ë©°,
              ê´€í•  ë²•ì›ì€ íšŒì‚¬ì˜ ë³¸ì‚¬ ì†Œì¬ì§€ë¥¼ ê´€í• í•˜ëŠ” ë²•ì›ìœ¼ë¡œ í•©ë‹ˆë‹¤.
            </p>
          </section>

          {/* ë¶€ì¹™ */}
          <section className="mt-12 pt-8 border-t border-gray-300">
            <h2 className="text-lg font-bold mb-2">ë¶€ì¹™</h2>
            <p className="text-sm text-gray-600">ë³¸ ì•½ê´€ì€ 2026ë…„ 1ì›” 15ì¼ë¶€í„° ì‹œí–‰ë©ë‹ˆë‹¤.</p>
            <p className="text-sm text-gray-600 mt-2">
              ê³ ê°ì„¼í„°: support@tugol.com | í‰ì¼ 09:00-18:00 (ì£¼ë§/ê³µíœ´ì¼ íœ´ë¬´)
            </p>
          </section>
        </div>

        <div className="mt-8 text-center">
          <a href="/" className="inline-block bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition-colors">
            ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
          </a>
        </div>
      </div>
    </div>
  );
}
```

### File: `app/reservations/page.tsx`

````tsx
"use client";

import { useEffect, useState } from 'react';
import { useRouter } from 'next/navigation';
import { Loader2, ArrowLeft, Calendar, Clock, CreditCard, CheckCircle2 } from 'lucide-react';
import { supabase } from '@/lib/supabase';

// [ìˆ˜ì • í¬ì¸íŠ¸] user_idëŠ” ì¼ë‹¨ ë¬´ì‹œí•˜ê³  ëª¨ë“  ì˜ˆì•½ì„ ê°€ì ¸ì˜¤ê±°ë‚˜, 
// í˜„ì¬ í…ŒìŠ¤íŠ¸ìš© ë°ì´í„°ì— ë§ëŠ” ë°©ì‹ìœ¼ë¡œ í•„í„°ë§ì„ ì ì‹œ í•´ì œí•©ë‹ˆë‹¤.
// ë‚˜ì¤‘ì— ë¡œê·¸ì¸ ë¶™ì´ë©´ ê·¸ë•Œ user_idë¥¼ ì‚´ë¦½ë‹ˆë‹¤.

interface Reservation {
  id: string; // UUIDë¼ì„œ stringìœ¼ë¡œ ë³€ê²½
  final_price: number;
  discount_breakdown: any;
  // payment_statusê°€ DBì— ì—†ì„ ìˆ˜ë„ ìˆìœ¼ë‹ˆ optional ì²˜ë¦¬
  payment_status?: string; 
  created_at: string;
  tee_times: {
    id: number;
    tee_off: string; // DB ì»¬ëŸ¼ëª…ì´ tee_off_timeì´ ì•„ë‹ˆë¼ tee_off ì¼ ìˆ˜ ìˆìŒ (í™•ì¸ í•„ìš”)
    base_price: number;
    status: string;
    // golf_clubs ì—°ê²°ì€ ë³µì¡í•˜ë‹ˆ ì¼ë‹¨ ì œì™¸í•˜ê±°ë‚˜ ë‹¨ìˆœí™”
  } | null;
}

export default function ReservationsPage() {
  const router = useRouter();
  const [reservations, setReservations] = useState<Reservation[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    async function fetchReservations() {
      try {
        console.log("Fetching reservations...");
        
        // 1. ë‹¨ìˆœí•˜ê²Œ ì˜ˆì•½ í…Œì´ë¸”ë§Œ ë¨¼ì € ë¶ˆëŸ¬ì˜µë‹ˆë‹¤ (Join ì—†ì´ í…ŒìŠ¤íŠ¸)
        // Joinì´ ë³µì¡í•˜ë©´ ì—ëŸ¬ê°€ ì˜ ë‚˜ë¯€ë¡œ, ë‹¨ê³„ë³„ë¡œ í™•ì¸í•©ë‹ˆë‹¤.
        const { data, error: fetchError } = await supabase
          .from('reservations')
          .select(`
            id,
            final_price,
            discount_breakdown,
            created_at,
            tee_times (
              id,
              tee_off,
              base_price,
              status
            )
          `)
          .order('created_at', { ascending: false });

        if (fetchError) {
            console.error("Supabase Error:", fetchError);
            throw fetchError;
        }

        console.log("Data fetched:", data);
        setReservations(data as any || []);
      } catch (err) {
        console.error('Error fetching reservations:', err);
        setError(err instanceof Error ? err.message : 'Failed to fetch reservations');
      } finally {
        setLoading(false);
      }
    }

    fetchReservations();
  }, []);

  if (loading) {
    return (
      <div className="flex h-screen justify-center items-center bg-gray-50">
        <Loader2 className="animate-spin text-blue-500" size={40} />
      </div>
    );
  }

  if (error) {
    return (
      <div className="flex h-screen justify-center items-center bg-gray-50 p-6">
        <div className="bg-red-50 border border-red-200 rounded-lg p-6 max-w-md">
          <h2 className="text-red-700 font-bold text-lg mb-2">ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨ ã… ã… </h2>
          <p className="text-red-600 text-sm mb-4">{error}</p>
          <button
            onClick={() => router.push('/')}
            className="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors"
          >
            í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
          </button>
        </div>
      </div>
    );
  }

  return (
    <div className="flex flex-col min-h-screen bg-gray-50 max-w-md mx-auto shadow-2xl">
      <header className="bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10">
        <div className="flex items-center gap-3">
          <button onClick={() => router.push('/')} className="text-gray-600">
            <ArrowLeft size={24} />
          </button>
          <h1 className="text-xl font-bold text-gray-900">ë‚´ ì˜ˆì•½ ë‚´ì—­</h1>
        </div>
      </header>

      <main className="flex-1 p-6">
        {reservations.length === 0 ? (
          <div className="flex flex-col items-center justify-center py-16 px-6 text-center">
            <Calendar size={48} className="text-gray-400 mb-4" />
            <h2 className="text-xl font-bold text-gray-900 mb-2">ì˜ˆì•½ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤</h2>
            <p className="text-gray-600 mb-8">ì²« ì˜ˆì•½ì„ ì§„í–‰í•´ë³´ì„¸ìš”!</p>
            <button onClick={() => router.push('/')} className="bg-black text-white px-6 py-3 rounded-xl font-bold">
              í‹°íƒ€ì„ ë³´ëŸ¬ ê°€ê¸°
            </button>
          </div>
        ) : (
          <div className="space-y-4">
            {reservations.map((res) => {
              const teeTime = res.tee_times;
              if (!teeTime) return null;
              
              // ë‚ ì§œ ì²˜ë¦¬ (DB ì»¬ëŸ¼ëª… ì°¨ì´ ëŒ€ì‘)
              const teeOffStr = teeTime.tee_off || (teeTime as any).tee_off_time;
              const dateObj = teeOffStr ? new Date(teeOffStr) : new Date();

              return (
                <div key={res.id} className="bg-white rounded-2xl p-5 shadow-sm border border-gray-100">
                  <div className="flex items-center gap-2 text-gray-600 mb-1">
                    <Calendar size={16} />
                    <span className="text-sm">{dateObj.toLocaleDateString()}</span>
                  </div>
                  <div className="flex items-center gap-2 text-gray-600 mb-4">
                    <Clock size={16} />
                    <span className="text-sm font-bold">{dateObj.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</span>
                  </div>
                  <div className="border-t border-gray-200 my-4"></div>
                  <div className="flex items-center justify-between">
                    <span className="text-lg font-black text-blue-600">{res.final_price.toLocaleString()}ì›</span>
                    <span className="text-xs font-bold px-3 py-1 rounded-full bg-green-100 text-green-700">ì˜ˆì•½ ì™„ë£Œ</span>
                  </div>
                </div>
              );
            })}
          </div>
        )}
      </main>
    </div>
  );
}
````

### File: `components/AdminDashboard.tsx`

````tsx
"use client";

import React, { useState } from 'react';
import { supabase } from '@/lib/supabase';
import {
  Settings,
  Power,
  CloudRain,
  Ban,
  RefreshCw
} from 'lucide-react';
import { Database } from '@/types/database';

type TeeTime = Database['public']['Tables']['tee_times']['Row'];

interface AdminDashboardProps {
  initialTeeTimes: TeeTime[];
  stats: { 
    totalRevenue: number; 
    bookedCount: number;
    chartData: { date: string; amount: number }[];
  };
}

export default function AdminDashboard({ initialTeeTimes, stats }: AdminDashboardProps) {
  const [teeTimes, setTeeTimes] = useState<TeeTime[]>(initialTeeTimes);
  const [processingId, setProcessingId] = useState<number | null>(null);

  // Calculate max value for chart scaling
  const maxRevenue = Math.max(...stats.chartData.map(d => d.amount), 1);

  const toggleBlockStatus = async (id: number, currentStatus: string) => {
    if (currentStatus === 'BOOKED') return alert('ì´ë¯¸ ì˜ˆì•½ëœ ê±´ì€ ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
    
    setProcessingId(id);
    const newStatus = currentStatus === 'OPEN' ? 'BLOCKED' : 'OPEN';

    try {
      const { error } = await (supabase as any)
        .from('tee_times')
        .update({ status: newStatus })
        .eq('id', id);

      if (error) throw error;

      setTeeTimes(prev => prev.map(t =>
        t.id === id ? { ...t, status: newStatus as any } : t
      ));

    } catch (err) {
      alert('ìƒíƒœ ë³€ê²½ ì‹¤íŒ¨');
    } finally {
      setProcessingId(null);
    }
  };

  const updateBasePrice = async (id: number, currentPrice: number) => {
    const newPriceStr = window.prompt('ìƒˆë¡œìš´ ê¸°ì¤€ ê°€ê²©ì„ ì…ë ¥í•˜ì„¸ìš” (ì›):', currentPrice.toString());
    if (!newPriceStr) return;

    const newPrice = parseInt(newPriceStr, 10);
    if (isNaN(newPrice) || newPrice < 0) return alert('ìœ íš¨í•œ ê°€ê²©ì´ ì•„ë‹™ë‹ˆë‹¤.');

    setProcessingId(id);
    try {
        const { error } = await (supabase as any)
            .from('tee_times')
            .update({ base_price: newPrice })
            .eq('id', id);

        if (error) throw error;

        setTeeTimes(prev => prev.map(t =>
            t.id === id ? { ...t, base_price: newPrice } : t
        ));
    } catch (err) {
        alert('ê°€ê²© ìˆ˜ì • ì‹¤íŒ¨');
    } finally {
        setProcessingId(null);
    }
  };

  const handleRefresh = () => {
    window.location.reload();
  };

  return (
    <div className="min-h-screen bg-gray-900 text-white p-6">
      {/* í—¤ë” */}
      <div className="flex justify-between items-center mb-8 border-b border-gray-700 pb-4">
        <div>
          <h1 className="text-3xl font-bold flex items-center gap-2">
            <Settings className="text-yellow-500" />
            TUGOL Control Tower
          </h1>
          <p className="text-gray-400 text-sm mt-1">ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (Supabase ì—°ë™ë¨)</p>
        </div>
        <div className="flex gap-4">
            <div className="bg-gray-800 px-4 py-2 rounded-lg text-sm font-bold flex items-center border border-gray-600">
                ğŸ’° ì´ ë§¤ì¶œ: {stats.totalRevenue.toLocaleString()}ì›
            </div>
            <button 
                onClick={handleRefresh}
                className="bg-blue-900 px-4 py-2 rounded-lg text-sm font-bold flex items-center hover:bg-blue-800 transition-colors"
            >
                <RefreshCw size={16} className="mr-2" /> ìƒˆë¡œê³ ì¹¨
            </button>
        </div>
      </div>

      {/* ë§¤ì¶œ ì°¨íŠ¸ & ì»¨íŠ¸ë¡¤ íŒ¨ë„ */}
      <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
        {/* ë§¤ì¶œ ì°¨íŠ¸ */}
        <div className="lg:col-span-2 bg-gray-800 p-6 rounded-2xl border border-gray-700">
             <h2 className="text-xl font-bold mb-4 flex items-center">ğŸ“Š ì¼ë³„ ë§¤ì¶œ ì¶”ì´</h2>
             <div className="h-40 flex items-end gap-2">
                {stats.chartData.length === 0 ? (
                    <div className="w-full h-full flex items-center justify-center text-gray-500">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤</div>
                ) : (
                    stats.chartData.map((d, idx) => (
                        <div key={idx} className="flex-1 flex flex-col items-center group">
                            <div 
                                className="w-full bg-blue-500 rounded-t-md transition-all group-hover:bg-blue-400 relative"
                                style={{ height: `${(d.amount / maxRevenue) * 100}%` }}
                            >
                                <div className="absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap border border-gray-600 z-10">
                                    {d.amount.toLocaleString()}ì›
                                </div>
                            </div>
                            <div className="mt-2 text-xs text-gray-400">{d.date}</div>
                        </div>
                    ))
                )}
             </div>
        </div>

        {/* ì»¨íŠ¸ë¡¤ íŒ¨ë„ */}
        <div className="flex flex-col gap-4">
            <div className="p-5 rounded-2xl bg-gray-800 border border-green-500/50 flex-1">
                <div className="flex justify-between items-center mb-2">
                    <h2 className="text-xl font-bold text-green-400">ğŸ¤– AI Pricing Engine</h2>
                    <Power className="text-green-500" />
                </div>
                <p className="text-gray-400 text-sm">í˜„ì¬ ì•Œê³ ë¦¬ì¦˜ì´ ì •ìƒ ì‘ë™ ì¤‘ì…ë‹ˆë‹¤.</p>
            </div>
            
            <div className="flex gap-4">
                 <button 
                    onClick={async () => {
                        if(!confirm('ëª¨ë“  í‹°íƒ€ì„ì˜ ë‚ ì”¨ ì •ë³´ë¥¼ ëœë¤í•˜ê²Œ ë³€ê²½í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
                        try {
                            await fetch('/api/admin/simulate-weather', { method: 'POST' });
                            alert('ë‚ ì”¨ ì‹œë®¬ë ˆì´ì…˜ ì™„ë£Œ! ìƒˆë¡œê³ ì¹¨í•˜ì„¸ìš”.');
                            window.location.reload();
                        } catch(e) { alert('ì˜¤ë¥˜ ë°œìƒ'); }
                    }}
                    className="flex-1 p-5 rounded-2xl bg-blue-900/40 border border-blue-500/50 hover:bg-blue-900/60 transition-colors text-left"
                >
                    <div className="flex justify-between items-center mb-2">
                        <h2 className="text-lg font-bold text-blue-400">ğŸŒ¦ Weather Sim</h2>
                        <CloudRain size={20} className="text-blue-500" />
                    </div>
                    <p className="text-blue-200/60 text-xs">ë°ëª¨ìš© ë‚ ì”¨ ëœë¤ ë³€ê²½</p>
                </button>

                <div className="flex-1 p-5 rounded-2xl bg-gray-800 border border-gray-600 opacity-70 text-left">
                    <div className="flex justify-between items-center mb-2">
                        <h2 className="text-lg font-bold text-gray-400">ğŸš¨ Stop</h2>
                        <Ban className="text-gray-500" />
                    </div>
                    <p className="text-gray-500 text-xs">ì¤€ë¹„ ì¤‘</p>
                </div>
            </div>
        </div>
      </div>

      {/* í‹°íƒ€ì„ ê´€ë¦¬ í…Œì´ë¸” */}
      <div className="bg-gray-800 rounded-2xl p-6 border border-gray-700">
        <h2 className="text-xl font-bold mb-4 flex items-center">
           â›³ï¸ í‹°íƒ€ì„ ê´€ë¦¬ (Live Data)
        </h2>
        <div className="overflow-x-auto">
          <table className="w-full text-left border-collapse">
            <thead>
              <tr className="text-gray-400 border-b border-gray-700 text-sm">
                <th className="p-3">ì‹œê°„</th>
                <th className="p-3">ë‚ ì”¨ ì •ë³´</th>
                <th className="p-3">ê¸°ì¤€ ê°€ê²© (Override)</th>
                <th className="p-3">ìƒíƒœ ê´€ë¦¬</th>
              </tr>
            </thead>
            <tbody>
              {teeTimes.map((item) => {
                const timeStr = new Date(item.tee_off).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                const weather: any = item.weather_condition || {}; // Parse JSONB
                const isRain = weather.rn1 > 0 || weather.sky === 'RAIN';

                return (
                  <tr key={item.id} className="border-b border-gray-700/50 hover:bg-gray-700/30">
                    <td className="p-4 font-bold text-lg">{timeStr}</td>
                    <td className="p-4 text-sm text-gray-400">
                        {isRain ? (
                            <span className="flex items-center text-blue-400 gap-1"><CloudRain size={14}/> ë¹„ ({weather.rn1 || 0}mm)</span>
                        ) : (
                            <span className="text-gray-500">{weather.sky || 'ì •ë³´ ì—†ìŒ'}</span>
                        )}
                    </td>
                    <td className="p-4">
                        <button 
                            onClick={() => updateBasePrice(item.id, item.base_price)}
                            className="flex items-center gap-2 hover:bg-gray-700 px-2 py-1 rounded transition-colors"
                        >
                            <span className="font-mono text-yellow-400">{item.base_price.toLocaleString()}ì›</span>
                            <span className="text-xs text-gray-500">âœï¸ ìˆ˜ì •</span>
                        </button>
                    </td>
                    <td className="p-4">
                        {item.status === 'BOOKED' ? (
                            <span className="text-blue-400 font-bold flex items-center gap-1">
                                âœ… ì˜ˆì•½ë¨
                            </span>
                        ) : (
                            <button
                                onClick={() => toggleBlockStatus(item.id, item.status)}
                                disabled={processingId === item.id}
                                className={`px-3 py-1 rounded text-sm font-bold border transition-colors
                                    ${item.status === 'BLOCKED' 
                                        ? 'bg-red-900/50 text-red-400 border-red-500 hover:bg-red-900' 
                                        : 'bg-green-900/30 text-green-400 border-green-600 hover:bg-green-900/50'
                                    }`}
                            >
                                {processingId === item.id ? 'ì²˜ë¦¬ì¤‘...' : (
                                    item.status === 'BLOCKED' ? 'â›”ï¸ ì°¨ë‹¨ í•´ì œ' : 'ğŸŸ¢ íŒë§¤ ì¤‘'
                                )}
                            </button>
                        )}
                    </td>
                  </tr>
                );
              })}
            </tbody>
          </table>
          {teeTimes.length === 0 && (
              <div className="p-8 text-center text-gray-500">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
          )}
        </div>
      </div>
    </div>
  );
}
````

### File: `components/AdminDashboardNew.tsx`

````tsx
"use client";

import React, { useState } from 'react';
import { supabase } from '@/lib/supabase';
import {
  Settings,
  Power,
  CloudRain,
  Ban,
  RefreshCw,
  BarChart3,
  Calendar,
  Users
} from 'lucide-react';
import { Database } from '@/types/database';
import AdminUserManagement from './AdminUserManagement';

type TeeTime = Database['public']['Tables']['tee_times']['Row'];
type UserRow = Database['public']['Tables']['users']['Row'];

interface AdminDashboardProps {
  initialTeeTimes: TeeTime[];
  initialUsers: UserRow[];
  stats: {
    totalRevenue: number;
    bookedCount: number;
    chartData: { date: string; amount: number }[];
  };
}

type TabType = 'overview' | 'tee-times' | 'users';

export default function AdminDashboard({ initialTeeTimes, initialUsers, stats }: AdminDashboardProps) {
  const [activeTab, setActiveTab] = useState<TabType>('overview');
  const [teeTimes, setTeeTimes] = useState<TeeTime[]>(initialTeeTimes);
  const [processingId, setProcessingId] = useState<number | null>(null);

  // Calculate max value for chart scaling
  const maxRevenue = Math.max(...stats.chartData.map(d => d.amount), 1);

  const toggleBlockStatus = async (id: number, currentStatus: string) => {
    if (currentStatus === 'BOOKED') return alert('ì´ë¯¸ ì˜ˆì•½ëœ ê±´ì€ ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');

    setProcessingId(id);
    const newStatus = currentStatus === 'OPEN' ? 'BLOCKED' : 'OPEN';

    try {
      const { error } = await (supabase as any)
        .from('tee_times')
        .update({ status: newStatus })
        .eq('id', id);

      if (error) throw error;

      setTeeTimes(prev => prev.map(t =>
        t.id === id ? { ...t, status: newStatus as any } : t
      ));

    } catch (err) {
      alert('ìƒíƒœ ë³€ê²½ ì‹¤íŒ¨');
    } finally {
      setProcessingId(null);
    }
  };

  const updateBasePrice = async (id: number, currentPrice: number) => {
    const newPriceStr = window.prompt('ìƒˆë¡œìš´ ê¸°ì¤€ ê°€ê²©ì„ ì…ë ¥í•˜ì„¸ìš” (ì›):', currentPrice.toString());
    if (!newPriceStr) return;

    const newPrice = parseInt(newPriceStr, 10);
    if (isNaN(newPrice) || newPrice < 0) return alert('ìœ íš¨í•œ ê°€ê²©ì´ ì•„ë‹™ë‹ˆë‹¤.');

    setProcessingId(id);
    try {
      const { error } = await (supabase as any)
        .from('tee_times')
        .update({ base_price: newPrice })
        .eq('id', id);

      if (error) throw error;

      setTeeTimes(prev => prev.map(t =>
        t.id === id ? { ...t, base_price: newPrice } : t
      ));
    } catch (err) {
      alert('ê°€ê²© ìˆ˜ì • ì‹¤íŒ¨');
    } finally {
      setProcessingId(null);
    }
  };

  const handleRefresh = () => {
    window.location.reload();
  };

  const TABS: { key: TabType; label: string; icon: React.ReactNode }[] = [
    { key: 'overview', label: 'ëŒ€ì‹œë³´ë“œ', icon: <BarChart3 size={18} /> },
    { key: 'tee-times', label: 'í‹°íƒ€ì„ ê´€ë¦¬', icon: <Calendar size={18} /> },
    { key: 'users', label: 'ì‚¬ìš©ì ê´€ë¦¬', icon: <Users size={18} /> },
  ];

  return (
    <div className="min-h-screen bg-gray-900 text-white p-6">
      {/* í—¤ë” */}
      <div className="flex justify-between items-center mb-8 border-b border-gray-700 pb-4">
        <div>
          <h1 className="text-3xl font-bold flex items-center gap-2">
            <Settings className="text-yellow-500" />
            TUGOL Control Tower
          </h1>
          <p className="text-gray-400 text-sm mt-1">ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (Supabase ì—°ë™ë¨)</p>
        </div>
        <div className="flex gap-4">
          <div className="bg-gray-800 px-4 py-2 rounded-lg text-sm font-bold flex items-center border border-gray-600">
            ğŸ’° ì´ ë§¤ì¶œ: {stats.totalRevenue.toLocaleString()}ì›
          </div>
          <button
            onClick={handleRefresh}
            className="bg-blue-900 px-4 py-2 rounded-lg text-sm font-bold flex items-center hover:bg-blue-800 transition-colors"
          >
            <RefreshCw size={16} className="mr-2" /> ìƒˆë¡œê³ ì¹¨
          </button>
        </div>
      </div>

      {/* Tabs */}
      <div className="flex gap-2 mb-6 border-b border-gray-700">
        {TABS.map(tab => (
          <button
            key={tab.key}
            onClick={() => setActiveTab(tab.key)}
            className={`flex items-center gap-2 px-4 py-3 font-bold transition-all ${activeTab === tab.key
              ? 'text-blue-400 border-b-2 border-blue-400 bg-gray-800/50'
              : 'text-gray-400 hover:text-gray-200 hover:bg-gray-800/30'
              }`}
          >
            {tab.icon}
            {tab.label}
          </button>
        ))}
      </div>

      {/* Tab Content */}
      {activeTab === 'overview' && (
        <div>
          {/* ë§¤ì¶œ ì°¨íŠ¸ & ì»¨íŠ¸ë¡¤ íŒ¨ë„ */}
          <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
            {/* ë§¤ì¶œ ì°¨íŠ¸ */}
            <div className="lg:col-span-2 bg-gray-800 p-6 rounded-2xl border border-gray-700">
              <h2 className="text-xl font-bold mb-4 flex items-center">ğŸ“Š ì¼ë³„ ë§¤ì¶œ ì¶”ì´</h2>
              <div className="h-40 flex items-end gap-2">
                {stats.chartData.length === 0 ? (
                  <div className="w-full h-full flex items-center justify-center text-gray-500">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤</div>
                ) : (
                  stats.chartData.map((d, idx) => (
                    <div key={idx} className="flex-1 flex flex-col items-center group">
                      <div
                        className="w-full bg-blue-500 rounded-t-md transition-all group-hover:bg-blue-400 relative"
                        style={{ height: `${(d.amount / maxRevenue) * 100}%` }}
                      >
                        <div className="absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap border border-gray-600 z-10">
                          {d.amount.toLocaleString()}ì›
                        </div>
                      </div>
                      <div className="mt-2 text-xs text-gray-400">{d.date}</div>
                    </div>
                  ))
                )}
              </div>
            </div>

            {/* ì»¨íŠ¸ë¡¤ íŒ¨ë„ */}
            <div className="flex flex-col gap-4">
              <div className="p-5 rounded-2xl bg-gray-800 border border-green-500/50 flex-1">
                <div className="flex justify-between items-center mb-2">
                  <h2 className="text-xl font-bold text-green-400">ğŸ¤– AI Pricing Engine</h2>
                  <Power className="text-green-500" />
                </div>
                <p className="text-gray-400 text-sm">í˜„ì¬ ì•Œê³ ë¦¬ì¦˜ì´ ì •ìƒ ì‘ë™ ì¤‘ì…ë‹ˆë‹¤.</p>
              </div>

              <div className="flex gap-4">
                <button
                  onClick={async () => {
                    if (!confirm('ëª¨ë“  í‹°íƒ€ì„ì˜ ë‚ ì”¨ ì •ë³´ë¥¼ ëœë¤í•˜ê²Œ ë³€ê²½í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
                    try {
                      await fetch('/api/admin/simulate-weather', { method: 'POST' });
                      alert('ë‚ ì”¨ ì‹œë®¬ë ˆì´ì…˜ ì™„ë£Œ! ìƒˆë¡œê³ ì¹¨í•˜ì„¸ìš”.');
                      window.location.reload();
                    } catch (e) { alert('ì˜¤ë¥˜ ë°œìƒ'); }
                  }}
                  className="flex-1 p-5 rounded-2xl bg-blue-900/40 border border-blue-500/50 hover:bg-blue-900/60 transition-colors text-left"
                >
                  <div className="flex justify-between items-center mb-2">
                    <h2 className="text-lg font-bold text-blue-400">ğŸŒ¦ Weather Sim</h2>
                    <CloudRain size={20} className="text-blue-500" />
                  </div>
                  <p className="text-blue-200/60 text-xs">ë°ëª¨ìš© ë‚ ì”¨ ëœë¤ ë³€ê²½</p>
                </button>

                <div className="flex-1 p-5 rounded-2xl bg-gray-800 border border-gray-600 opacity-70 text-left">
                  <div className="flex justify-between items-center mb-2">
                    <h2 className="text-lg font-bold text-gray-400">ğŸš¨ Stop</h2>
                    <Ban className="text-gray-500" />
                  </div>
                  <p className="text-gray-500 text-xs">ì¤€ë¹„ ì¤‘</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      )}

      {activeTab === 'tee-times' && (
        <div className="bg-gray-800 rounded-2xl p-6 border border-gray-700">
          <h2 className="text-xl font-bold mb-4 flex items-center">
            â›³ï¸ í‹°íƒ€ì„ ê´€ë¦¬ (Live Data)
          </h2>
          <div className="overflow-x-auto">
            <table className="w-full text-left border-collapse">
              <thead>
                <tr className="text-gray-400 border-b border-gray-700 text-sm">
                  <th className="p-3">ì‹œê°„</th>
                  <th className="p-3">ë‚ ì”¨ ì •ë³´</th>
                  <th className="p-3">ê¸°ì¤€ ê°€ê²© (Override)</th>
                  <th className="p-3">ìƒíƒœ ê´€ë¦¬</th>
                </tr>
              </thead>
              <tbody>
                {teeTimes.map((item) => {
                  const timeStr = new Date(item.tee_off).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                  const weather: any = item.weather_condition || {}; // Parse JSONB
                  const isRain = weather.rn1 > 0 || weather.sky === 'RAIN';

                  return (
                    <tr key={item.id} className="border-b border-gray-700/50 hover:bg-gray-700/30">
                      <td className="p-4 font-bold text-lg">{timeStr}</td>
                      <td className="p-4 text-sm text-gray-400">
                        {isRain ? (
                          <span className="flex items-center text-blue-400 gap-1"><CloudRain size={14} /> ë¹„ ({weather.rn1 || 0}mm)</span>
                        ) : (
                          <span className="text-gray-500">{weather.sky || 'ì •ë³´ ì—†ìŒ'}</span>
                        )}
                      </td>
                      <td className="p-4">
                        <button
                          onClick={() => updateBasePrice(item.id, item.base_price)}
                          className="flex items-center gap-2 hover:bg-gray-700 px-2 py-1 rounded transition-colors"
                        >
                          <span className="font-mono text-yellow-400">{item.base_price.toLocaleString()}ì›</span>
                          <span className="text-xs text-gray-500">âœï¸ ìˆ˜ì •</span>
                        </button>
                      </td>
                      <td className="p-4">
                        {item.status === 'BOOKED' ? (
                          <span className="text-blue-400 font-bold flex items-center gap-1">
                            âœ… ì˜ˆì•½ë¨
                          </span>
                        ) : (
                          <button
                            onClick={() => toggleBlockStatus(item.id, item.status)}
                            disabled={processingId === item.id}
                            className={`px-3 py-1 rounded text-sm font-bold border transition-colors
                                    ${item.status === 'BLOCKED'
                                ? 'bg-red-900/50 text-red-400 border-red-500 hover:bg-red-900'
                                : 'bg-green-900/30 text-green-400 border-green-600 hover:bg-green-900/50'
                              }`}
                          >
                            {processingId === item.id ? 'ì²˜ë¦¬ì¤‘...' : (
                              item.status === 'BLOCKED' ? 'â›”ï¸ ì°¨ë‹¨ í•´ì œ' : 'ğŸŸ¢ íŒë§¤ ì¤‘'
                            )}
                          </button>
                        )}
                      </td>
                    </tr>
                  );
                })}
              </tbody>
            </table>
            {teeTimes.length === 0 && (
              <div className="p-8 text-center text-gray-500">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
            )}
          </div>
        </div>
      )}

      {activeTab === 'users' && (
        <AdminUserManagement initialUsers={initialUsers} />
      )}
    </div>
  );
}
````

### File: `components/AdminUserManagement.tsx`

````tsx
"use client";

import React, { useState } from 'react';
import { supabase } from '@/lib/supabase';
import { Database } from '@/types/database';
import {
  User,
  Ban,
  CheckCircle,
  AlertTriangle,
  Crown,
  Trophy,
  DollarSign,
  Calendar,
  MapPin,
  TrendingUp,
  Search,
  Filter
} from 'lucide-react';

type UserRow = Database['public']['Tables']['users']['Row'];

interface AdminUserManagementProps {
  initialUsers: UserRow[];
}

type SegmentType = Database['public']['Tables']['users']['Row']['segment'];

const SEGMENT_CONFIG: Record<SegmentType, { label: string; color: string; icon: React.ReactNode }> = {
  PRESTIGE: { label: 'PRESTIGE', color: 'text-purple-400 bg-purple-900/30 border-purple-500', icon: <Crown size={14} /> },
  CHERRY: { label: 'CHERRY', color: 'text-pink-400 bg-pink-900/30 border-pink-500', icon: <Trophy size={14} /> },
  SMART: { label: 'SMART', color: 'text-blue-400 bg-blue-900/30 border-blue-500', icon: <TrendingUp size={14} /> },
  FUTURE: { label: 'FUTURE', color: 'text-green-400 bg-green-900/30 border-green-500', icon: <User size={14} /> },
};

export default function AdminUserManagement({ initialUsers }: AdminUserManagementProps) {
  const [users, setUsers] = useState<UserRow[]>(initialUsers);
  const [searchTerm, setSearchTerm] = useState('');
  const [filterSegment, setFilterSegment] = useState<SegmentType | 'ALL'>('ALL');
  const [filterBlacklist, setFilterBlacklist] = useState<'ALL' | 'BLACKLISTED' | 'ACTIVE'>('ALL');
  const [processingId, setProcessingId] = useState<string | null>(null);

  // Filter users
  const filteredUsers = users.filter(user => {
    const matchesSearch = user.email.toLowerCase().includes(searchTerm.toLowerCase()) ||
                          (user.name?.toLowerCase() || '').includes(searchTerm.toLowerCase());
    const matchesSegment = filterSegment === 'ALL' || user.segment === filterSegment;
    const matchesBlacklist = filterBlacklist === 'ALL' ||
                             (filterBlacklist === 'BLACKLISTED' && user.blacklisted) ||
                             (filterBlacklist === 'ACTIVE' && !user.blacklisted);
    return matchesSearch && matchesSegment && matchesBlacklist;
  });

  const toggleBlacklist = async (userId: string, currentBlacklisted: boolean) => {
    const reason = currentBlacklisted
      ? null
      : window.prompt('ì°¨ë‹¨ ì‚¬ìœ ë¥¼ ì…ë ¥í•˜ì„¸ìš”:');

    if (!currentBlacklisted && !reason) return;

    setProcessingId(userId);
    try {
      const { error } = await (supabase as any)
        .from('users')
        .update({
          blacklisted: !currentBlacklisted,
          blacklist_reason: currentBlacklisted ? null : reason,
          blacklisted_at: currentBlacklisted ? null : new Date().toISOString(),
          blacklisted_by: currentBlacklisted ? null : 'ADMIN' // Replace with actual admin ID
        })
        .eq('id', userId);

      if (error) throw error;

      setUsers(prev => prev.map(u =>
        u.id === userId
          ? {
              ...u,
              blacklisted: !currentBlacklisted,
              blacklist_reason: currentBlacklisted ? null : reason,
              blacklisted_at: currentBlacklisted ? null : new Date().toISOString(),
            }
          : u
      ));

      alert(currentBlacklisted ? 'ì°¨ë‹¨ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤.' : 'ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.');
    } catch (err) {
      console.error(err);
      alert('ì²˜ë¦¬ ì‹¤íŒ¨');
    } finally {
      setProcessingId(null);
    }
  };

  const overrideSegment = async (userId: string, currentSegment: SegmentType) => {
    const newSegmentStr = window.prompt(
      `ìƒˆë¡œìš´ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (í˜„ì¬: ${currentSegment}):\nFUTURE / PRESTIGE / SMART / CHERRY`,
      currentSegment
    );
    if (!newSegmentStr) return;

    const newSegment = newSegmentStr.toUpperCase() as SegmentType;
    if (!['FUTURE', 'PRESTIGE', 'SMART', 'CHERRY'].includes(newSegment)) {
      return alert('ìœ íš¨í•œ ì„¸ê·¸ë¨¼íŠ¸ê°€ ì•„ë‹™ë‹ˆë‹¤.');
    }

    setProcessingId(userId);
    try {
      const { error } = await (supabase as any)
        .from('users')
        .update({
          segment: newSegment,
          segment_override_by: 'ADMIN', // Replace with actual admin ID
          segment_override_at: new Date().toISOString()
        })
        .eq('id', userId);

      if (error) throw error;

      setUsers(prev => prev.map(u =>
        u.id === userId ? { ...u, segment: newSegment } : u
      ));

      alert('ì„¸ê·¸ë¨¼íŠ¸ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.');
    } catch (err) {
      console.error(err);
      alert('ì²˜ë¦¬ ì‹¤íŒ¨');
    } finally {
      setProcessingId(null);
    }
  };

  const adjustCherryScore = async (userId: string, currentScore: number) => {
    const newScoreStr = window.prompt(
      `ì²´ë¦¬ ì ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš” (í˜„ì¬: ${currentScore}, ë²”ìœ„: 0-100):`,
      currentScore.toString()
    );
    if (!newScoreStr) return;

    const newScore = parseInt(newScoreStr, 10);
    if (isNaN(newScore) || newScore < 0 || newScore > 100) {
      return alert('0-100 ì‚¬ì´ì˜ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
    }

    setProcessingId(userId);
    try {
      const { error } = await (supabase as any)
        .from('users')
        .update({ cherry_score: newScore })
        .eq('id', userId);

      if (error) throw error;

      setUsers(prev => prev.map(u =>
        u.id === userId ? { ...u, cherry_score: newScore } : u
      ));

      alert('ì²´ë¦¬ ì ìˆ˜ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.');
    } catch (err) {
      console.error(err);
      alert('ì²˜ë¦¬ ì‹¤íŒ¨');
    } finally {
      setProcessingId(null);
    }
  };

  // Statistics
  const stats = {
    total: users.length,
    blacklisted: users.filter(u => u.blacklisted).length,
    prestige: users.filter(u => u.segment === 'PRESTIGE').length,
    totalRevenue: users.reduce((sum, u) => sum + u.total_spent, 0),
  };

  return (
    <div className="bg-gray-800 rounded-2xl p-6 border border-gray-700">
      {/* Header & Stats */}
      <div className="flex justify-between items-start mb-6">
        <div>
          <h2 className="text-2xl font-bold flex items-center gap-2 mb-2">
            <User className="text-blue-400" />
            ì‚¬ìš©ì ê´€ë¦¬
          </h2>
          <div className="flex gap-4 text-sm">
            <span className="text-gray-400">ì „ì²´: <span className="text-white font-bold">{stats.total}</span></span>
            <span className="text-gray-400">ì°¨ë‹¨: <span className="text-red-400 font-bold">{stats.blacklisted}</span></span>
            <span className="text-gray-400">PRESTIGE: <span className="text-purple-400 font-bold">{stats.prestige}</span></span>
            <span className="text-gray-400">ì´ ë§¤ì¶œ: <span className="text-green-400 font-bold">{stats.totalRevenue.toLocaleString()}ì›</span></span>
          </div>
        </div>
      </div>

      {/* Filters */}
      <div className="flex gap-4 mb-6 flex-wrap">
        <div className="flex items-center gap-2 bg-gray-700 px-4 py-2 rounded-lg flex-1 min-w-[250px]">
          <Search size={16} className="text-gray-400" />
          <input
            type="text"
            placeholder="ì´ë©”ì¼ ë˜ëŠ” ì´ë¦„ ê²€ìƒ‰..."
            value={searchTerm}
            onChange={(e) => setSearchTerm(e.target.value)}
            className="bg-transparent border-none outline-none text-white w-full"
          />
        </div>

        <div className="flex items-center gap-2">
          <Filter size={16} className="text-gray-400" />
          <select
            value={filterSegment}
            onChange={(e) => setFilterSegment(e.target.value as any)}
            className="bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 outline-none"
          >
            <option value="ALL">ëª¨ë“  ì„¸ê·¸ë¨¼íŠ¸</option>
            <option value="PRESTIGE">PRESTIGE</option>
            <option value="CHERRY">CHERRY</option>
            <option value="SMART">SMART</option>
            <option value="FUTURE">FUTURE</option>
          </select>

          <select
            value={filterBlacklist}
            onChange={(e) => setFilterBlacklist(e.target.value as any)}
            className="bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 outline-none"
          >
            <option value="ALL">ì „ì²´ ìƒíƒœ</option>
            <option value="ACTIVE">í™œì„±</option>
            <option value="BLACKLISTED">ì°¨ë‹¨ë¨</option>
          </select>
        </div>
      </div>

      {/* Users Table */}
      <div className="overflow-x-auto">
        <table className="w-full text-left border-collapse">
          <thead>
            <tr className="text-gray-400 border-b border-gray-700 text-sm">
              <th className="p-3">ì‚¬ìš©ì</th>
              <th className="p-3">ì„¸ê·¸ë¨¼íŠ¸</th>
              <th className="p-3">ì²´ë¦¬ ì ìˆ˜</th>
              <th className="p-3">ì˜ˆì•½ ë‚´ì—­</th>
              <th className="p-3">ë…¸ì‡¼</th>
              <th className="p-3">ìƒíƒœ</th>
              <th className="p-3">ê´€ë¦¬</th>
            </tr>
          </thead>
          <tbody>
            {filteredUsers.map((user) => {
              const segmentConfig = SEGMENT_CONFIG[user.segment];
              const isProcessing = processingId === user.id;

              return (
                <tr
                  key={user.id}
                  className={`border-b border-gray-700/50 hover:bg-gray-700/30 ${user.blacklisted ? 'opacity-60' : ''}`}
                >
                  {/* User Info */}
                  <td className="p-4">
                    <div>
                      <div className="font-bold text-white">{user.name || 'ì´ë¦„ ì—†ìŒ'}</div>
                      <div className="text-sm text-gray-400">{user.email}</div>
                      {user.phone && <div className="text-xs text-gray-500">{user.phone}</div>}
                    </div>
                  </td>

                  {/* Segment */}
                  <td className="p-4">
                    <button
                      onClick={() => overrideSegment(user.id, user.segment)}
                      disabled={isProcessing}
                      className={`flex items-center gap-1 px-2 py-1 rounded border text-xs font-bold ${segmentConfig.color} hover:opacity-80 transition-opacity`}
                    >
                      {segmentConfig.icon}
                      {segmentConfig.label}
                    </button>
                    {user.segment_override_by && (
                      <div className="text-xs text-yellow-400 mt-1">âœï¸ ìˆ˜ë™ ì„¤ì •</div>
                    )}
                  </td>

                  {/* Cherry Score */}
                  <td className="p-4">
                    <button
                      onClick={() => adjustCherryScore(user.id, user.cherry_score)}
                      disabled={isProcessing}
                      className="flex items-center gap-1 hover:bg-gray-700 px-2 py-1 rounded transition-colors"
                    >
                      <Trophy size={14} className="text-yellow-400" />
                      <span className="font-mono text-yellow-400">{user.cherry_score}</span>
                    </button>
                  </td>

                  {/* Booking Stats */}
                  <td className="p-4 text-sm">
                    <div className="flex items-center gap-1 text-blue-400">
                      <Calendar size={14} />
                      <span>{user.total_bookings}íšŒ</span>
                    </div>
                    <div className="flex items-center gap-1 text-green-400 text-xs">
                      <DollarSign size={12} />
                      <span>{user.total_spent.toLocaleString()}ì›</span>
                    </div>
                  </td>

                  {/* No-Show Count */}
                  <td className="p-4">
                    {user.no_show_count > 0 ? (
                      <div className="flex items-center gap-1 text-red-400 font-bold">
                        <AlertTriangle size={14} />
                        {user.no_show_count}íšŒ
                      </div>
                    ) : (
                      <div className="flex items-center gap-1 text-gray-500 text-sm">
                        <CheckCircle size={14} />
                        ì—†ìŒ
                      </div>
                    )}
                  </td>

                  {/* Status */}
                  <td className="p-4">
                    {user.blacklisted ? (
                      <div>
                        <div className="flex items-center gap-1 text-red-400 font-bold text-sm">
                          <Ban size={14} />
                          ì°¨ë‹¨ë¨
                        </div>
                        {user.blacklist_reason && (
                          <div className="text-xs text-gray-400 mt-1">{user.blacklist_reason}</div>
                        )}
                      </div>
                    ) : (
                      <div className="flex items-center gap-1 text-green-400 text-sm">
                        <CheckCircle size={14} />
                        ì •ìƒ
                      </div>
                    )}
                  </td>

                  {/* Actions */}
                  <td className="p-4">
                    <button
                      onClick={() => toggleBlacklist(user.id, user.blacklisted)}
                      disabled={isProcessing}
                      className={`px-3 py-1 rounded text-xs font-bold border transition-colors ${
                        user.blacklisted
                          ? 'bg-green-900/30 text-green-400 border-green-600 hover:bg-green-900/50'
                          : 'bg-red-900/30 text-red-400 border-red-500 hover:bg-red-900/50'
                      }`}
                    >
                      {isProcessing ? 'ì²˜ë¦¬ì¤‘...' : user.blacklisted ? 'ì°¨ë‹¨ í•´ì œ' : 'ì°¨ë‹¨'}
                    </button>
                  </td>
                </tr>
              );
            })}
          </tbody>
        </table>

        {filteredUsers.length === 0 && (
          <div className="p-8 text-center text-gray-500">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
        )}
      </div>
    </div>
  );
}
````

### File: `components/BookingModal.backup.tsx`

````tsx
"use client";

import React, { useState, useEffect, useRef } from 'react';
import { X, Loader2, AlertCircle } from 'lucide-react';
import { loadPaymentWidget, ANONYMOUS } from '@tosspayments/payment-widget-sdk';

interface BookingModalProps {
  isOpen: boolean;
  onClose: () => void;
  teeTime: {
    id: number;
    time: string;
    teeOffTime: Date;
    basePrice: number;
    finalPrice: number;
    reasons: string[];
    weather: {
      sky?: string;
      temperature?: number;
      rainProb: number;
    };
  };
  userId: number;
  userSegment: string;
  onSuccess: () => void;
}

export default function BookingModal({
  isOpen,
  onClose,
  teeTime,
  userId,
  userSegment,
  onSuccess,
}: BookingModalProps) {
  const [paymentWidget, setPaymentWidget] = useState<any>(null);
  const [isWidgetReady, setIsWidgetReady] = useState(false);
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const widgetContainerRef = useRef<HTMLDivElement>(null);
  const hasInitialized = useRef(false);

  // Initialize payment widget when modal opens
  useEffect(() => {
    if (!isOpen) {
      // Reset state when modal closes
      setPaymentWidget(null);
      setIsWidgetReady(false);
      setIsLoading(false);
      setError(null);
      hasInitialized.current = false;
      return;
    }

    // Prevent double initialization
    if (hasInitialized.current) return;
    hasInitialized.current = true;

    const initializeWidget = async () => {
      setIsLoading(true);
      setError(null);

      try {
        const clientKey = process.env.NEXT_PUBLIC_TOSS_CLIENT_KEY;

        if (!clientKey) {
          throw new Error('Toss Client Keyê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
        }

        // Step 1: Load payment widget
        const customerKey = userId ? `USER-${userId}` : ANONYMOUS;
        const widget = await loadPaymentWidget(clientKey, customerKey);

        // Step 2: Wait for container to be in DOM
        await new Promise(resolve => setTimeout(resolve, 150));

        // Step 3: Render payment methods to the container
        await widget.renderPaymentMethods(
          '#payment-widget',
          { value: teeTime.finalPrice },
          { variantKey: 'DEFAULT' }
        );

        // Step 4: Wait for widget to fully render in DOM (critical!)
        await new Promise(resolve => setTimeout(resolve, 1000));

        // Step 5: Verify widget is actually in DOM
        let widgetElement = document.querySelector('#payment-widget iframe');
        let retries = 0;
        const maxRetries = 5;

        while (!widgetElement && retries < maxRetries) {
          console.warn(`Widget iframe not found (attempt ${retries + 1}/${maxRetries}), waiting...`);
          await new Promise(resolve => setTimeout(resolve, 500));
          widgetElement = document.querySelector('#payment-widget iframe');
          retries++;
        }

        if (!widgetElement) {
          console.error('Widget iframe never appeared after multiple retries');
          throw new Error('ê²°ì œ ìœ„ì ¯ ë¡œë”© ì‹¤íŒ¨: iframeì´ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
        }

        console.log('âœ… Payment widget iframe found and ready');

        // Step 6: Mark as ready
        setPaymentWidget(widget);
        setIsWidgetReady(true);
      } catch (err) {
        console.error('Failed to initialize payment widget:', err);
        setError(
          err instanceof Error
            ? err.message
            : 'ê²°ì œ ìœ„ì ¯ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.'
        );
      } finally {
        setIsLoading(false);
      }
    };

    initializeWidget();
  }, [isOpen, userId, teeTime.finalPrice]);

  const handlePayment = async () => {
    console.log('ğŸ’³ Payment button clicked');
    console.log('Widget ready state:', { paymentWidget: !!paymentWidget, isWidgetReady });

    if (!paymentWidget || !isWidgetReady) {
      console.error('âŒ Widget not ready');
      setError('ê²°ì œ ìœ„ì ¯ì´ ì¤€ë¹„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.');
      return;
    }

    // Double-check widget is actually ready
    const widgetElement = document.querySelector('#payment-widget iframe');
    console.log('Widget iframe check:', !!widgetElement);

    if (!widgetElement) {
      console.error('âŒ Widget iframe not found in DOM');
      setError('ê²°ì œ ìœ„ì ¯ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
      return;
    }

    try {
      // Extra safety: Small delay before payment request
      console.log('â³ Waiting 500ms before payment request...');
      await new Promise(resolve => setTimeout(resolve, 500));

      // Generate unique order ID with embedded metadata
      const orderId = `ORD-${Date.now()}-${userId}-${teeTime.id}`;

      // Store metadata in sessionStorage for success page
      const metadata = {
        userId,
        teeTimeId: teeTime.id,
        finalPrice: teeTime.finalPrice,
        discountBreakdown: {
          basePrice: teeTime.basePrice,
          finalPrice: teeTime.finalPrice,
          discountAmount: teeTime.basePrice - teeTime.finalPrice,
          discountPercent: Math.round(
            ((teeTime.basePrice - teeTime.finalPrice) / teeTime.basePrice) * 100
          ),
          reasons: teeTime.reasons,
          userSegment,
        },
      };
      sessionStorage.setItem('paymentMetadata', JSON.stringify(metadata));

      console.log('ğŸš€ Requesting payment with orderId:', orderId);

      // Request payment
      await paymentWidget.requestPayment({
        orderId,
        orderName: `${teeTime.teeOffTime.toLocaleDateString()} ${teeTime.time} í‹°íƒ€ì„`,
        customerName: userId ? `íšŒì› ${userId}` : 'ë¹„íšŒì› ê³ ê°',
        successUrl: `${window.location.origin}/payment/success`,
        failUrl: `${window.location.origin}/payment/fail`,
      });

      console.log('âœ… Payment request sent successfully');
    } catch (err) {
      console.error('âŒ Payment request failed:', err);
      const errorMessage = err instanceof Error ? err.message : 'ê²°ì œ ìš”ì²­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.';

      // If still getting render error, tell user to wait
      if (errorMessage.includes('ë Œë”ë§') || errorMessage.includes('rendered')) {
        setError('ê²°ì œ UIë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
      } else {
        setError(errorMessage);
      }
    }
  };

  if (!isOpen) return null;

  const discountAmount = teeTime.basePrice - teeTime.finalPrice;
  const discountPercent = Math.round((discountAmount / teeTime.basePrice) * 100);

  return (
    <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 animate-in fade-in duration-200">
      <div className="bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in zoom-in duration-200">
        {/* Header */}
        <div className="flex justify-between items-center mb-6">
          <h2 className="text-2xl font-bold text-gray-900">ê²°ì œí•˜ê¸°</h2>
          <button
            onClick={onClose}
            disabled={isLoading}
            className="text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50"
          >
            <X size={24} />
          </button>
        </div>

        {/* Booking Summary */}
        <div className="bg-blue-50 rounded-xl p-4 mb-6">
          <div className="text-sm text-gray-600 mb-2">
            {teeTime.teeOffTime.toLocaleDateString('ko-KR', {
              month: 'long',
              day: 'numeric',
              weekday: 'short',
            })}
          </div>
          <div className="text-xl font-bold text-gray-900 mb-3">
            {teeTime.time}
          </div>

          {/* Weather */}
          {teeTime.weather.sky && (
            <div className="flex items-center gap-2 text-sm text-gray-600 mb-2">
              <span>{teeTime.weather.sky}</span>
              {teeTime.weather.temperature && (
                <span>â€¢ {teeTime.weather.temperature}Â°C</span>
              )}
              <span>â€¢ ê°•ìˆ˜í™•ë¥  {teeTime.weather.rainProb}%</span>
            </div>
          )}

          {/* Pricing */}
          <div className="border-t border-blue-200 pt-3 mt-3">
            <div className="flex justify-between text-sm text-gray-600 mb-1">
              <span>ì •ê°€</span>
              <span className="line-through">
                {teeTime.basePrice.toLocaleString()}ì›
              </span>
            </div>
            {discountAmount > 0 && (
              <div className="flex justify-between text-sm text-red-600 font-bold mb-2">
                <span>í• ì¸ ({discountPercent}%)</span>
                <span>-{discountAmount.toLocaleString()}ì›</span>
              </div>
            )}
            <div className="flex justify-between text-lg font-black text-blue-600">
              <span>ìµœì¢… ê¸ˆì•¡</span>
              <span>{teeTime.finalPrice.toLocaleString()}ì›</span>
            </div>
          </div>

          {/* Discount Reasons */}
          {teeTime.reasons.length > 0 && (
            <div className="mt-3 flex flex-wrap gap-1.5">
              {teeTime.reasons.map((reason, idx) => (
                <span
                  key={idx}
                  className="text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium"
                >
                  {reason}
                </span>
              ))}
            </div>
          )}
        </div>

        {/* Error Message */}
        {error && (
          <div className="bg-red-50 border border-red-200 rounded-lg p-4 mb-4 flex items-start gap-3">
            <AlertCircle className="text-red-600 flex-shrink-0 mt-0.5" size={20} />
            <div>
              <p className="text-red-800 font-bold text-sm mb-1">ì˜¤ë¥˜ ë°œìƒ</p>
              <p className="text-red-700 text-sm">{error}</p>
            </div>
          </div>
        )}

        {/* Loading Indicator */}
        {(isLoading || !isWidgetReady) && !error && (
          <div className="flex flex-col items-center justify-center py-12 space-y-4 mb-4">
            <Loader2 className="animate-spin text-blue-600" size={40} />
            <p className="text-sm text-gray-500">
              {isLoading ? 'ê²°ì œ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ê³  ìˆìŠµë‹ˆë‹¤...' : 'ê²°ì œ ìœ„ì ¯ì„ ì¤€ë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤...'}
            </p>
          </div>
        )}

        {/* Payment Widget Container - ALWAYS PRESENT */}
        <div
          id="payment-widget"
          ref={widgetContainerRef}
          className={`w-full transition-opacity duration-500 ${
            isLoading || !isWidgetReady ? 'opacity-0 h-0 overflow-hidden' : 'opacity-100'
          }`}
          style={{ minHeight: isLoading || !isWidgetReady ? '0' : '300px' }}
        />

        {/* Payment Button */}
        <button
          onClick={handlePayment}
          disabled={!isWidgetReady || isLoading || !!error}
          className={`w-full py-4 rounded-xl font-bold text-lg shadow-lg mt-4 transition-all ${
            !isWidgetReady || isLoading || error
              ? 'bg-gray-300 text-gray-500 cursor-not-allowed'
              : 'bg-blue-600 text-white hover:bg-blue-700 active:scale-95'
          }`}
        >
          {isLoading
            ? 'ê²°ì œ ì •ë³´ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...'
            : !isWidgetReady
            ? 'ê²°ì œ ìœ„ì ¯ ì¤€ë¹„ ì¤‘...'
            : error
            ? 'ê²°ì œ ë¶ˆê°€'
            : `${teeTime.finalPrice.toLocaleString()}ì› ê²°ì œí•˜ê¸°`}
        </button>

        {/* Terms */}
        <p className="text-xs text-gray-500 text-center mt-4">
          ì˜ˆì•½ í™•ì • í›„ ì·¨ì†Œ ì‹œ í™˜ë¶ˆ ì •ì±…ì´ ì ìš©ë©ë‹ˆë‹¤.
        </p>
      </div>
    </div>
  );
}
````

### File: `components/BookingModal.tsx`

````tsx
"use client";

import React, { useState, useEffect, useRef } from 'react';
import { X, Loader2, AlertCircle } from 'lucide-react';
import { loadPaymentWidget, ANONYMOUS } from '@tosspayments/payment-widget-sdk';
// âœ… í•µì‹¬: ê³µí†µ íƒ€ì…ì„ ê°€ì ¸ì™€ì„œ page.tsxì™€ ì„œë¡œ ë§ì´ í†µí•˜ê²Œ ë§ì¶¤
import { TeeTimeWithPricing } from '@/utils/supabase/queries';

interface BookingModalProps {
  isOpen: boolean;
  onClose: () => void;
  teeTime: TeeTimeWithPricing;
  userId?: string; // UUID string
  userSegment?: string;
  onSuccess?: () => void;
}

export default function BookingModal({
  isOpen,
  onClose,
  teeTime,
  userId, // No default value
  userSegment = 'SMART',
  onSuccess,
}: BookingModalProps) {
  const paymentWidgetRef = useRef<any>(null);
  const [isReady, setIsReady] = useState(false);
  const [error, setError] = useState<string | null>(null);

  // âœ… ë°ì´í„° ë³€í™˜: DBì—ì„œ ì˜¨ ë°ì´í„°(teeTime)ë¥¼ í™”ë©´ì— ë¿Œë¦¬ê¸° ì¢‹ê²Œ ë³€ìˆ˜ì— ë‹´ìŒ
  // 1. ê°€ê²© (finalPriceê°€ ì—†ìœ¼ë©´ price ì‚¬ìš©)
  const finalPrice = teeTime.finalPrice || (teeTime as any).price || 0;
  const basePrice = teeTime.basePrice || (teeTime as any).price || 0;
  
  // 2. ë‚ ì§œ (ISO String -> Date ê°ì²´ ë³€í™˜)
  const teeDate = new Date(teeTime.tee_off);
  const timeString = teeDate.toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit', hour12: false });
  const dateString = teeDate.toLocaleDateString('ko-KR', { month: 'long', day: 'numeric', weekday: 'short' });

  // 3. ë‚ ì”¨ (ì—†ì„ ê²½ìš° ëŒ€ë¹„)
  const weather = teeTime.weather || { sky: 'ë§‘ìŒ', temperature: 20, rainProb: 0 };
  
  // 4. ì´ìœ  íƒœê·¸ (ì—†ì„ ê²½ìš° ë¹ˆ ë°°ì—´)
  const reasons = teeTime.reasons || [];

  // ìœ„ì ¯ ì´ˆê¸°í™”
  useEffect(() => {
    if (!isOpen) {
      paymentWidgetRef.current = null;
      setIsReady(false);
      setError(null);
      return;
    }

    const initWidget = async () => {
      try {
        const clientKey = process.env.NEXT_PUBLIC_TOSS_CLIENT_KEY;

        if (!clientKey) {
          throw new Error('Toss Client Keyê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
        }

        // ë¹„íšŒì›/íšŒì› êµ¬ë¶„
        const customerKey = userId ? `USER-${userId}` : ANONYMOUS;
        const widget = await loadPaymentWidget(clientKey, customerKey);

        // ê²°ì œ UI ë Œë”ë§
        await widget.renderPaymentMethods(
          '#payment-widget',
          { value: finalPrice },
          { variantKey: 'DEFAULT' }
        );

        // ì´ìš©ì•½ê´€ ë Œë”ë§ (ì„ íƒ)
        await widget.renderAgreement(
          '#agreement', 
          { variantKey: 'AGREEMENT' }
        );

        paymentWidgetRef.current = widget;
        setIsReady(true);
      } catch (err) {
        console.error('Widget initialization failed:', err);
        setError(
          err instanceof Error
            ? err.message
            : 'ê²°ì œ ìœ„ì ¯ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.'
        );
      }
    };

    initWidget();
  }, [isOpen, userId, finalPrice]);

  const handlePayment = async () => {
    if (!paymentWidgetRef.current || !isReady) {
      setError('ê²°ì œ ìœ„ì ¯ì´ ì¤€ë¹„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.');
      return;
    }

    try {
      const orderId = `ORD-${Date.now()}-${userId}-${teeTime.id}`;

      // ê²°ì œ ì„±ê³µ í˜ì´ì§€ì—ì„œ ë³´ì—¬ì¤„ ë°ì´í„°ë¥¼ ì„¸ì…˜ì— ì €ì¥ (ì„ íƒ ì‚¬í•­)
      const metadata = {
        userId,
        teeTimeId: teeTime.id,
        finalPrice: finalPrice,
        discountBreakdown: {
          basePrice: basePrice,
          finalPrice: finalPrice,
          discountAmount: basePrice - finalPrice,
          reasons: reasons,
          userSegment,
        },
      };
      sessionStorage.setItem('paymentMetadata', JSON.stringify(metadata));

      // ê²°ì œ ìš”ì²­
      await paymentWidgetRef.current.requestPayment({
        orderId,
        orderName: `${dateString} ${timeString} í‹°íƒ€ì„`,
        customerName: userId ? `íšŒì› ${userId}` : 'ë¹„íšŒì› ê³ ê°',
        successUrl: `${window.location.origin}/api/payments/confirm?tee_time_id=${teeTime.id}&user_id=${userId}`,
        failUrl: `${window.location.origin}/payment/fail`,
      });

      if (onSuccess) onSuccess();

    } catch (err) {
      console.error('Payment request failed:', err);
      if ((err as any).code === 'USER_CANCEL') return; // ì‚¬ìš©ìê°€ ì°½ì„ ë‹«ì€ ê±´ ì—ëŸ¬ ì•„ë‹˜
      
      setError(
        err instanceof Error ? err.message : 'ê²°ì œ ìš”ì²­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.'
      );
    }
  };

  if (!isOpen) return null;

  // í• ì¸ìœ¨ ê³„ì‚°
  const discountAmount = basePrice - finalPrice;
  const discountPercent = basePrice > 0 ? Math.round((discountAmount / basePrice) * 100) : 0;

  return (
    <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 animate-in fade-in duration-200">
      <div className="bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in zoom-in duration-200">
        {/* Header */}
        <div className="flex justify-between items-center mb-6">
          <h2 className="text-2xl font-bold text-gray-900">ê²°ì œí•˜ê¸°</h2>
          <button
            onClick={onClose}
            className="text-gray-400 hover:text-gray-600 transition-colors"
          >
            <X size={24} />
          </button>
        </div>

        {/* Booking Summary */}
        <div className="bg-blue-50 rounded-xl p-4 mb-6">
          <div className="text-sm text-gray-600 mb-2">
            {dateString}
          </div>
          <div className="text-xl font-bold text-gray-900 mb-3">
            {timeString}
          </div>

          {/* Weather */}
          <div className="flex items-center gap-2 text-sm text-gray-600 mb-2">
            <span>{weather.sky || 'ë§‘ìŒ'}</span>
            {weather.temperature && (
              <span>â€¢ {weather.temperature}Â°C</span>
            )}
            <span>â€¢ ê°•ìˆ˜í™•ë¥  {weather.rainProb || 0}%</span>
          </div>

          {/* Pricing */}
          <div className="border-t border-blue-200 pt-3 mt-3">
            <div className="flex justify-between text-sm text-gray-600 mb-1">
              <span>ì •ê°€</span>
              <span className="line-through">
                {basePrice.toLocaleString()}ì›
              </span>
            </div>
            {discountAmount > 0 && (
              <div className="flex justify-between text-sm text-red-600 font-bold mb-2">
                <span>í• ì¸ ({discountPercent}%)</span>
                <span>-{discountAmount.toLocaleString()}ì›</span>
              </div>
            )}
            <div className="flex justify-between text-lg font-black text-blue-600">
              <span>ìµœì¢… ê¸ˆì•¡</span>
              <span>{finalPrice.toLocaleString()}ì›</span>
            </div>
          </div>

          {/* Discount Reasons */}
          {reasons.length > 0 && (
            <div className="mt-3 flex flex-wrap gap-1.5">
              {reasons.map((reason, idx) => (
                <span
                  key={idx}
                  className="text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium"
                >
                  {reason}
                </span>
              ))}
            </div>
          )}
        </div>

        {/* Error Message */}
        {error && (
          <div className="bg-red-50 border border-red-200 rounded-lg p-4 mb-4 flex items-start gap-3">
            <AlertCircle className="text-red-600 flex-shrink-0 mt-0.5" size={20} />
            <div>
              <p className="text-red-800 font-bold text-sm mb-1">ì˜¤ë¥˜ ë°œìƒ</p>
              <p className="text-red-700 text-sm">{error}</p>
            </div>
          </div>
        )}

        {/* Loading State */}
        {!isReady && !error && (
          <div className="flex flex-col items-center justify-center py-12 mb-4">
            <Loader2 className="animate-spin text-blue-600 mb-3" size={40} />
            <p className="text-sm text-gray-500">ê²°ì œ ìœ„ì ¯ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
          </div>
        )}

        {/* Payment Widget Container */}
        <div
          id="payment-widget"
          className="w-full mb-4"
          style={{ minHeight: isReady ? '300px' : '0' }}
        />
        
        {/* Agreement (Optional) */}
        <div id="agreement" className="w-full mb-4" />

        {/* Payment Button */}
        <button
          onClick={handlePayment}
          disabled={!isReady || !!error}
          className={`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all ${
            !isReady || error
              ? 'bg-gray-300 text-gray-500 cursor-not-allowed'
              : 'bg-blue-600 text-white hover:bg-blue-700 active:scale-95'
          }`}
        >
          {!isReady
            ? 'ê²°ì œ ìœ„ì ¯ ì¤€ë¹„ ì¤‘...'
            : error
            ? 'ê²°ì œ ë¶ˆê°€'
            : `${finalPrice.toLocaleString()}ì› ê²°ì œí•˜ê¸°`}
        </button>

        {/* Terms */}
        <p className="text-xs text-gray-500 text-center mt-4">
          ì˜ˆì•½ í™•ì • í›„ ì·¨ì†Œ ì‹œ í™˜ë¶ˆ ì •ì±…ì´ ì ìš©ë©ë‹ˆë‹¤.
        </p>
      </div>
    </div>
  );
}
````

### File: `components/DateSelector.tsx`

````tsx
"use client";

import React from 'react';
import { Calendar } from 'lucide-react';

interface DateSelectorProps {
  selectedDate: Date;
  onDateChange: (date: Date) => void;
}

export default function DateSelector({ selectedDate, onDateChange }: DateSelectorProps) {
  // Generate next 14 days
  const dates = Array.from({ length: 14 }, (_, i) => {
    const date = new Date();
    date.setDate(date.getDate() + i);
    return date;
  });

  const isSelected = (date: Date) => {
    return date.toDateString() === selectedDate.toDateString();
  };

  const isToday = (date: Date) => {
    return date.toDateString() === new Date().toDateString();
  };

  const formatDate = (date: Date) => {
    return {
      day: date.getDate(),
      weekday: ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '][date.getDay()],
      month: date.getMonth() + 1,
    };
  };

  return (
    <div className="bg-white border-b border-gray-200 px-4 py-4">
      <div className="flex items-center gap-2 mb-3">
        <Calendar size={18} className="text-blue-600" />
        <h2 className="text-sm font-bold text-gray-700">ë‚ ì§œ ì„ íƒ</h2>
      </div>
      
      <div className="flex gap-2 overflow-x-auto pb-2 scrollbar-hide">
        {dates.map((date, index) => {
          const { day, weekday, month } = formatDate(date);
          const selected = isSelected(date);
          const today = isToday(date);

          return (
            <button
              key={index}
              onClick={() => onDateChange(date)}
              className={`flex-shrink-0 flex flex-col items-center justify-center w-16 h-20 rounded-xl border-2 transition-all ${
                selected
                  ? 'bg-blue-600 border-blue-600 text-white shadow-lg scale-105'
                  : 'bg-white border-gray-200 text-gray-700 hover:border-blue-300'
              }`}
            >
              <div className="text-[10px] font-medium opacity-70">
                {month}ì›”
              </div>
              <div className="text-xl font-black">
                {day}
              </div>
              <div className={`text-[11px] font-bold ${
                selected ? 'text-blue-100' : today ? 'text-blue-600' : 'text-gray-500'
              }`}>
                {today ? 'ì˜¤ëŠ˜' : weekday}
              </div>
            </button>
          );
        })}
      </div>

      <style jsx>{`
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
      `}</style>
    </div>
  );
}
````

### File: `components/PriceCard.tsx`

````tsx
// ==================================================================
// PriceCard ì»´í¬ë„ŒíŠ¸
// ê¸°íšì„œ 07 ê¸°ë°˜: í‹°íƒ€ì„ ê°€ê²© ì¹´ë“œ UI
// ==================================================================

import React from 'react';
import { Clock } from 'lucide-react';

interface PriceCardProps {
  /** í‹°ì˜¤í”„ ì‹œê°„ (HH:MM í˜•ì‹) */
  time: string;

  /** ì •ê°€ */
  basePrice: number;

  /** ìµœì¢… ê°€ê²© */
  finalPrice: number;

  /** í• ì¸ ì‚¬ìœ  */
  reasons: string[];

  /** í‹°íƒ€ì„ ìƒíƒœ */
  status?: 'OPEN' | 'BOOKED' | 'BLOCKED';

  /** í´ë¦­ í•¸ë“¤ëŸ¬ */
  onClick?: () => void;
}

export default function PriceCard({
  time,
  basePrice,
  finalPrice,
  reasons,
  status = 'OPEN',
  onClick,
}: PriceCardProps) {
  const hasDiscount = finalPrice < basePrice;
  const isBlocked = status === 'BLOCKED';
  const isBooked = status === 'BOOKED';

  return (
    <div
      className={`
        bg-white p-5 rounded-xl border shadow-sm
        transition-all duration-200
        ${isBlocked ? 'border-gray-300 opacity-50 cursor-not-allowed' : ''}
        ${isBooked ? 'border-blue-300 bg-blue-50' : 'border-gray-100'}
        ${!isBlocked && !isBooked ? 'hover:shadow-md cursor-pointer' : ''}
      `}
      onClick={!isBlocked && !isBooked ? onClick : undefined}
    >
      {/* ìƒë‹¨: ì‹œê°„ & ìƒíƒœ ë±ƒì§€ */}
      <div className="flex justify-between items-center mb-2">
        <div className="flex items-center gap-2">
          <Clock size={18} className="text-gray-600" />
          <span className="text-xl font-bold text-gray-900">{time}</span>

          {/* ìƒíƒœ ë±ƒì§€ */}
          {isBlocked && (
            <span className="text-[10px] font-bold bg-red-100 text-red-600 px-2 py-1 rounded">
              â›ˆ ê¸°ìƒ ì°¨ë‹¨
            </span>
          )}
          {isBooked && (
            <span className="text-[10px] font-bold bg-blue-100 text-blue-600 px-2 py-1 rounded">
              âœ“ ì˜ˆì•½ ì™„ë£Œ
            </span>
          )}
          {reasons.some((r) => r.includes('ìš°ì²œ') || r.includes('ë¹„')) && !isBlocked && (
            <span className="text-[10px] font-bold bg-blue-100 text-blue-600 px-2 py-1 rounded">
              â˜”ï¸ ìš°ì²œ
            </span>
          )}
        </div>

        {/* ê°€ê²© ì˜ì—­ */}
        <div className="text-right">
          {hasDiscount && (
            <div className="text-xs text-gray-400 line-through decoration-gray-400">
              {basePrice.toLocaleString()}
            </div>
          )}
          <div
            className={`text-xl font-black ${
              hasDiscount ? 'text-red-500' : 'text-gray-900'
            }`}
          >
            {finalPrice.toLocaleString()}
            <span className="text-sm font-normal text-gray-500">ì›</span>
          </div>
        </div>
      </div>

      {/* í•˜ë‹¨: í• ì¸ ì‚¬ìœ  ë±ƒì§€ */}
      {hasDiscount && reasons.length > 0 && (
        <div className="mt-2 pt-2 border-t border-gray-50">
          <div className="flex flex-wrap gap-1">
            {reasons.map((reason, idx) => (
              <span
                key={idx}
                className="text-[10px] bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded"
              >
                {reason}
              </span>
            ))}
          </div>
        </div>
      )}

      {/* ì°¨ë‹¨ ìƒíƒœ ë©”ì‹œì§€ */}
      {isBlocked && (
        <div className="mt-2 pt-2 border-t border-gray-200">
          <p className="text-xs text-gray-500">
            ê¸°ìƒ íŠ¹ë³´ë¡œ ì¸í•´ ì˜ˆì•½ì´ ì¼ì‹œ ì¤‘ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.
          </p>
        </div>
      )}
    </div>
  );
}
````

### File: `components/SiteHeader.tsx`

```tsx
'use client';

import { useEffect, useState } from 'react';
import { useRouter } from 'next/navigation';
import { MapPin, User, LogOut } from 'lucide-react';
import { supabase } from '@/lib/supabase';
import { logout } from '@/app/login/actions';

export default function SiteHeader() {
  const router = useRouter();
  const [user, setUser] = useState<any>(null);
  const [userName, setUserName] = useState<string>('');
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // Check current session
    async function checkUser() {
      try {
        const { data: { user: sessionUser } } = await supabase.auth.getUser();

        if (sessionUser) {
          setUser(sessionUser);

          // Fetch user name from database
          const { data: dbUser } = await (supabase as any)
            .from('users')
            .select('name')
            .eq('id', sessionUser.id)
            .single();

          if (dbUser?.name) {
            setUserName(dbUser.name);
          } else {
            // Fallback to email if no name
            setUserName(sessionUser.email?.split('@')[0] || 'User');
          }
        }
      } catch (error) {
        console.error('Error fetching user:', error);
      } finally {
        setLoading(false);
      }
    }

    checkUser();

    // Listen for auth changes
    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {
      if (session?.user) {
        setUser(session.user);
      } else {
        setUser(null);
        setUserName('');
      }
    });

    return () => {
      subscription.unsubscribe();
    };
  }, []);

  const handleLogout = async () => {
    if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
      try {
        await logout();
      } catch (error) {
        console.error('Logout error:', error);
      }
    }
  };

  return (
    <header className="bg-white p-4 flex justify-between items-center sticky top-0 z-20 shadow-sm">
      <h1
        onClick={() => router.push('/')}
        className="text-2xl font-black text-black tracking-tighter cursor-pointer hover:text-green-600 transition-colors"
      >
        TUGOL
      </h1>

      <div className="flex items-center gap-3">
        {/* Location Badge */}
        <div className="flex items-center text-sm font-bold text-gray-600 bg-gray-100 px-3 py-1 rounded-full">
          <MapPin size={14} className="mr-1 text-blue-500" />
          ì¸ì²œ (Club 72)
        </div>

        {/* Auth Buttons */}
        {loading ? (
          <div className="w-8 h-8 bg-gray-200 rounded-full animate-pulse"></div>
        ) : user ? (
          <div className="flex items-center gap-2">
            {/* User Info */}
            <button
              onClick={() => router.push('/reservations')}
              className="flex items-center gap-2 px-3 py-1.5 bg-green-100 text-green-700 rounded-full hover:bg-green-200 transition-colors text-sm font-medium"
            >
              <User size={16} />
              {userName}
            </button>

            {/* Logout Button */}
            <button
              onClick={handleLogout}
              className="p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-full transition-colors"
              title="ë¡œê·¸ì•„ì›ƒ"
            >
              <LogOut size={20} />
            </button>
          </div>
        ) : (
          <button
            onClick={() => router.push('/login')}
            className="px-4 py-2 bg-green-600 text-white rounded-full hover:bg-green-700 transition-colors text-sm font-bold"
          >
            ë¡œê·¸ì¸
          </button>
        )}
      </div>
    </header>
  );
}
```

### File: `components/TeeTimeList.tsx`

````tsx
"use client";

import React, { useState, useMemo, useEffect } from 'react';
import { useRouter } from 'next/navigation';
import { Gift, Timer, Calendar as CalendarIcon, Sunrise, Sun, Moon, Loader2 } from 'lucide-react';
import DateSelector from '@/components/DateSelector';
import BookingModal from '@/components/BookingModal';
import { TeeTimeWithPricing } from '@/utils/supabase/queries';
import { Database } from '@/types/database';

type UserSegment = Database['public']['Tables']['users']['Row']['segment'];

interface TeeTimeListProps {
  initialTeeTimes: TeeTimeWithPricing[];
  initialDate: Date;
}

export default function TeeTimeList({ initialTeeTimes, initialDate }: TeeTimeListProps) {
  // 1. Hydration Mismatch ë°©ì§€ë¥¼ ìœ„í•œ ë§ˆìš´íŠ¸ ìƒíƒœ ì¶”ê°€
  const [mounted, setMounted] = useState(false);

  const router = useRouter();
  const [selectedDate, setSelectedDate] = useState<Date>(initialDate);
  const [teeTimes, setTeeTimes] = useState<TeeTimeWithPricing[]>(initialTeeTimes);
  
  // Sync state with props when server refetches
  useEffect(() => {
    setTeeTimes(initialTeeTimes);
    setSelectedDate(initialDate);
  }, [initialTeeTimes, initialDate]);

  const [selectedPart, setSelectedPart] = useState<'part1' | 'part2' | 'part3'>('part1');
  const [isBookingModalOpen, setIsBookingModalOpen] = useState(false);
  const [selectedTeeTime, setSelectedTeeTime] = useState<TeeTimeWithPricing | null>(null);
  
  // Panic mode
  const [showPanic, setShowPanic] = useState(false);
  const [timeLeft, setTimeLeft] = useState(59 * 60 + 59);

  // 2. ë§ˆìš´íŠ¸ ì²˜ë¦¬: ì»´í¬ë„ŒíŠ¸ê°€ ë¸Œë¼ìš°ì €ì— ì˜¬ë¼ì˜¨ í›„ mountedë¥¼ trueë¡œ ë³€ê²½
  useEffect(() => {
    setMounted(true);
  }, []);

  // Handle Date Change
  const handleDateChange = (date: Date) => {
    setSelectedDate(date);
    const offset = date.getTimezoneOffset() * 60000;
    const localISOTime = new Date(date.getTime() - offset).toISOString().slice(0, 10);
    router.push(`/?date=${localISOTime}`);
  };

  // Filter Logic
  const filteredTeeTimes = useMemo(() => {
    return teeTimes.filter((time) => {
      const date = new Date(time.tee_off);
      const hour = date.getHours();
      const minutes = date.getMinutes();
      const totalMinutes = hour * 60 + minutes;

      // Gap-filling logic to ensure no tee times are hidden
      if (selectedPart === 'part1') return totalMinutes < 660; // Until 11:00
      if (selectedPart === 'part2') return totalMinutes >= 660 && totalMinutes < 1020; // 11:00 ~ 17:00
      if (selectedPart === 'part3') return totalMinutes >= 1020; // 17:00 ~
      return false;
    });
  }, [teeTimes, selectedPart]);

  // Panic Timer
  useEffect(() => {
    if (!mounted) return;
    const timer = setInterval(() => {
      setTimeLeft((prev) => (prev > 0 ? prev - 1 : 0));
    }, 1000);
    
    if (teeTimes.length > 0 && Math.random() > 0.8) {
       const timeout = setTimeout(() => setShowPanic(true), 2000);
       return () => {
         clearTimeout(timeout);
         clearInterval(timer);
       };
    }
    return () => clearInterval(timer);
  }, [teeTimes, mounted]);

  const formatTime = (seconds: number) => {
    const m = Math.floor(seconds / 60).toString().padStart(2, '0');
    const s = (seconds % 60).toString().padStart(2, '0');
    return `${m}:${s}`;
  };

  const handleTeeTimeClick = (teeTime: TeeTimeWithPricing) => {
    setSelectedTeeTime(teeTime);
    setIsBookingModalOpen(true);
  };

  const handleBookingSuccess = () => {
    setIsBookingModalOpen(false);
    router.refresh(); 
  };

  // Mock User Info
  const userInfo = {
      userId: '00000000-0000-0000-0000-000000000000', // Mock UUID
      segment: 'PRESTIGE' as UserSegment,
      isNearby: true
  };

  // 3. ì¡°ê±´ë¶€ ë Œë”ë§: ë§ˆìš´íŠ¸ ì „ì—ëŠ” Loader2 í‘œì‹œ (Hydration Mismatch í•´ê²°)
  if (!mounted) {
    return (
      <div className="flex h-full justify-center items-center bg-gray-50 min-h-[400px]">
        <Loader2 className="animate-spin text-blue-500" size={40} />
      </div>
    );
  }

  return (
    <div className="flex flex-col h-full">
      {/* Panic Overlay */}
      {showPanic && (
        <div className="absolute inset-0 z-50 bg-black/90 flex flex-col justify-center items-center p-6 animate-in fade-in zoom-in duration-300">
           <div className="absolute top-10 right-0 w-full flex justify-center">
            <div className="bg-red-600 text-white font-black px-4 py-1 rounded-full animate-pulse flex items-center gap-2 shadow-[0_0_15px_rgba(220,38,38,0.7)]">
              <Timer size={16} />
              ë§ˆê°ì„ë°• {formatTime(timeLeft)}
            </div>
          </div>
          <div className="text-center text-white mb-8">
            <h2 className="text-3xl font-black italic mb-2 text-yellow-400 drop-shadow-lg">PANIC DEAL!</h2>
            <p className="text-gray-300 text-lg leading-snug">ê³ ê°ë‹˜ ìœ„ì¹˜ì—ì„œ <span className="text-white font-bold underline">ë”± 25ë¶„</span> ê±¸ë¦½ë‹ˆë‹¤.<br/>ì§€ê¸ˆ ì¶œë°œí•˜ë©´ ì´ ê°€ê²©!</p>
          </div>
          <div className="bg-white text-black p-6 rounded-3xl w-full max-w-xs text-center transform rotate-1 shadow-2xl border-4 border-yellow-400 relative">
            <div className="absolute -top-3 -left-3 bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-full">CLUB 72</div>
            <h3 className="text-gray-500 font-bold mb-1">ì˜¤ëŠ˜ 14:00 í‹°ì˜¤í”„</h3>
            <div className="text-4xl font-black text-red-600 mb-2 tracking-tighter">120,000ì›</div>
            <p className="text-xs text-gray-400 line-through mb-4">ì •ê°€ 280,000ì›</p>
            <button onClick={() => setShowPanic(false)} className="w-full bg-black text-white py-4 rounded-xl font-bold text-lg hover:bg-gray-800 transition-colors shadow-lg active:scale-95">âš¡ï¸ ì§€ê¸ˆ ë°”ë¡œ ì¡ê¸°</button>
          </div>
          <button onClick={() => setShowPanic(false)} className="mt-8 text-gray-500 underline text-sm hover:text-white transition-colors">ê´œì°®ìŠµë‹ˆë‹¤, ë¹„ì‹¸ê²Œ ì¹ ê²Œìš”.</button>
        </div>
      )}

      {/* Banner */}
      <div className="bg-black text-white p-5 m-4 rounded-2xl relative overflow-hidden cursor-pointer">
          <div className="relative z-10">
            <div className="text-xs font-bold text-yellow-400 mb-1">
              {userInfo.segment === 'PRESTIGE' ? 'ğŸ‘‘ VIP PRESTIGE' : 'ğŸ˜€ WELCOME'}
            </div>
            <h2 className="text-lg font-bold leading-tight">
              {userInfo.isNearby ? 'ğŸ“ í˜„ì¬ ê³¨í”„ì¥ ê·¼ì²˜ì‹œêµ°ìš”!' : 'íšŒì›ë‹˜,'}<br/>
              ì˜¤ëŠ˜ <span className="text-yellow-400">íŠ¹ë³„ í˜œíƒ</span>ì„ í™•ì¸í•˜ì„¸ìš”.
            </h2>
          </div>
          <div className="absolute right-[-20px] bottom-[-20px] opacity-20">
            <Gift size={100} />
          </div>
      </div>

      {/* Date & Part Selector */}
      <div className="sticky top-0 bg-gray-50 z-10 pt-2">
           <DateSelector 
            selectedDate={selectedDate} 
            onDateChange={handleDateChange} 
          />
        
          <div className="px-4 py-2 bg-gray-50">
            <div className="flex gap-2 p-1 bg-white rounded-xl shadow-sm border border-gray-100">
              <button
                onClick={() => setSelectedPart('part1')}
                className={`flex-1 flex items-center justify-center gap-1.5 py-2.5 text-[10px] font-bold rounded-lg transition-all ${
                  selectedPart === 'part1' ? 'bg-black text-yellow-400 shadow-md scale-100' : 'text-gray-400 hover:bg-gray-50'
                }`}
              >
                <Sunrise size={14} /> 1ë¶€ (05:00~07:30)
              </button>
              <button
                onClick={() => setSelectedPart('part2')}
                className={`flex-1 flex items-center justify-center gap-1.5 py-2.5 text-[10px] font-bold rounded-lg transition-all ${
                  selectedPart === 'part2' ? 'bg-black text-yellow-400 shadow-md scale-100' : 'text-gray-400 hover:bg-gray-50'
                }`}
              >
                <Sun size={14} /> 2ë¶€ (11:00~14:30)
              </button>
              <button
                onClick={() => setSelectedPart('part3')}
                className={`flex-1 flex items-center justify-center gap-1.5 py-2.5 text-[10px] font-bold rounded-lg transition-all ${
                  selectedPart === 'part3' ? 'bg-black text-yellow-400 shadow-md scale-100' : 'text-gray-400 hover:bg-gray-50'
                }`}
              >
                <Moon size={14} /> 3ë¶€ (17:00~19:30)
              </button>
            </div>
          </div>
      </div>

      {/* List */}
      <div className="px-4 pt-2 flex-1">
          <h3 className="font-bold text-gray-800 mb-3 text-lg flex items-center justify-between">
            <span>ì‹¤ì‹œê°„ í‹°íƒ€ì„</span>
            <span className="text-[10px] font-normal text-gray-500 bg-white border border-gray-200 px-2 py-0.5 rounded-full">
              {filteredTeeTimes.length}ê°œ ê²€ìƒ‰ë¨
            </span>
          </h3>
          
          {filteredTeeTimes.length === 0 ? (
            <div className="flex flex-col items-center justify-center py-16 text-center border-2 border-dashed border-gray-200 rounded-2xl bg-white">
              <CalendarIcon size={40} className="text-gray-300 mb-4" />
              <h3 className="text-lg font-bold text-gray-700 mb-1">
                ì˜ˆì•½ ë§ˆê°
              </h3>
              <p className="text-sm text-gray-400">
                ì„ íƒí•˜ì‹  ì‹œê°„ëŒ€({selectedPart === 'part1' ? '1ë¶€' : selectedPart === 'part2' ? '2ë¶€' : '3ë¶€'})ëŠ”<br/>ëª¨ë‘ ì˜ˆì•½ë˜ì—ˆìŠµë‹ˆë‹¤.
              </p>
            </div>
          ) : (
            <div className="space-y-3 pb-8">
              {filteredTeeTimes.map((item) => (
                <div 
                  key={item.id} 
                  onClick={() => handleTeeTimeClick(item)}
                  className="bg-white p-5 rounded-xl border border-gray-100 shadow-sm cursor-pointer hover:shadow-md hover:border-blue-200 transition-all active:scale-[0.98]"
                >
                  <div className="flex justify-between items-center mb-2">
                    <div className="flex items-center gap-2">
                      <span className="text-xl font-black text-gray-900 font-mono tracking-tight">
                        {new Date(item.tee_off).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}
                      </span>
                      <span className={`text-[10px] px-1.5 py-0.5 rounded font-bold uppercase ${
                        selectedPart === 'part3' ? 'bg-purple-100 text-purple-700' :
                        selectedPart === 'part2' ? 'bg-orange-100 text-orange-700' :
                        'bg-blue-100 text-blue-700'
                      }`}>
                        {selectedPart === 'part1' ? 'Morning' : selectedPart === 'part2' ? 'Day' : 'Night'}
                      </span>
                    </div>
                    <div className="text-right">
                      {item.finalPrice < item.basePrice && (
                        <div className="text-xs text-gray-400 line-through decoration-gray-400">
                          {item.basePrice.toLocaleString()}
                        </div>
                      )}
                      <div className={`text-xl font-black ${item.finalPrice < item.basePrice ? 'text-red-500' : 'text-gray-900'}`}>
                        {item.finalPrice.toLocaleString()}<span className="text-sm font-normal text-gray-500">ì›</span>
                      </div>
                    </div>
                  </div>
                  {item.reasons && item.reasons.length > 0 && (
                    <div className="mt-2 pt-2 border-t border-gray-50">
                       <div className="flex flex-wrap gap-1">
                        {item.reasons.map((reason: string, idx: number) => (
                            <span key={idx} className="text-[10px] bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded">
                                {reason}
                            </span>
                        ))}
                      </div>
                    </div>
                  )}
                </div>
              ))}
            </div>
          )}
      </div>

      {selectedTeeTime && (
        <BookingModal
          isOpen={isBookingModalOpen}
          onClose={() => setIsBookingModalOpen(false)}
          teeTime={selectedTeeTime}
          userId={userInfo.userId} 
          userSegment={userInfo.segment}
          onSuccess={handleBookingSuccess}
        />
      )}
    </div>
  );
}
````

### File: `components/WeatherWidget.tsx`

````tsx
// ==================================================================
// WeatherWidget ì»´í¬ë„ŒíŠ¸
// ê¸°íšì„œ 02 ê¸°ë°˜: ìƒë‹¨ ë‚ ì”¨ ìƒí™©íŒ
// ==================================================================

import React from 'react';
import { CloudRain, Cloud, Sun, MapPin } from 'lucide-react';

interface WeatherWidgetProps {
  /** ê°•ìˆ˜í™•ë¥  (%) */
  rainProb: number;

  /** ì‚¬ìš©ì ìœ„ì¹˜ ë©”ì‹œì§€ (ì„ íƒ) */
  locationMessage?: string;

  /** ì‚¬ìš©ì ì„¸ê·¸ë¨¼íŠ¸ í‘œì‹œ (ì„ íƒ) */
  userSegment?: 'FUTURE' | 'PRESTIGE' | 'SMART' | 'CHERRY';
}

export default function WeatherWidget({
  rainProb,
  locationMessage,
  userSegment,
}: WeatherWidgetProps) {
  // ë‚ ì”¨ ì•„ì´ì½˜ ê²°ì •
  const getWeatherIcon = () => {
    if (rainProb >= 60) return <CloudRain size={24} className="text-blue-500" />;
    if (rainProb >= 30) return <Cloud size={24} className="text-gray-500" />;
    return <Sun size={24} className="text-yellow-500" />;
  };

  // ë‚ ì”¨ ë©”ì‹œì§€
  const getWeatherMessage = () => {
    if (rainProb >= 60) return `ìš°ì²œ í• ì¸ ì ìš© ì¤‘ (${rainProb}%)`;
    if (rainProb >= 30) return `íë¦¼ í• ì¸ ì ìš© ì¤‘ (${rainProb}%)`;
    return 'í™”ì°½í•œ ë‚ ì”¨';
  };

  // ì„¸ê·¸ë¨¼íŠ¸ ë±ƒì§€
  const getSegmentBadge = () => {
    switch (userSegment) {
      case 'PRESTIGE':
        return (
          <span className="text-xs font-bold text-yellow-400 bg-gray-900 px-2 py-1 rounded-full">
            ğŸ‘‘ VIP PRESTIGE
          </span>
        );
      case 'SMART':
        return (
          <span className="text-xs font-bold text-blue-600 bg-blue-100 px-2 py-1 rounded-full">
            ğŸ’¡ SMART
          </span>
        );
      case 'CHERRY':
        return (
          <span className="text-xs font-bold text-pink-600 bg-pink-100 px-2 py-1 rounded-full">
            ğŸ’ CHERRY
          </span>
        );
      default:
        return null;
    }
  };

  return (
    <div className="bg-black text-white p-5 m-4 rounded-2xl relative overflow-hidden cursor-pointer">
      <div className="relative z-10">
        {/* ìƒë‹¨: ì„¸ê·¸ë¨¼íŠ¸ ë±ƒì§€ */}
        <div className="flex justify-between items-center mb-2">
          {getSegmentBadge()}

          {/* ë‚ ì”¨ ì•„ì´ì½˜ */}
          <div className="flex items-center gap-2">
            {getWeatherIcon()}
            <span className="text-sm font-medium">{getWeatherMessage()}</span>
          </div>
        </div>

        {/* ë©”ì¸ ë©”ì‹œì§€ */}
        <h2 className="text-lg font-bold leading-tight mt-3">
          {locationMessage ? (
            <>
              ğŸ“ {locationMessage}
              <br />
              <span className="text-yellow-400">íŠ¹ë³„ í˜œíƒ</span>ì„ í™•ì¸í•˜ì„¸ìš”.
            </>
          ) : (
            <>
              íšŒì›ë‹˜,
              <br />
              ì˜¤ëŠ˜ <span className="text-yellow-400">íŠ¹ë³„ í˜œíƒ</span>ì„ í™•ì¸í•˜ì„¸ìš”.
            </>
          )}
        </h2>
      </div>

      {/* ë°°ê²½ ì¥ì‹ */}
      <div className="absolute right-[-20px] bottom-[-20px] opacity-10">
        {rainProb >= 60 ? (
          <CloudRain size={100} />
        ) : rainProb >= 30 ? (
          <Cloud size={100} />
        ) : (
          <Sun size={100} />
        )}
      </div>
    </div>
  );
}
````

### File: `docs/specs/pricing-engine-v0.9/auto-policy.md`

````md
# TUGOL Auto-Policy Spec (v0.9)

## 1. Principles
- **Safety First:** Better to miss a revenue opportunity than to lose Host trust.
- **Gradual Rollout:** Start with low-risk segments (`LAST_MINUTE`, `TWILIGHT`).
- **Human in the Loop:** Host can override AUTO at any time.

## 2. AUTO Allowed/Blocked Rules
- **Blocked:** `WEEKEND_PRIME` (High risk, high visibility).
- **Allowed:** `LAST_MINUTE` (Perishable), `TWILIGHT` (Niche), `WEEKDAY_VALUE` (Volume).

## 3. Transition Logic (RECO â†’ AUTO)
A segment is eligible for AUTO if:
1.  **Acceptance Rate** >= 80% (Last 4 weeks).
2.  **Revenue Impact** >= Neutral/Positive (Simulation).
3.  **Override Variance** < Threshold (Host behavior is predictable).
4.  **Host Opt-in:** Host explicitly enables AUTO switch.

## 4. Safety Constraints
- **Max Auto Coverage:** Max 30% of daily slots can be AUTO.
- **Max Price Change:** Price cannot change by more than 15% from Base Price.
- **Velocity Check:** If booking velocity is too high (underpriced), Auto-raise price or switch to MANUAL.
- **Panic Button:** One-click revert to Base Price for all slots.
````

### File: `docs/specs/pricing-engine-v0.9/config.md`

``````md
# TUGOL Configuration Spec (v0.9)

## 1. Config Hierarchy
Configuration is applied in a cascading manner:
`Global (HQ)` â†’ `Chain` â†’ `Course` â†’ `Segment` â†’ `Slot/Date`

## 2. Global/Chain Config (Governance)
High-level policies defined by HQ.

```jsonc
{
  "chain_id": "CHAIN_X",
  "currency": "KRW",
  "global_safety_rules": {
    "min_price_factor": 0.6,   // Never below 60% of base
    "max_price_factor": 1.5,   // Never above 150% of base
    "max_daily_change": 0.2    // Max 20% change per day
  },
  "blocked_segments_global": ["WEEKEND_PRIME"] // Always MANUAL/RECO
}
```

## 3. Course Config (Operational)
Specific settings for a golf course.

```jsonc
{
  "course_id": "C123",
  "default_mode": "RECO",
  "bounds": {
    "price_floor": 100000,
    "price_ceiling": 250000
  },
  "exploration": {
    "enabled": true,
    "level": "LOW" // LOW | MEDIUM | HIGH
  }
}
```

## 4. Segment Policy (Automation)
Granular control per customer segment.

```jsonc
{
  "segment_policies": {
    "WEEKDAY_VALUE": {
      "mode": "AUTO",
      "auto_allowed": true,
      "min_margin": 0.1
    },
    "LAST_MINUTE": {
      "mode": "AUTO",
      "auto_allowed": true,
      "trigger_hours": 48
    },
    "WEEKEND_PRIME": {
      "mode": "RECO",
      "auto_allowed": false
    }
  }
}
```

## 5. Safety Flags
- **`max_auto_coverage`**: 0.3 (Max 30% of inventory can be AUTO priced).
- **`panic_button`**: True (Instantly revert all AUTO to Base Price).
``````

### File: `docs/specs/pricing-engine-v0.9/evaluation.md`

```md
# TUGOL Evaluation Spec (v0.9)

## 1. Validation Cohort (v0.9)
- **Target:** 2~4 Golf Courses (Small/Local + Suburban).
- **Duration:** 8~12 Weeks.
- **Goal:** Data Collection & Trust Building.

## 2. Validation KPIs (Success Criteria)
These metrics must be met to proceed to Pilot (v1.0).

| Category | Metric | Threshold |
| :--- | :--- | :--- |
| **Data** | **Elasticity Detected** | Statistically significant curve in 2+ segments |
| | **Data Density** | > 3,000 Valid Logs |
| **Host** | **Acceptance Rate** | > 70% (in target segments) |
| | **Override Variance** | Decreasing trend over time |
| **Ops** | **AUTO Candidates** | > 2 Segments identified (e.g. LAST_MINUTE) |

## 3. Pilot KPIs (v1.0 Goals)
- **Revenue Uplift:** > 5% vs Control.
- **Occupancy Uplift:** > 10% in Off-peak.
- **AUTO Ratio:** > 30% of total slots.
- **Host Satisfaction:** NPS > 8.

## 4. Methodology
- **A/B Test:** Not possible in single course. Use **Pre-Post Analysis** or **Synthetic Control**.
- **Shadow Pricing:** Compare Engine Price vs Actual Price performance in simulation.
```

### File: `docs/specs/pricing-engine-v0.9/interfaces.md`

``````md
# TUGOL Pricing Engine Interfaces (v0.9)

## 1. Input Interface (Pricing Request)
Used by Booking Engine to request a price calculation.

```jsonc
{
  "request_id": "REQ-001",
  "mode": "RECO",              // MANUAL | RECO | AUTO
  "course_id": "C123",
  "date": "2025-08-01",
  "slot": "MORNING_07_30",
  "segment": "WEEKDAY_VALUE",  // Target Customer Segment
  "base_price": 150000,
  "lead_time_days": 5,
  "weather": {
    "temperature": 29.5,
    "rain_prob": 0.3,
    "feels_like": 32.0,
    "wind_speed": 3.0,
    "pm10": 45
  },
  "demand_signals": {
    "booking_velocity": 0.42,  // Norm 0-1
    "search_volume": 0.65,
    "conversion_rate": 0.28,
    "cancellation_rate": 0.05
  },
  "host_config": {
    "price_floor": 110000,
    "price_ceiling": 190000,
    "auto_allowed": false,
    "blocked_segments": ["WEEKEND_PRIME"]
  }
}
```

## 2. Output Interface (Pricing Response)
Returned to Booking Engine / Host Dashboard.

```jsonc
{
  "request_id": "REQ-001",
  "timestamp": "2025-07-27T09:00:00Z",
  "mode": "RECO",
  "recommended_price": 138000,
  "final_price": 138000,       // Same as recommended in AUTO
  "currency": "KRW",
  "confidence_score": 0.78,    // Model confidence
  "reasoning": [
    "High Rain Probability (-5%)",
    "Slow Booking Velocity (-3%)"
  ],
  "governance": {
    "is_capped": false,
    "cap_type": null
  }
}
```

## 3. Control Interface (Config Update)
Used to change operating modes.

```jsonc
{
  "course_id": "C123",
  "segment": "WEEKDAY_VALUE",
  "new_mode": "AUTO",
  "updated_by": "admin_user"
}
```

## 4. Override Interface (Host Feedback)
Used when Host modifies the recommended price.

```jsonc
{
  "request_id": "REQ-001",
  "course_id": "C123",
  "recommended_price": 138000,
  "final_price": 145000,       // Host decision
  "reason": "Course Condition Good"
}
```

## 5. Logging Hook (Event Stream)
Events emitted for Data Lake / RL Training.
- `PRICE_RECO_GENERATED`
- `PRICE_AUTO_GENERATED`
- `PRICE_OVERRIDDEN`
- `BOOKING_COMPLETED`
- `BOOKING_CANCELLED`
- `NO_BOOKING_EXPIRED`
``````

### File: `docs/specs/pricing-engine-v0.9/logging.md`

````md
# TUGOL Logging & Telemetry Spec (v0.9)

## 1. Event Types
Key events for the Data Lake.

- **`PRICE_RECO`**: Engine generated a suggestion.
- **`PRICE_AUTO`**: Engine set a price automatically.
- **`PRICE_OVERRIDE`**: Host modified the price.
- **`BOOKED`**: User purchased a slot.
- **`CANCELLED`**: User/Host cancelled a booking.
- **`NOBOOK`**: Slot expired without booking (Inventory Loss).

## 2. Minimum Schema (Log Row)
Designed for RL State reconstruction.

| Field | Type | Description |
| :--- | :--- | :--- |
| `log_id` | UUID | |
| `timestamp` | ISO8601 | |
| `course_id` | String | |
| `segment_id` | String | |
| `slot_time` | ISO8601 | |
| `lead_time_hours` | Float | |
| `base_price` | Int | |
| `recommended_price`| Int | |
| `final_price` | Int | Action taken |
| `weather_score` | Float | 0.0 (Bad) - 1.0 (Good) |
| `occupancy_rate` | Float | At time of log |
| `booking_flag` | Int | 0 or 1 |
| `revenue` | Int | 0 or final_price |
| `cancel_flag` | Int | 0 or 1 |
| `pricing_mode` | Enum | MANUAL/RECO/AUTO |

## 3. Data Storage
- **Hot:** Real-time stream (Kafka) for Dashboard.
- **Cold:** Parquet files (S3) for Offline RL Training.
````

### File: `docs/specs/pricing-engine-v0.9/override.md`

``````md
# TUGOL Override & Acceptance Spec (v0.9)

## 1. Override Structure
Capturing the difference between Machine Intelligence and Human Intuition.

```jsonc
{
  "request_id": "REQ-001",
  "timestamp": "...",
  "segment": "WEEKDAY_VALUE",
  "recommended_price": 138000,
  "final_price": 145000,
  "override_amount": 7000,
  "override_rate": 0.0507 // +5.07%
}
```

## 2. Derived Metrics
- **Deviation:** `final_price - recommended_price`
- **Deviation Rate:** `Deviation / recommended_price`
- **Bias:** Moving average of Deviation Rate over time.

## 3. Acceptance Logic
- **Accepted:** If `|Deviation Rate| <= 0.02` (Within 2% tolerance).
- **Modified:** If `|Deviation Rate| > 0.02`.
- **Ignored:** If Host switches to MANUAL and sets arbitrary price.

## 4. Acceptance Score
A score (0.0 - 1.0) calculated per Segment per Course.
- Used to qualify for `AUTO` mode transition.
- **Formula:** `(Count of Accepted) / (Total Reco Events)` (Last 30 days).

## 5. Feedback Loop
- **Positive Bias:** If Host consistently sets price +5% higher, Engine learns to add +5% bias to future recommendations.
- **Negative Bias:** If Host discounts more aggressively, Engine adapts elasticity curve.
``````

### File: `docs/specs/pricing-engine-v0.9/pricing-engine.md`

````md
# TUGOL Pricing Engine Spec v0.9 (Overview)

> **Version:** v0.9 (Validation-Ready)
> **Status:** Spec Freeze
> **Target:** Small Validation Cohort (2~4 sites)

## 0. Overview
- **System:** TUGOL Pricing Engine
- **Purpose:** To provide data-driven dynamic pricing for golf tee-times, evolving from a rule-based advisor to an autonomous market coordination AI.
- **Core Mission:** Balance **Revenue Maximization** (Host) with **Booking Experience** (User) through a **Dual Engine Architecture**.

## 1. Domain & Problem
- **Inventory:** 18-hole Perishable Slots (Time + Space).
- **Stakeholders:**
  - **Host (Supply):** Golf Course, HQ/Chain. Needs revenue & control.
  - **User (Demand):** Golfer. Needs fair price & availability.
  - **Platform:** TUGOL. Needs liquidity & transaction volume.
- **Problem:** Traditional pricing is static, manual, and gut-feeling based. It fails to capture real-time demand elasticity.

## 2. Pricing Modes (The "Control" Spectrum)
| Mode | Description | Role | Usage |
| :--- | :--- | :--- | :--- |
| **MANUAL** | Host sets price manually. | Engine as Observer | High-risk days, Special events, Override. |
| **RECO** | Engine suggests, Host decides. | Engine as Advisor | Default mode for Validation. Training ground for Acceptance. |
| **AUTO** | Engine sets price automatically. | Engine as Agent | `LAST_MINUTE`, `TWILIGHT` (Opt-in). Pilot target. |

## 3. Mode Transition Strategy
- **Initial State:** `RECO` is default for all segments.
- **Transition:** `RECO` â†’ `AUTO` is triggered per segment based on **Acceptance Stability**.
- **Constraint:** Sensitive segments like `WEEKEND_PRIME` may remain `RECO` or `MANUAL` permanently based on Host Policy.

## 4. Market Model (Dual Engine)
- **Booking-driven Pricing:** Booking Engine provides demand signals (velocity, search volume) to train the Pricing Engine.
- **Pricing-driven Booking:** Pricing Engine provides optimal prices to boost conversion rates in the Booking Engine.

## 5. Input Features (Summary)
- **Time:** Season, Weekday/Weekend, Slot (Morning/Day/Twilight), Lead-time.
- **Environment:** Weather (Temp, Rain, Wind, PM10).
- **Demand:** Booking Velocity, Search Volume, Conversion Rate, Cancel Rate.
- **Price:** Base Price, Historical Discount, Competitor Price (v1.0).
- **Policy:** Host Config, Chain Policy, Override History.

## 6. Validation & Pilot Plan
- **Validation (v0.9):** 
  - 2~4 Sites.
  - 8~12 Weeks.
  - Focus: Data Collection (Elasticity, Acceptance) & Trust Building.
- **Pilot (v1.0):**
  - Expansion to Chain.
  - Focus: `AUTO` adoption & Revenue Uplift validation.

## 7. RL Transition Roadmap
- **Step 1:** Rule-based Baseline (Current).
- **Step 2:** Contextual Bandit (Validation/Pilot).
- **Step 3:** Partial RL (SaaS/Chain).
- **Step 4:** Full Market Coordination Agent (Endgame).
````

### File: `docs/specs/pricing-engine-v0.9/reward.md`

```md
# TUGOL Reward Spec (v0.9)

## 1. Purpose
Defines the Objective Function ($R$) for optimization.

## 2. Reward Function
$$ R = w_1 \cdot R_{Rev} + w_2 \cdot R_{Occ} + w_3 \cdot R_{Vel} + w_4 \cdot R_{Acc} - P_{Cancel} $$

| Component | Description | Weight (Proxy) |
| :--- | :--- | :--- |
| **$R_{Rev}$** | Revenue (Final Price) | High (Primary) |
| **$R_{Occ}$** | Occupancy (Binary: Booked=1) | Medium |
| **$R_{Vel}$** | Booking Velocity (Speed) | Low |
| **$R_{Acc}$** | Host Acceptance (RECO mode) | High (Trust) |
| **$P_{Cancel}$**| Cancellation Penalty | Negative |

## 3. Mode-Specific Weights

### RECO Mode (Trust Building)
- Focus on **Acceptance**.
- $R \approx 0.7 \cdot R_{Acc} + 0.3 \cdot R_{Rev}$

### AUTO Mode (Revenue Gen)
- Focus on **Revenue & Occupancy**.
- $R \approx 0.6 \cdot R_{Rev} + 0.3 \cdot R_{Occ} + 0.1 \cdot R_{Vel}$

## 4. Constraints (Penalty)
- **Governance Violation:** Reward = -Infinity.
- **High Volatility:** Penalty for changing price too frequently.
```

### File: `docs/specs/pricing-engine-v0.9/state.md`

``````md
# TUGOL State Spec (v0.9)

## 1. Purpose
Defines the State Vector ($S_t$) for Bandit/RL models.

## 2. State Components
The context used to decide the Action (Price).

```text
S = {
  // Time Context
  "lead_time_bucket": Categorical (0-1d, 2-3d, 4-7d, >7d),
  "time_of_day": Categorical (Morning, Day, Twilight),
  "day_of_week": Categorical (Mon-Sun),
  "is_weekend": Binary,
  "season": Categorical (Spring, Summer, Fall, Winter),

  // Segment Context
  "segment_id": Categorical (WEEKDAY_VALUE, etc.),

  // Supply Context
  "inventory_remaining": Integer,
  "occupancy_rate": Float (0.0-1.0),
  
  // Demand Context
  "booking_velocity_24h": Float,
  "search_volume_index": Float,

  // Environment Context
  "weather_bucket": Categorical (Good, Fair, Bad),
  "temp_bucket": Categorical (Cold, Mild, Hot),

  // Operational Context
  "current_acceptance_prob": Float (Estimated)
}
```

## 3. Feature Engineering
- **Bucketing:** Continuous variables (Lead time, Temp) are bucketed to reduce state space for Bandit.
- **Normalization:** Numerical values normalized to [0, 1] range.
``````

### File: `docs/specs/pricing-engine-v0.9/versioning.md`

````md
# TUGOL Versioning Spec (v0.9)

## 1. Version Roadmap

| Version | Phase | Goal | Key Features |
| :--- | :--- | :--- | :--- |
| **v0.9** | **Validation** | Data & Trust | RECO Mode, Basic Rules, Data Logging, Dashboard. |
| **v1.0** | **Pilot** | Automation | AUTO Mode (Opt-in), Contextual Bandit, Chain Config. |
| **v2.0** | **SaaS/Scale** | Expansion | Multi-Chain Transfer, Global Policy, API Gateway. |
| **v3.0** | **RL Core** | Optimization | Full Offline RL, Simulator, LTV Optimization. |
| **v4.0** | **Market Infra** | Coordination | Supply/Demand Balancing, Network Effects. |

## 2. Current Status (v0.9)
- **Focus:** Building the Data Pipeline and gaining Host Trust via RECO.
- **Limitations:** No active Bandit exploration. AUTO mode is disabled or simulated only.
- **Target:** 2~4 Validation Sites.

## 3. Migration Strategy
- **v0.9 â†’ v1.0:**
  - Enable `feature_flags.auto_pricing`.
  - Deploy `Bandit Model` trained on v0.9 logs.
  - Expand Config to support Chain-level policies.
````

### File: `eslint.config.mjs`

```js
import { defineConfig, globalIgnores } from "eslint/config";
import nextVitals from "eslint-config-next/core-web-vitals";
import nextTs from "eslint-config-next/typescript";

const eslintConfig = defineConfig([
  ...nextVitals,
  ...nextTs,
  // Override default ignores of eslint-config-next.
  globalIgnores([
    // Default ignores of eslint-config-next:
    ".next/**",
    "out/**",
    "build/**",
    "next-env.d.ts",
  ]),
]);

export default eslintConfig;
```

### File: `lib/supabase.ts`

````ts
// ==================================================================
// Supabase Client Configuration
// ==================================================================

import { createClient } from '@supabase/supabase-js';
import type { Database } from '@/types/database';

// Environment variables validation
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;

if (!supabaseUrl || !supabaseAnonKey) {
  throw new Error(
    'Missing Supabase environment variables. Please check your .env.local file.\n' +
    'Required: NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY'
  );
}

// Create Supabase client with TypeScript type safety
export const supabase = createClient<Database>(supabaseUrl, supabaseAnonKey, {
  auth: {
    persistSession: true,
    autoRefreshToken: true,
  },
});

// Helper function to check connection
export async function testConnection() {
  try {
    const { data, error } = await supabase.from('tee_times').select('count').single();
    if (error) throw error;
    return { success: true, message: 'Supabase connection successful' };
  } catch (error) {
    return { success: false, message: `Connection failed: ${error}` };
  }
}
````

### File: `next-env.d.ts`

```ts
/// <reference types="next" />
/// <reference types="next/image-types/global" />
import "./.next/types/routes.d.ts";

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.
```

### File: `next.config.ts`

```ts
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  // Re-enable strict mode (it's not the issue)
  reactStrictMode: true, 
};

export default nextConfig;
```

### File: `package-lock.json`

```json
{
  "name": "tugol-app",
  "version": "0.1.0",
  "lockfileVersion": 3,
  "requires": true,
  "packages": {
    "": {
      "name": "tugol-app",
      "version": "0.1.0",
      "dependencies": {
        "@supabase/ssr": "^0.8.0",
        "@supabase/supabase-js": "^2.90.1",
        "@tosspayments/payment-widget-sdk": "^0.12.1",
        "clsx": "^2.1.1",
        "date-fns": "^4.1.0",
        "dotenv": "^17.2.3",
        "lucide-react": "^0.562.0",
        "next": "16.1.1",
        "react": "19.2.3",
        "react-dom": "19.2.3",
        "tailwind-merge": "^3.4.0"
      },
      "devDependencies": {
        "@tailwindcss/postcss": "^4",
        "@types/node": "^20",
        "@types/react": "^19",
        "@types/react-dom": "^19",
        "eslint": "^9",
        "eslint-config-next": "16.1.1",
        "tailwindcss": "^4",
        "typescript": "^5"
      }
    },
    "node_modules/@alloc/quick-lru": {
      "version": "5.2.0",
      "resolved": "https://registry.npmjs.org/@alloc/quick-lru/-/quick-lru-5.2.0.tgz",
      "integrity": "sha512-UrcABB+4bUrFABwbluTIBErXwvbsU/V7TZWfmbgJfbkwiBuziS9gxdODUyuiecfdGQ85jglMW6juS3+z5TsKLw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/@babel/code-frame": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.27.1.tgz",
      "integrity": "sha512-cjQ7ZlQ0Mv3b47hABuTevyTuYN4i+loJKGeV9flcCgIK37cCXRh+L1bd3iBHlynerhQ7BhCkn2BPbQUL+rGqFg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-validator-identifier": "^7.27.1",
        "js-tokens": "^4.0.0",
        "picocolors": "^1.1.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/compat-data": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/compat-data/-/compat-data-7.28.5.tgz",
      "integrity": "sha512-6uFXyCayocRbqhZOB+6XcuZbkMNimwfVGFji8CTZnCzOHVGvDqzvitu1re2AU5LROliz7eQPhB8CpAMvnx9EjA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/core": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/core/-/core-7.28.5.tgz",
      "integrity": "sha512-e7jT4DxYvIDLk1ZHmU/m/mB19rex9sv0c2ftBtjSBv+kVM/902eh0fINUzD7UwLLNR+jU585GxUJ8/EBfAM5fw==",
      "dev": true,
      "license": "MIT",
      "peer": true,
      "dependencies": {
        "@babel/code-frame": "^7.27.1",
        "@babel/generator": "^7.28.5",
        "@babel/helper-compilation-targets": "^7.27.2",
        "@babel/helper-module-transforms": "^7.28.3",
        "@babel/helpers": "^7.28.4",
        "@babel/parser": "^7.28.5",
        "@babel/template": "^7.27.2",
        "@babel/traverse": "^7.28.5",
        "@babel/types": "^7.28.5",
        "@jridgewell/remapping": "^2.3.5",
        "convert-source-map": "^2.0.0",
        "debug": "^4.1.0",
        "gensync": "^1.0.0-beta.2",
        "json5": "^2.2.3",
        "semver": "^6.3.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/babel"
      }
    },
    "node_modules/@babel/generator": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/generator/-/generator-7.28.5.tgz",
      "integrity": "sha512-3EwLFhZ38J4VyIP6WNtt2kUdW9dokXA9Cr4IVIFHuCpZ3H8/YFOl5JjZHisrn1fATPBmKKqXzDFvh9fUwHz6CQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/parser": "^7.28.5",
        "@babel/types": "^7.28.5",
        "@jridgewell/gen-mapping": "^0.3.12",
        "@jridgewell/trace-mapping": "^0.3.28",
        "jsesc": "^3.0.2"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-compilation-targets": {
      "version": "7.27.2",
      "resolved": "https://registry.npmjs.org/@babel/helper-compilation-targets/-/helper-compilation-targets-7.27.2.tgz",
      "integrity": "sha512-2+1thGUUWWjLTYTHZWK1n8Yga0ijBz1XAhUXcKy81rd5g6yh7hGqMp45v7cadSbEHc9G3OTv45SyneRN3ps4DQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/compat-data": "^7.27.2",
        "@babel/helper-validator-option": "^7.27.1",
        "browserslist": "^4.24.0",
        "lru-cache": "^5.1.1",
        "semver": "^6.3.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-globals": {
      "version": "7.28.0",
      "resolved": "https://registry.npmjs.org/@babel/helper-globals/-/helper-globals-7.28.0.tgz",
      "integrity": "sha512-+W6cISkXFa1jXsDEdYA8HeevQT/FULhxzR99pxphltZcVaugps53THCeiWA8SguxxpSp3gKPiuYfSWopkLQ4hw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-module-imports": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-module-imports/-/helper-module-imports-7.27.1.tgz",
      "integrity": "sha512-0gSFWUPNXNopqtIPQvlD5WgXYI5GY2kP2cCvoT8kczjbfcfuIljTbcWrulD1CIPIX2gt1wghbDy08yE1p+/r3w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/traverse": "^7.27.1",
        "@babel/types": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-module-transforms": {
      "version": "7.28.3",
      "resolved": "https://registry.npmjs.org/@babel/helper-module-transforms/-/helper-module-transforms-7.28.3.tgz",
      "integrity": "sha512-gytXUbs8k2sXS9PnQptz5o0QnpLL51SwASIORY6XaBKF88nsOT0Zw9szLqlSGQDP/4TljBAD5y98p2U1fqkdsw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-module-imports": "^7.27.1",
        "@babel/helper-validator-identifier": "^7.27.1",
        "@babel/traverse": "^7.28.3"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0"
      }
    },
    "node_modules/@babel/helper-string-parser": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-string-parser/-/helper-string-parser-7.27.1.tgz",
      "integrity": "sha512-qMlSxKbpRlAridDExk92nSobyDdpPijUq2DW6oDnUqd0iOGxmQjyqhMIihI9+zv4LPyZdRje2cavWPbCbWm3eA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-validator-identifier": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/helper-validator-identifier/-/helper-validator-identifier-7.28.5.tgz",
      "integrity": "sha512-qSs4ifwzKJSV39ucNjsvc6WVHs6b7S03sOh2OcHF9UHfVPqWWALUsNUVzhSBiItjRZoLHx7nIarVjqKVusUZ1Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-validator-option": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-validator-option/-/helper-validator-option-7.27.1.tgz",
      "integrity": "sha512-YvjJow9FxbhFFKDSuFnVCe2WxXk1zWc22fFePVNEaWJEu8IrZVlda6N0uHwzZrUM1il7NC9Mlp4MaJYbYd9JSg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helpers": {
      "version": "7.28.4",
      "resolved": "https://registry.npmjs.org/@babel/helpers/-/helpers-7.28.4.tgz",
      "integrity": "sha512-HFN59MmQXGHVyYadKLVumYsA9dBFun/ldYxipEjzA4196jpLZd8UjEEBLkbEkvfYreDqJhZxYAWFPtrfhNpj4w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/template": "^7.27.2",
        "@babel/types": "^7.28.4"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/parser": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/parser/-/parser-7.28.5.tgz",
      "integrity": "sha512-KKBU1VGYR7ORr3At5HAtUQ+TV3SzRCXmA/8OdDZiLDBIZxVyzXuztPjfLd3BV1PRAQGCMWWSHYhL0F8d5uHBDQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/types": "^7.28.5"
      },
      "bin": {
        "parser": "bin/babel-parser.js"
      },
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@babel/template": {
      "version": "7.27.2",
      "resolved": "https://registry.npmjs.org/@babel/template/-/template-7.27.2.tgz",
      "integrity": "sha512-LPDZ85aEJyYSd18/DkjNh4/y1ntkE5KwUHWTiqgRxruuZL2F1yuHligVHLvcHY2vMHXttKFpJn6LwfI7cw7ODw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/code-frame": "^7.27.1",
        "@babel/parser": "^7.27.2",
        "@babel/types": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/traverse": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/traverse/-/traverse-7.28.5.tgz",
      "integrity": "sha512-TCCj4t55U90khlYkVV/0TfkJkAkUg3jZFA3Neb7unZT8CPok7iiRfaX0F+WnqWqt7OxhOn0uBKXCw4lbL8W0aQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/code-frame": "^7.27.1",
        "@babel/generator": "^7.28.5",
        "@babel/helper-globals": "^7.28.0",
        "@babel/parser": "^7.28.5",
        "@babel/template": "^7.27.2",
        "@babel/types": "^7.28.5",
        "debug": "^4.3.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/types": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/types/-/types-7.28.5.tgz",
      "integrity": "sha512-qQ5m48eI/MFLQ5PxQj4PFaprjyCTLI37ElWMmNs0K8Lk3dVeOdNpB3ks8jc7yM5CDmVC73eMVk/trk3fgmrUpA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-string-parser": "^7.27.1",
        "@babel/helper-validator-identifier": "^7.28.5"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@emnapi/core": {
      "version": "1.8.1",
      "resolved": "https://registry.npmjs.org/@emnapi/core/-/core-1.8.1.tgz",
      "integrity": "sha512-AvT9QFpxK0Zd8J0jopedNm+w/2fIzvtPKPjqyw9jwvBaReTTqPBk9Hixaz7KbjimP+QNz605/XnjFcDAL2pqBg==",
      "dev": true,
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "@emnapi/wasi-threads": "1.1.0",
        "tslib": "^2.4.0"
      }
    },
    "node_modules/@emnapi/runtime": {
      "version": "1.8.1",
      "resolved": "https://registry.npmjs.org/@emnapi/runtime/-/runtime-1.8.1.tgz",
      "integrity": "sha512-mehfKSMWjjNol8659Z8KxEMrdSJDDot5SXMq00dM8BN4o+CLNXQ0xH2V7EchNHV4RmbZLmmPdEaXZc5H2FXmDg==",
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "tslib": "^2.4.0"
      }
    },
    "node_modules/@emnapi/wasi-threads": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/@emnapi/wasi-threads/-/wasi-threads-1.1.0.tgz",
      "integrity": "sha512-WI0DdZ8xFSbgMjR1sFsKABJ/C5OnRrjT06JXbZKexJGrDuPTzZdDYfFlsgcCXCyf+suG5QU2e/y1Wo2V/OapLQ==",
      "dev": true,
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "tslib": "^2.4.0"
      }
    },
    "node_modules/@eslint-community/eslint-utils": {
      "version": "4.9.1",
      "resolved": "https://registry.npmjs.org/@eslint-community/eslint-utils/-/eslint-utils-4.9.1.tgz",
      "integrity": "sha512-phrYmNiYppR7znFEdqgfWHXR6NCkZEK7hwWDHZUjit/2/U0r6XvkDl0SYnoM51Hq7FhCGdLDT6zxCCOY1hexsQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "eslint-visitor-keys": "^3.4.3"
      },
      "engines": {
        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      },
      "peerDependencies": {
        "eslint": "^6.0.0 || ^7.0.0 || >=8.0.0"
      }
    },
    "node_modules/@eslint-community/eslint-utils/node_modules/eslint-visitor-keys": {
      "version": "3.4.3",
      "resolved": "https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-3.4.3.tgz",
      "integrity": "sha512-wpc+LXeiyiisxPlEkUzU6svyS1frIO3Mgxj1fdy7Pm8Ygzguax2N3Fa/D/ag1WqbOprdI+uY6wMUl8/a2G+iag==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/@eslint-community/regexpp": {
      "version": "4.12.2",
      "resolved": "https://registry.npmjs.org/@eslint-community/regexpp/-/regexpp-4.12.2.tgz",
      "integrity": "sha512-EriSTlt5OC9/7SXkRSCAhfSxxoSUgBm33OH+IkwbdpgoqsSsUg7y3uh+IICI/Qg4BBWr3U2i39RpmycbxMq4ew==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "^12.0.0 || ^14.0.0 || >=16.0.0"
      }
    },
    "node_modules/@eslint/config-array": {
      "version": "0.21.1",
      "resolved": "https://registry.npmjs.org/@eslint/config-array/-/config-array-0.21.1.tgz",
      "integrity": "sha512-aw1gNayWpdI/jSYVgzN5pL0cfzU02GT3NBpeT/DXbx1/1x7ZKxFPd9bwrzygx/qiwIQiJ1sw/zD8qY/kRvlGHA==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@eslint/object-schema": "^2.1.7",
        "debug": "^4.3.1",
        "minimatch": "^3.1.2"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/config-helpers": {
      "version": "0.4.2",
      "resolved": "https://registry.npmjs.org/@eslint/config-helpers/-/config-helpers-0.4.2.tgz",
      "integrity": "sha512-gBrxN88gOIf3R7ja5K9slwNayVcZgK6SOUORm2uBzTeIEfeVaIhOpCtTox3P6R7o2jLFwLFTLnC7kU/RGcYEgw==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@eslint/core": "^0.17.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/core": {
      "version": "0.17.0",
      "resolved": "https://registry.npmjs.org/@eslint/core/-/core-0.17.0.tgz",
      "integrity": "sha512-yL/sLrpmtDaFEiUj1osRP4TI2MDz1AddJL+jZ7KSqvBuliN4xqYY54IfdN8qD8Toa6g1iloph1fxQNkjOxrrpQ==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@types/json-schema": "^7.0.15"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/eslintrc": {
      "version": "3.3.3",
      "resolved": "https://registry.npmjs.org/@eslint/eslintrc/-/eslintrc-3.3.3.tgz",
      "integrity": "sha512-Kr+LPIUVKz2qkx1HAMH8q1q6azbqBAsXJUxBl/ODDuVPX45Z9DfwB8tPjTi6nNZ8BuM3nbJxC5zCAg5elnBUTQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ajv": "^6.12.4",
        "debug": "^4.3.2",
        "espree": "^10.0.1",
        "globals": "^14.0.0",
        "ignore": "^5.2.0",
        "import-fresh": "^3.2.1",
        "js-yaml": "^4.1.1",
        "minimatch": "^3.1.2",
        "strip-json-comments": "^3.1.1"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/@eslint/js": {
      "version": "9.39.2",
      "resolved": "https://registry.npmjs.org/@eslint/js/-/js-9.39.2.tgz",
      "integrity": "sha512-q1mjIoW1VX4IvSocvM/vbTiveKC4k9eLrajNEuSsmjymSDEbpGddtpfOoN7YGAqBK3NG+uqo8ia4PDTt8buCYA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://eslint.org/donate"
      }
    },
    "node_modules/@eslint/object-schema": {
      "version": "2.1.7",
      "resolved": "https://registry.npmjs.org/@eslint/object-schema/-/object-schema-2.1.7.tgz",
      "integrity": "sha512-VtAOaymWVfZcmZbp6E2mympDIHvyjXs/12LqWYjVw6qjrfF+VK+fyG33kChz3nnK+SU5/NeHOqrTEHS8sXO3OA==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/plugin-kit": {
      "version": "0.4.1",
      "resolved": "https://registry.npmjs.org/@eslint/plugin-kit/-/plugin-kit-0.4.1.tgz",
      "integrity": "sha512-43/qtrDUokr7LJqoF2c3+RInu/t4zfrpYdoSDfYyhg52rwLV6TnOvdG4fXm7IkSB3wErkcmJS9iEhjVtOSEjjA==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@eslint/core": "^0.17.0",
        "levn": "^0.4.1"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@humanfs/core": {
      "version": "0.19.1",
      "resolved": "https://registry.npmjs.org/@humanfs/core/-/core-0.19.1.tgz",
      "integrity": "sha512-5DyQ4+1JEUzejeK1JGICcideyfUbGixgS9jNgex5nqkW+cY7WZhxBigmieN5Qnw9ZosSNVC9KQKyb+GUaGyKUA==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">=18.18.0"
      }
    },
    "node_modules/@humanfs/node": {
      "version": "0.16.7",
      "resolved": "https://registry.npmjs.org/@humanfs/node/-/node-0.16.7.tgz",
      "integrity": "sha512-/zUx+yOsIrG4Y43Eh2peDeKCxlRt/gET6aHfaKpuq267qXdYDFViVHfMaLyygZOnl0kGWxFIgsBy8QFuTLUXEQ==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@humanfs/core": "^0.19.1",
        "@humanwhocodes/retry": "^0.4.0"
      },
      "engines": {
        "node": ">=18.18.0"
      }
    },
    "node_modules/@humanwhocodes/module-importer": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/@humanwhocodes/module-importer/-/module-importer-1.0.1.tgz",
      "integrity": "sha512-bxveV4V8v5Yb4ncFTT3rPSgZBOpCkjfK0y4oVVVJwIuDVBRMDXrPyXRL988i5ap9m9bnyEEjWfm5WkBmtffLfA==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">=12.22"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/nzakas"
      }
    },
    "node_modules/@humanwhocodes/retry": {
      "version": "0.4.3",
      "resolved": "https://registry.npmjs.org/@humanwhocodes/retry/-/retry-0.4.3.tgz",
      "integrity": "sha512-bV0Tgo9K4hfPCek+aMAn81RppFKv2ySDQeMoSZuvTASywNTnVJCArCZE2FWqpvIatKu7VMRLWlR1EazvVhDyhQ==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">=18.18"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/nzakas"
      }
    },
    "node_modules/@img/colour": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/@img/colour/-/colour-1.0.0.tgz",
      "integrity": "sha512-A5P/LfWGFSl6nsckYtjw9da+19jB8hkJ6ACTGcDfEJ0aE+l2n2El7dsVM7UVHZQ9s2lmYMWlrS21YLy2IR1LUw==",
      "license": "MIT",
      "optional": true,
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@img/sharp-darwin-arm64": {
      "version": "0.34.5",
      "resolved": "https://registry.npmjs.org/@img/sharp-darwin-arm64/-/sharp-darwin-arm64-0.34.5.tgz",
      "integrity": "sha512-imtQ3WMJXbMY4fxb/Ndp6HBTNVtWCUI0WdobyheGf5+ad6xX8VIDO8u2xE4qc/fr08CKG/7dDseFtn6M6g/r3w==",
      "cpu": [
        "arm64"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-darwin-arm64": "1.2.4"
      }
    },
    "node_modules/@img/sharp-darwin-x64": {
      "version": "0.34.5",
      "resolved": "https://registry.npmjs.org/@img/sharp-darwin-x64/-/sharp-darwin-x64-0.34.5.tgz",
      "integrity": "sha512-YNEFAF/4KQ/PeW0N+r+aVVsoIY0/qxxikF2SWdp+NRkmMB7y9LBZAVqQ4yhGCm/H3H270OSykqmQMKLBhBJDEw==",
      "cpu": [
        "x64"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-darwin-x64": "1.2.4"
      }
    },
    "node_modules/@img/sharp-libvips-darwin-arm64": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-darwin-arm64/-/sharp-libvips-darwin-arm64-1.2.4.tgz",
      "integrity": "sha512-zqjjo7RatFfFoP0MkQ51jfuFZBnVE2pRiaydKJ1G/rHZvnsrHAOcQALIi9sA5co5xenQdTugCvtb1cuf78Vf4g==",
      "cpu": [
        "arm64"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "darwin"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-darwin-x64": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-darwin-x64/-/sharp-libvips-darwin-x64-1.2.4.tgz",
      "integrity": "sha512-1IOd5xfVhlGwX+zXv2N93k0yMONvUlANylbJw1eTah8K/Jtpi15KC+WSiaX/nBmbm2HxRM1gZ0nSdjSsrZbGKg==",
      "cpu": [
        "x64"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "darwin"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-arm": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-arm/-/sharp-libvips-linux-arm-1.2.4.tgz",
      "integrity": "sha512-bFI7xcKFELdiNCVov8e44Ia4u2byA+l3XtsAj+Q8tfCwO6BQ8iDojYdvoPMqsKDkuoOo+X6HZA0s0q11ANMQ8A==",
      "cpu": [
        "arm"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-arm64": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-arm64/-/sharp-libvips-linux-arm64-1.2.4.tgz",
      "integrity": "sha512-excjX8DfsIcJ10x1Kzr4RcWe1edC9PquDRRPx3YVCvQv+U5p7Yin2s32ftzikXojb1PIFc/9Mt28/y+iRklkrw==",
      "cpu": [
        "arm64"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-ppc64": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-ppc64/-/sharp-libvips-linux-ppc64-1.2.4.tgz",
      "integrity": "sha512-FMuvGijLDYG6lW+b/UvyilUWu5Ayu+3r2d1S8notiGCIyYU/76eig1UfMmkZ7vwgOrzKzlQbFSuQfgm7GYUPpA==",
      "cpu": [
        "ppc64"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-riscv64": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-riscv64/-/sharp-libvips-linux-riscv64-1.2.4.tgz",
      "integrity": "sha512-oVDbcR4zUC0ce82teubSm+x6ETixtKZBh/qbREIOcI3cULzDyb18Sr/Wcyx7NRQeQzOiHTNbZFF1UwPS2scyGA==",
      "cpu": [
        "riscv64"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-s390x": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-s390x/-/sharp-libvips-linux-s390x-1.2.4.tgz",
      "integrity": "sha512-qmp9VrzgPgMoGZyPvrQHqk02uyjA0/QrTO26Tqk6l4ZV0MPWIW6LTkqOIov+J1yEu7MbFQaDpwdwJKhbJvuRxQ==",
      "cpu": [
        "s390x"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-x64": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-x64/-/sharp-libvips-linux-x64-1.2.4.tgz",
      "integrity": "sha512-tJxiiLsmHc9Ax1bz3oaOYBURTXGIRDODBqhveVHonrHJ9/+k89qbLl0bcJns+e4t4rvaNBxaEZsFtSfAdquPrw==",
      "cpu": [
        "x64"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linuxmusl-arm64": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linuxmusl-arm64/-/sharp-libvips-linuxmusl-arm64-1.2.4.tgz",
      "integrity": "sha512-FVQHuwx1IIuNow9QAbYUzJ+En8KcVm9Lk5+uGUQJHaZmMECZmOlix9HnH7n1TRkXMS0pGxIJokIVB9SuqZGGXw==",
      "cpu": [
        "arm64"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linuxmusl-x64": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linuxmusl-x64/-/sharp-libvips-linuxmusl-x64-1.2.4.tgz",
      "integrity": "sha512-+LpyBk7L44ZIXwz/VYfglaX/okxezESc6UxDSoyo2Ks6Jxc4Y7sGjpgU9s4PMgqgjj1gZCylTieNamqA1MF7Dg==",
      "cpu": [
        "x64"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-linux-arm": {
      "version": "0.34.5",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-arm/-/sharp-linux-arm-0.34.5.tgz",
      "integrity": "sha512-9dLqsvwtg1uuXBGZKsxem9595+ujv0sJ6Vi8wcTANSFpwV/GONat5eCkzQo/1O6zRIkh0m/8+5BjrRr7jDUSZw==",
      "cpu": [
        "arm"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-arm": "1.2.4"
      }
    },
    "node_modules/@img/sharp-linux-arm64": {
      "version": "0.34.5",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-arm64/-/sharp-linux-arm64-0.34.5.tgz",
      "integrity": "sha512-bKQzaJRY/bkPOXyKx5EVup7qkaojECG6NLYswgktOZjaXecSAeCWiZwwiFf3/Y+O1HrauiE3FVsGxFg8c24rZg==",
      "cpu": [
        "arm64"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-arm64": "1.2.4"
      }
    },
    "node_modules/@img/sharp-linux-ppc64": {
      "version": "0.34.5",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-ppc64/-/sharp-linux-ppc64-0.34.5.tgz",
      "integrity": "sha512-7zznwNaqW6YtsfrGGDA6BRkISKAAE1Jo0QdpNYXNMHu2+0dTrPflTLNkpc8l7MUP5M16ZJcUvysVWWrMefZquA==",
      "cpu": [
        "ppc64"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-ppc64": "1.2.4"
      }
    },
    "node_modules/@img/sharp-linux-riscv64": {
      "version": "0.34.5",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-riscv64/-/sharp-linux-riscv64-0.34.5.tgz",
      "integrity": "sha512-51gJuLPTKa7piYPaVs8GmByo7/U7/7TZOq+cnXJIHZKavIRHAP77e3N2HEl3dgiqdD/w0yUfiJnII77PuDDFdw==",
      "cpu": [
        "riscv64"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-riscv64": "1.2.4"
      }
    },
    "node_modules/@img/sharp-linux-s390x": {
      "version": "0.34.5",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-s390x/-/sharp-linux-s390x-0.34.5.tgz",
      "integrity": "sha512-nQtCk0PdKfho3eC5MrbQoigJ2gd1CgddUMkabUj+rBevs8tZ2cULOx46E7oyX+04WGfABgIwmMC0VqieTiR4jg==",
      "cpu": [
        "s390x"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-s390x": "1.2.4"
      }
    },
    "node_modules/@img/sharp-linux-x64": {
      "version": "0.34.5",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-x64/-/sharp-linux-x64-0.34.5.tgz",
      "integrity": "sha512-MEzd8HPKxVxVenwAa+JRPwEC7QFjoPWuS5NZnBt6B3pu7EG2Ge0id1oLHZpPJdn3OQK+BQDiw9zStiHBTJQQQQ==",
      "cpu": [
        "x64"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-x64": "1.2.4"
      }
    },
    "node_modules/@img/sharp-linuxmusl-arm64": {
      "version": "0.34.5",
      "resolved": "https://registry.npmjs.org/@img/sharp-linuxmusl-arm64/-/sharp-linuxmusl-arm64-0.34.5.tgz",
      "integrity": "sha512-fprJR6GtRsMt6Kyfq44IsChVZeGN97gTD331weR1ex1c1rypDEABN6Tm2xa1wE6lYb5DdEnk03NZPqA7Id21yg==",
      "cpu": [
        "arm64"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linuxmusl-arm64": "1.2.4"
      }
    },
    "node_modules/@img/sharp-linuxmusl-x64": {
      "version": "0.34.5",
      "resolved": "https://registry.npmjs.org/@img/sharp-linuxmusl-x64/-/sharp-linuxmusl-x64-0.34.5.tgz",
      "integrity": "sha512-Jg8wNT1MUzIvhBFxViqrEhWDGzqymo3sV7z7ZsaWbZNDLXRJZoRGrjulp60YYtV4wfY8VIKcWidjojlLcWrd8Q==",
      "cpu": [
        "x64"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linuxmusl-x64": "1.2.4"
      }
    },
    "node_modules/@img/sharp-wasm32": {
      "version": "0.34.5",
      "resolved": "https://registry.npmjs.org/@img/sharp-wasm32/-/sharp-wasm32-0.34.5.tgz",
      "integrity": "sha512-OdWTEiVkY2PHwqkbBI8frFxQQFekHaSSkUIJkwzclWZe64O1X4UlUjqqqLaPbUpMOQk6FBu/HtlGXNblIs0huw==",
      "cpu": [
        "wasm32"
      ],
      "license": "Apache-2.0 AND LGPL-3.0-or-later AND MIT",
      "optional": true,
      "dependencies": {
        "@emnapi/runtime": "^1.7.0"
      },
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-win32-arm64": {
      "version": "0.34.5",
      "resolved": "https://registry.npmjs.org/@img/sharp-win32-arm64/-/sharp-win32-arm64-0.34.5.tgz",
      "integrity": "sha512-WQ3AgWCWYSb2yt+IG8mnC6Jdk9Whs7O0gxphblsLvdhSpSTtmu69ZG1Gkb6NuvxsNACwiPV6cNSZNzt0KPsw7g==",
      "cpu": [
        "arm64"
      ],
      "license": "Apache-2.0 AND LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-win32-ia32": {
      "version": "0.34.5",
      "resolved": "https://registry.npmjs.org/@img/sharp-win32-ia32/-/sharp-win32-ia32-0.34.5.tgz",
      "integrity": "sha512-FV9m/7NmeCmSHDD5j4+4pNI8Cp3aW+JvLoXcTUo0IqyjSfAZJ8dIUmijx1qaJsIiU+Hosw6xM5KijAWRJCSgNg==",
      "cpu": [
        "ia32"
      ],
      "license": "Apache-2.0 AND LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-win32-x64": {
      "version": "0.34.5",
      "resolved": "https://registry.npmjs.org/@img/sharp-win32-x64/-/sharp-win32-x64-0.34.5.tgz",
      "integrity": "sha512-+29YMsqY2/9eFEiW93eqWnuLcWcufowXewwSNIT6UwZdUUCrM3oFjMWH/Z6/TMmb4hlFenmfAVbpWeup2jryCw==",
      "cpu": [
        "x64"
      ],
      "license": "Apache-2.0 AND LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@jridgewell/gen-mapping": {
      "version": "0.3.13",
      "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
      "integrity": "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/sourcemap-codec": "^1.5.0",
        "@jridgewell/trace-mapping": "^0.3.24"
      }
    },
    "node_modules/@jridgewell/remapping": {
      "version": "2.3.5",
      "resolved": "https://registry.npmjs.org/@jridgewell/remapping/-/remapping-2.3.5.tgz",
      "integrity": "sha512-LI9u/+laYG4Ds1TDKSJW2YPrIlcVYOwi2fUC6xB43lueCjgxV4lffOCZCtYFiH6TNOX+tQKXx97T4IKHbhyHEQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/gen-mapping": "^0.3.5",
        "@jridgewell/trace-mapping": "^0.3.24"
      }
    },
    "node_modules/@jridgewell/resolve-uri": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
      "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@jridgewell/sourcemap-codec": {
      "version": "1.5.5",
      "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.5.tgz",
      "integrity": "sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@jridgewell/trace-mapping": {
      "version": "0.3.31",
      "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.31.tgz",
      "integrity": "sha512-zzNR+SdQSDJzc8joaeP8QQoCQr8NuYx2dIIytl1QeBEZHJ9uW6hebsrYgbz8hJwUQao3TWCMtmfV8Nu1twOLAw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/resolve-uri": "^3.1.0",
        "@jridgewell/sourcemap-codec": "^1.4.14"
      }
    },
    "node_modules/@napi-rs/wasm-runtime": {
      "version": "0.2.12",
      "resolved": "https://registry.npmjs.org/@napi-rs/wasm-runtime/-/wasm-runtime-0.2.12.tgz",
      "integrity": "sha512-ZVWUcfwY4E/yPitQJl481FjFo3K22D6qF0DuFH6Y/nbnE11GY5uguDxZMGXPQ8WQ0128MXQD7TnfHyK4oWoIJQ==",
      "dev": true,
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "@emnapi/core": "^1.4.3",
        "@emnapi/runtime": "^1.4.3",
        "@tybys/wasm-util": "^0.10.0"
      }
    },
    "node_modules/@next/env": {
      "version": "16.1.1",
      "resolved": "https://registry.npmjs.org/@next/env/-/env-16.1.1.tgz",
      "integrity": "sha512-3oxyM97Sr2PqiVyMyrZUtrtM3jqqFxOQJVuKclDsgj/L728iZt/GyslkN4NwarledZATCenbk4Offjk1hQmaAA==",
      "license": "MIT"
    },
    "node_modules/@next/eslint-plugin-next": {
      "version": "16.1.1",
      "resolved": "https://registry.npmjs.org/@next/eslint-plugin-next/-/eslint-plugin-next-16.1.1.tgz",
      "integrity": "sha512-Ovb/6TuLKbE1UiPcg0p39Ke3puyTCIKN9hGbNItmpQsp+WX3qrjO3WaMVSi6JHr9X1NrmthqIguVHodMJbh/dw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "fast-glob": "3.3.1"
      }
    },
    "node_modules/@next/swc-darwin-arm64": {
      "version": "16.1.1",
      "resolved": "https://registry.npmjs.org/@next/swc-darwin-arm64/-/swc-darwin-arm64-16.1.1.tgz",
      "integrity": "sha512-JS3m42ifsVSJjSTzh27nW+Igfha3NdBOFScr9C80hHGrWx55pTrVL23RJbqir7k7/15SKlrLHhh/MQzqBBYrQA==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-darwin-x64": {
      "version": "16.1.1",
      "resolved": "https://registry.npmjs.org/@next/swc-darwin-x64/-/swc-darwin-x64-16.1.1.tgz",
      "integrity": "sha512-hbyKtrDGUkgkyQi1m1IyD3q4I/3m9ngr+V93z4oKHrPcmxwNL5iMWORvLSGAf2YujL+6HxgVvZuCYZfLfb4bGw==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-arm64-gnu": {
      "version": "16.1.1",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-arm64-gnu/-/swc-linux-arm64-gnu-16.1.1.tgz",
      "integrity": "sha512-/fvHet+EYckFvRLQ0jPHJCUI5/B56+2DpI1xDSvi80r/3Ez+Eaa2Yq4tJcRTaB1kqj/HrYKn8Yplm9bNoMJpwQ==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-arm64-musl": {
      "version": "16.1.1",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-arm64-musl/-/swc-linux-arm64-musl-16.1.1.tgz",
      "integrity": "sha512-MFHrgL4TXNQbBPzkKKur4Fb5ICEJa87HM7fczFs2+HWblM7mMLdco3dvyTI+QmLBU9xgns/EeeINSZD6Ar+oLg==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-x64-gnu": {
      "version": "16.1.1",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-x64-gnu/-/swc-linux-x64-gnu-16.1.1.tgz",
      "integrity": "sha512-20bYDfgOQAPUkkKBnyP9PTuHiJGM7HzNBbuqmD0jiFVZ0aOldz+VnJhbxzjcSabYsnNjMPsE0cyzEudpYxsrUQ==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-x64-musl": {
      "version": "16.1.1",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-x64-musl/-/swc-linux-x64-musl-16.1.1.tgz",
      "integrity": "sha512-9pRbK3M4asAHQRkwaXwu601oPZHghuSC8IXNENgbBSyImHv/zY4K5udBusgdHkvJ/Tcr96jJwQYOll0qU8+fPA==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-win32-arm64-msvc": {
      "version": "16.1.1",
      "resolved": "https://registry.npmjs.org/@next/swc-win32-arm64-msvc/-/swc-win32-arm64-msvc-16.1.1.tgz",
      "integrity": "sha512-bdfQkggaLgnmYrFkSQfsHfOhk/mCYmjnrbRCGgkMcoOBZ4n+TRRSLmT/CU5SATzlBJ9TpioUyBW/vWFXTqQRiA==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-win32-x64-msvc": {
      "version": "16.1.1",
      "resolved": "https://registry.npmjs.org/@next/swc-win32-x64-msvc/-/swc-win32-x64-msvc-16.1.1.tgz",
      "integrity": "sha512-Ncwbw2WJ57Al5OX0k4chM68DKhEPlrXBaSXDCi2kPi5f4d8b3ejr3RRJGfKBLrn2YJL5ezNS7w2TZLHSti8CMw==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@nodelib/fs.scandir": {
      "version": "2.1.5",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.scandir/-/fs.scandir-2.1.5.tgz",
      "integrity": "sha512-vq24Bq3ym5HEQm2NKCr3yXDwjc7vTsEThRDnkp2DK9p1uqLR+DHurm/NOTo0KG7HYHU7eppKZj3MyqYuMBf62g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@nodelib/fs.stat": "2.0.5",
        "run-parallel": "^1.1.9"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@nodelib/fs.stat": {
      "version": "2.0.5",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.stat/-/fs.stat-2.0.5.tgz",
      "integrity": "sha512-RkhPPp2zrqDAQA/2jNhnztcPAlv64XdhIp7a7454A5ovI7Bukxgt7MX7udwAu3zg1DcpPU0rz3VV1SeaqvY4+A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@nodelib/fs.walk": {
      "version": "1.2.8",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.walk/-/fs.walk-1.2.8.tgz",
      "integrity": "sha512-oGB+UxlgWcgQkgwo8GcEGwemoTFt3FIO9ababBmaGwXIoBKZ+GTy0pP185beGg7Llih/NSHSV2XAs1lnznocSg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@nodelib/fs.scandir": "2.1.5",
        "fastq": "^1.6.0"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@nolyfill/is-core-module": {
      "version": "1.0.39",
      "resolved": "https://registry.npmjs.org/@nolyfill/is-core-module/-/is-core-module-1.0.39.tgz",
      "integrity": "sha512-nn5ozdjYQpUCZlWGuxcJY/KpxkWQs4DcbMCmKojjyrYDEAGy4Ce19NN4v5MduafTwJlbKc99UA8YhSVqq9yPZA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12.4.0"
      }
    },
    "node_modules/@rtsao/scc": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/@rtsao/scc/-/scc-1.1.0.tgz",
      "integrity": "sha512-zt6OdqaDoOnJ1ZYsCYGt9YmWzDXl4vQdKTyJev62gFhRGKdx7mcT54V9KIjg+d2wi9EXsPvAPKe7i7WjfVWB8g==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@supabase/auth-js": {
      "version": "2.90.1",
      "resolved": "https://registry.npmjs.org/@supabase/auth-js/-/auth-js-2.90.1.tgz",
      "integrity": "sha512-vxb66dgo6h3yyPbR06735Ps+dK3hj0JwS8w9fdQPVZQmocSTlKUW5MfxSy99mN0XqCCuLMQ3jCEiIIUU23e9ng==",
      "license": "MIT",
      "dependencies": {
        "tslib": "2.8.1"
      },
      "engines": {
        "node": ">=20.0.0"
      }
    },
    "node_modules/@supabase/functions-js": {
      "version": "2.90.1",
      "resolved": "https://registry.npmjs.org/@supabase/functions-js/-/functions-js-2.90.1.tgz",
      "integrity": "sha512-x9mV9dF1Lam9qL3zlpP6mSM5C9iqMPtF5B/tU1Jj/F0ufX5mjDf9ghVBaErVxmrQJRL4+iMKWKY2GnODkpS8tw==",
      "license": "MIT",
      "dependencies": {
        "tslib": "2.8.1"
      },
      "engines": {
        "node": ">=20.0.0"
      }
    },
    "node_modules/@supabase/postgrest-js": {
      "version": "2.90.1",
      "resolved": "https://registry.npmjs.org/@supabase/postgrest-js/-/postgrest-js-2.90.1.tgz",
      "integrity": "sha512-jh6vqzaYzoFn3raaC0hcFt9h+Bt+uxNRBSdc7PfToQeRGk7PDPoweHsbdiPWREtDVTGKfu+PyPW9e2jbK+BCgQ==",
      "license": "MIT",
      "dependencies": {
        "tslib": "2.8.1"
      },
      "engines": {
        "node": ">=20.0.0"
      }
    },
    "node_modules/@supabase/realtime-js": {
      "version": "2.90.1",
      "resolved": "https://registry.npmjs.org/@supabase/realtime-js/-/realtime-js-2.90.1.tgz",
      "integrity": "sha512-PWbnEMkcQRuor8jhObp4+Snufkq8C6fBp+MchVp2qBPY1NXk/c3Iv3YyiFYVzo0Dzuw4nAlT4+ahuPggy4r32w==",
      "license": "MIT",
      "dependencies": {
        "@types/phoenix": "^1.6.6",
        "@types/ws": "^8.18.1",
        "tslib": "2.8.1",
        "ws": "^8.18.2"
      },
      "engines": {
        "node": ">=20.0.0"
      }
    },
    "node_modules/@supabase/ssr": {
      "version": "0.8.0",
      "resolved": "https://registry.npmjs.org/@supabase/ssr/-/ssr-0.8.0.tgz",
      "integrity": "sha512-/PKk8kNFSs8QvvJ2vOww1mF5/c5W8y42duYtXvkOSe+yZKRgTTZywYG2l41pjhNomqESZCpZtXuWmYjFRMV+dw==",
      "license": "MIT",
      "dependencies": {
        "cookie": "^1.0.2"
      },
      "peerDependencies": {
        "@supabase/supabase-js": "^2.76.1"
      }
    },
    "node_modules/@supabase/storage-js": {
      "version": "2.90.1",
      "resolved": "https://registry.npmjs.org/@supabase/storage-js/-/storage-js-2.90.1.tgz",
      "integrity": "sha512-GHY+Ps/K/RBfRj7kwx+iVf2HIdqOS43rM2iDOIDpapyUnGA9CCBFzFV/XvfzznGykd//z2dkGZhlZZprsVFqGg==",
      "license": "MIT",
      "dependencies": {
        "iceberg-js": "^0.8.1",
        "tslib": "2.8.1"
      },
      "engines": {
        "node": ">=20.0.0"
      }
    },
    "node_modules/@supabase/supabase-js": {
      "version": "2.90.1",
      "resolved": "https://registry.npmjs.org/@supabase/supabase-js/-/supabase-js-2.90.1.tgz",
      "integrity": "sha512-U8KaKGLUgTIFHtwEW1dgw1gK7XrdpvvYo7nzzqPx721GqPe8WZbAiLh/hmyKLGBYQ/mmQNr20vU9tWSDZpii3w==",
      "license": "MIT",
      "peer": true,
      "dependencies": {
        "@supabase/auth-js": "2.90.1",
        "@supabase/functions-js": "2.90.1",
        "@supabase/postgrest-js": "2.90.1",
        "@supabase/realtime-js": "2.90.1",
        "@supabase/storage-js": "2.90.1"
      },
      "engines": {
        "node": ">=20.0.0"
      }
    },
    "node_modules/@swc/helpers": {
      "version": "0.5.15",
      "resolved": "https://registry.npmjs.org/@swc/helpers/-/helpers-0.5.15.tgz",
      "integrity": "sha512-JQ5TuMi45Owi4/BIMAJBoSQoOJu12oOk/gADqlcUL9JEdHB8vyjUSsxqeNXnmXHjYKMi2WcYtezGEEhqUI/E2g==",
      "license": "Apache-2.0",
      "dependencies": {
        "tslib": "^2.8.0"
      }
    },
    "node_modules/@tailwindcss/node": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/node/-/node-4.1.18.tgz",
      "integrity": "sha512-DoR7U1P7iYhw16qJ49fgXUlry1t4CpXeErJHnQ44JgTSKMaZUdf17cfn5mHchfJ4KRBZRFA/Coo+MUF5+gOaCQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/remapping": "^2.3.4",
        "enhanced-resolve": "^5.18.3",
        "jiti": "^2.6.1",
        "lightningcss": "1.30.2",
        "magic-string": "^0.30.21",
        "source-map-js": "^1.2.1",
        "tailwindcss": "4.1.18"
      }
    },
    "node_modules/@tailwindcss/oxide": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide/-/oxide-4.1.18.tgz",
      "integrity": "sha512-EgCR5tTS5bUSKQgzeMClT6iCY3ToqE1y+ZB0AKldj809QXk1Y+3jB0upOYZrn9aGIzPtUsP7sX4QQ4XtjBB95A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 10"
      },
      "optionalDependencies": {
        "@tailwindcss/oxide-android-arm64": "4.1.18",
        "@tailwindcss/oxide-darwin-arm64": "4.1.18",
        "@tailwindcss/oxide-darwin-x64": "4.1.18",
        "@tailwindcss/oxide-freebsd-x64": "4.1.18",
        "@tailwindcss/oxide-linux-arm-gnueabihf": "4.1.18",
        "@tailwindcss/oxide-linux-arm64-gnu": "4.1.18",
        "@tailwindcss/oxide-linux-arm64-musl": "4.1.18",
        "@tailwindcss/oxide-linux-x64-gnu": "4.1.18",
        "@tailwindcss/oxide-linux-x64-musl": "4.1.18",
        "@tailwindcss/oxide-wasm32-wasi": "4.1.18",
        "@tailwindcss/oxide-win32-arm64-msvc": "4.1.18",
        "@tailwindcss/oxide-win32-x64-msvc": "4.1.18"
      }
    },
    "node_modules/@tailwindcss/oxide-android-arm64": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-android-arm64/-/oxide-android-arm64-4.1.18.tgz",
      "integrity": "sha512-dJHz7+Ugr9U/diKJA0W6N/6/cjI+ZTAoxPf9Iz9BFRF2GzEX8IvXxFIi/dZBloVJX/MZGvRuFA9rqwdiIEZQ0Q==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-darwin-arm64": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-darwin-arm64/-/oxide-darwin-arm64-4.1.18.tgz",
      "integrity": "sha512-Gc2q4Qhs660bhjyBSKgq6BYvwDz4G+BuyJ5H1xfhmDR3D8HnHCmT/BSkvSL0vQLy/nkMLY20PQ2OoYMO15Jd0A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-darwin-x64": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-darwin-x64/-/oxide-darwin-x64-4.1.18.tgz",
      "integrity": "sha512-FL5oxr2xQsFrc3X9o1fjHKBYBMD1QZNyc1Xzw/h5Qu4XnEBi3dZn96HcHm41c/euGV+GRiXFfh2hUCyKi/e+yw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-freebsd-x64": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-freebsd-x64/-/oxide-freebsd-x64-4.1.18.tgz",
      "integrity": "sha512-Fj+RHgu5bDodmV1dM9yAxlfJwkkWvLiRjbhuO2LEtwtlYlBgiAT4x/j5wQr1tC3SANAgD+0YcmWVrj8R9trVMA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-arm-gnueabihf": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-arm-gnueabihf/-/oxide-linux-arm-gnueabihf-4.1.18.tgz",
      "integrity": "sha512-Fp+Wzk/Ws4dZn+LV2Nqx3IilnhH51YZoRaYHQsVq3RQvEl+71VGKFpkfHrLM/Li+kt5c0DJe/bHXK1eHgDmdiA==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-arm64-gnu": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-arm64-gnu/-/oxide-linux-arm64-gnu-4.1.18.tgz",
      "integrity": "sha512-S0n3jboLysNbh55Vrt7pk9wgpyTTPD0fdQeh7wQfMqLPM/Hrxi+dVsLsPrycQjGKEQk85Kgbx+6+QnYNiHalnw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-arm64-musl": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-arm64-musl/-/oxide-linux-arm64-musl-4.1.18.tgz",
      "integrity": "sha512-1px92582HkPQlaaCkdRcio71p8bc8i/ap5807tPRDK/uw953cauQBT8c5tVGkOwrHMfc2Yh6UuxaH4vtTjGvHg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-x64-gnu": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-x64-gnu/-/oxide-linux-x64-gnu-4.1.18.tgz",
      "integrity": "sha512-v3gyT0ivkfBLoZGF9LyHmts0Isc8jHZyVcbzio6Wpzifg/+5ZJpDiRiUhDLkcr7f/r38SWNe7ucxmGW3j3Kb/g==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-x64-musl": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-x64-musl/-/oxide-linux-x64-musl-4.1.18.tgz",
      "integrity": "sha512-bhJ2y2OQNlcRwwgOAGMY0xTFStt4/wyU6pvI6LSuZpRgKQwxTec0/3Scu91O8ir7qCR3AuepQKLU/kX99FouqQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-wasm32-wasi": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-wasm32-wasi/-/oxide-wasm32-wasi-4.1.18.tgz",
      "integrity": "sha512-LffYTvPjODiP6PT16oNeUQJzNVyJl1cjIebq/rWWBF+3eDst5JGEFSc5cWxyRCJ0Mxl+KyIkqRxk1XPEs9x8TA==",
      "bundleDependencies": [
        "@napi-rs/wasm-runtime",
        "@emnapi/core",
        "@emnapi/runtime",
        "@tybys/wasm-util",
        "@emnapi/wasi-threads",
        "tslib"
      ],
      "cpu": [
        "wasm32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "@emnapi/core": "^1.7.1",
        "@emnapi/runtime": "^1.7.1",
        "@emnapi/wasi-threads": "^1.1.0",
        "@napi-rs/wasm-runtime": "^1.1.0",
        "@tybys/wasm-util": "^0.10.1",
        "tslib": "^2.4.0"
      },
      "engines": {
        "node": ">=14.0.0"
      }
    },
    "node_modules/@tailwindcss/oxide-win32-arm64-msvc": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-win32-arm64-msvc/-/oxide-win32-arm64-msvc-4.1.18.tgz",
      "integrity": "sha512-HjSA7mr9HmC8fu6bdsZvZ+dhjyGCLdotjVOgLA2vEqxEBZaQo9YTX4kwgEvPCpRh8o4uWc4J/wEoFzhEmjvPbA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-win32-x64-msvc": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-win32-x64-msvc/-/oxide-win32-x64-msvc-4.1.18.tgz",
      "integrity": "sha512-bJWbyYpUlqamC8dpR7pfjA0I7vdF6t5VpUGMWRkXVE3AXgIZjYUYAK7II1GNaxR8J1SSrSrppRar8G++JekE3Q==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/postcss": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/@tailwindcss/postcss/-/postcss-4.1.18.tgz",
      "integrity": "sha512-Ce0GFnzAOuPyfV5SxjXGn0CubwGcuDB0zcdaPuCSzAa/2vII24JTkH+I6jcbXLb1ctjZMZZI6OjDaLPJQL1S0g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@alloc/quick-lru": "^5.2.0",
        "@tailwindcss/node": "4.1.18",
        "@tailwindcss/oxide": "4.1.18",
        "postcss": "^8.4.41",
        "tailwindcss": "4.1.18"
      }
    },
    "node_modules/@tosspayments/payment__types": {
      "version": "1.69.1",
      "resolved": "https://registry.npmjs.org/@tosspayments/payment__types/-/payment__types-1.69.1.tgz",
      "integrity": "sha512-QX9WSPiIke9VPch1zA80VFBSu7yKNuv/UnKy1V9B+YkC6sPN+sBcq/sl2fhj5tadTvkuYXDv139iR5TFwU2ayw==",
      "license": "MIT",
      "dependencies": {
        "@tosspayments/sdk-constants": "^1.2.2"
      }
    },
    "node_modules/@tosspayments/payment-widget__types": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/@tosspayments/payment-widget__types/-/payment-widget__types-1.1.0.tgz",
      "integrity": "sha512-1yVQIDNwgjzpm/n8ppsAk3Q0IKha+vOTuRIP6INzL9AkzCsrVjhHr5/eT0fe+tjyekSRL902Uq0TuRyG2sjsWw==",
      "license": "MIT",
      "dependencies": {
        "@tosspayments/brandpay-types": "^0.2.6",
        "@tosspayments/payment__types": "^1.68.0",
        "@tosspayments/payment-widget-types": "^0.0.5"
      }
    },
    "node_modules/@tosspayments/payment-widget__types/node_modules/@tosspayments/brandpay-types": {
      "version": "0.2.6",
      "resolved": "https://registry.npmjs.org/@tosspayments/brandpay-types/-/brandpay-types-0.2.6.tgz",
      "integrity": "sha512-FY8aOm/2rqtXjYux9ZdNTL6GC5+VNIw8eOQ7TP01dS2uGWSzAtR6uuw9HVsgkmJtSyJgmo97tjmbio5oyeyFlg==",
      "license": "MIT",
      "peerDependencies": {
        "typescript": "^4.1.0"
      },
      "peerDependenciesMeta": {
        "typescript": {
          "optional": true
        }
      }
    },
    "node_modules/@tosspayments/payment-widget__types/node_modules/@tosspayments/payment-widget-types": {
      "version": "0.0.5",
      "resolved": "https://registry.npmjs.org/@tosspayments/payment-widget-types/-/payment-widget-types-0.0.5.tgz",
      "integrity": "sha512-Daaui9u7aRPzJhw4omJIUAbYBSmNAFNjWWkuUnX9uHxzE3gtjcJHIpGrjlzmCFm+j3ZH4rgyrgv4pkazVYH3OQ==",
      "license": "MIT",
      "peerDependencies": {
        "typescript": "^4.7.4"
      },
      "peerDependenciesMeta": {
        "typescript": {
          "optional": true
        }
      }
    },
    "node_modules/@tosspayments/payment-widget-sdk": {
      "version": "0.12.1",
      "resolved": "https://registry.npmjs.org/@tosspayments/payment-widget-sdk/-/payment-widget-sdk-0.12.1.tgz",
      "integrity": "sha512-h80Qa4IO4YxqC0ma6aM/MX1mWFOwQ6OaWXcqJzNFkne8reaOI90iF3gDvPH0pAM6H+GTx+S83JO7N5ltq2Qs/w==",
      "license": "MIT",
      "dependencies": {
        "@tosspayments/payment-widget__types": "1.1.0"
      }
    },
    "node_modules/@tosspayments/sdk-constants": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/@tosspayments/sdk-constants/-/sdk-constants-1.2.2.tgz",
      "integrity": "sha512-6WxRHaiycSfz8gY9R/+StdkX5bprHyJ/rf2ak+b8YgBorxUwns8Ev+oyViNBmsPoE77RusaVFNv1kuiJpSNoDA==",
      "license": "MIT"
    },
    "node_modules/@tybys/wasm-util": {
      "version": "0.10.1",
      "resolved": "https://registry.npmjs.org/@tybys/wasm-util/-/wasm-util-0.10.1.tgz",
      "integrity": "sha512-9tTaPJLSiejZKx+Bmog4uSubteqTvFrVrURwkmHixBo0G4seD0zUxp98E1DzUBJxLQ3NPwXrGKDiVjwx/DpPsg==",
      "dev": true,
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "tslib": "^2.4.0"
      }
    },
    "node_modules/@types/estree": {
      "version": "1.0.8",
      "resolved": "https://registry.npmjs.org/@types/estree/-/estree-1.0.8.tgz",
      "integrity": "sha512-dWHzHa2WqEXI/O1E9OjrocMTKJl2mSrEolh1Iomrv6U+JuNwaHXsXx9bLu5gG7BUWFIN0skIQJQ/L1rIex4X6w==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/json-schema": {
      "version": "7.0.15",
      "resolved": "https://registry.npmjs.org/@types/json-schema/-/json-schema-7.0.15.tgz",
      "integrity": "sha512-5+fP8P8MFNC+AyZCDxrB2pkZFPGzqQWUzpSeuuVLvm8VMcorNYavBqoFcxK8bQz4Qsbn4oUEEem4wDLfcysGHA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/json5": {
      "version": "0.0.29",
      "resolved": "https://registry.npmjs.org/@types/json5/-/json5-0.0.29.tgz",
      "integrity": "sha512-dRLjCWHYg4oaA77cxO64oO+7JwCwnIzkZPdrrC71jQmQtlhM556pwKo5bUzqvZndkVbeFLIIi+9TC40JNF5hNQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/node": {
      "version": "20.19.28",
      "resolved": "https://registry.npmjs.org/@types/node/-/node-20.19.28.tgz",
      "integrity": "sha512-VyKBr25BuFDzBFCK5sUM6ZXiWfqgCTwTAOK8qzGV/m9FCirXYDlmczJ+d5dXBAQALGCdRRdbteKYfJ84NGEusw==",
      "license": "MIT",
      "dependencies": {
        "undici-types": "~6.21.0"
      }
    },
    "node_modules/@types/phoenix": {
      "version": "1.6.7",
      "resolved": "https://registry.npmjs.org/@types/phoenix/-/phoenix-1.6.7.tgz",
      "integrity": "sha512-oN9ive//QSBkf19rfDv45M7eZPi0eEXylht2OLEXicu5b4KoQ1OzXIw+xDSGWxSxe1JmepRR/ZH283vsu518/Q==",
      "license": "MIT"
    },
    "node_modules/@types/react": {
      "version": "19.2.8",
      "resolved": "https://registry.npmjs.org/@types/react/-/react-19.2.8.tgz",
      "integrity": "sha512-3MbSL37jEchWZz2p2mjntRZtPt837ij10ApxKfgmXCTuHWagYg7iA5bqPw6C8BMPfwidlvfPI/fxOc42HLhcyg==",
      "dev": true,
      "license": "MIT",
      "peer": true,
      "dependencies": {
        "csstype": "^3.2.2"
      }
    },
    "node_modules/@types/react-dom": {
      "version": "19.2.3",
      "resolved": "https://registry.npmjs.org/@types/react-dom/-/react-dom-19.2.3.tgz",
      "integrity": "sha512-jp2L/eY6fn+KgVVQAOqYItbF0VY/YApe5Mz2F0aykSO8gx31bYCZyvSeYxCHKvzHG5eZjc+zyaS5BrBWya2+kQ==",
      "dev": true,
      "license": "MIT",
      "peerDependencies": {
        "@types/react": "^19.2.0"
      }
    },
    "node_modules/@types/ws": {
      "version": "8.18.1",
      "resolved": "https://registry.npmjs.org/@types/ws/-/ws-8.18.1.tgz",
      "integrity": "sha512-ThVF6DCVhA8kUGy+aazFQ4kXQ7E1Ty7A3ypFOe0IcJV8O/M511G99AW24irKrW56Wt44yG9+ij8FaqoBGkuBXg==",
      "license": "MIT",
      "dependencies": {
        "@types/node": "*"
      }
    },
    "node_modules/@typescript-eslint/eslint-plugin": {
      "version": "8.52.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/eslint-plugin/-/eslint-plugin-8.52.0.tgz",
      "integrity": "sha512-okqtOgqu2qmZJ5iN4TWlgfF171dZmx2FzdOv2K/ixL2LZWDStL8+JgQerI2sa8eAEfoydG9+0V96m7V+P8yE1Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@eslint-community/regexpp": "^4.12.2",
        "@typescript-eslint/scope-manager": "8.52.0",
        "@typescript-eslint/type-utils": "8.52.0",
        "@typescript-eslint/utils": "8.52.0",
        "@typescript-eslint/visitor-keys": "8.52.0",
        "ignore": "^7.0.5",
        "natural-compare": "^1.4.0",
        "ts-api-utils": "^2.4.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "@typescript-eslint/parser": "^8.52.0",
        "eslint": "^8.57.0 || ^9.0.0",
        "typescript": ">=4.8.4 <6.0.0"
      }
    },
    "node_modules/@typescript-eslint/eslint-plugin/node_modules/ignore": {
      "version": "7.0.5",
      "resolved": "https://registry.npmjs.org/ignore/-/ignore-7.0.5.tgz",
      "integrity": "sha512-Hs59xBNfUIunMFgWAbGX5cq6893IbWg4KnrjbYwX3tx0ztorVgTDA6B2sxf8ejHJ4wz8BqGUMYlnzNBer5NvGg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 4"
      }
    },
    "node_modules/@typescript-eslint/parser": {
      "version": "8.52.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/parser/-/parser-8.52.0.tgz",
      "integrity": "sha512-iIACsx8pxRnguSYhHiMn2PvhvfpopO9FXHyn1mG5txZIsAaB6F0KwbFnUQN3KCiG3Jcuad/Cao2FAs1Wp7vAyg==",
      "dev": true,
      "license": "MIT",
      "peer": true,
      "dependencies": {
        "@typescript-eslint/scope-manager": "8.52.0",
        "@typescript-eslint/types": "8.52.0",
        "@typescript-eslint/typescript-estree": "8.52.0",
        "@typescript-eslint/visitor-keys": "8.52.0",
        "debug": "^4.4.3"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "eslint": "^8.57.0 || ^9.0.0",
        "typescript": ">=4.8.4 <6.0.0"
      }
    },
    "node_modules/@typescript-eslint/project-service": {
      "version": "8.52.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/project-service/-/project-service-8.52.0.tgz",
      "integrity": "sha512-xD0MfdSdEmeFa3OmVqonHi+Cciab96ls1UhIF/qX/O/gPu5KXD0bY9lu33jj04fjzrXHcuvjBcBC+D3SNSadaw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@typescript-eslint/tsconfig-utils": "^8.52.0",
        "@typescript-eslint/types": "^8.52.0",
        "debug": "^4.4.3"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "typescript": ">=4.8.4 <6.0.0"
      }
    },
    "node_modules/@typescript-eslint/scope-manager": {
      "version": "8.52.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/scope-manager/-/scope-manager-8.52.0.tgz",
      "integrity": "sha512-ixxqmmCcc1Nf8S0mS0TkJ/3LKcC8mruYJPOU6Ia2F/zUUR4pApW7LzrpU3JmtePbRUTes9bEqRc1Gg4iyRnDzA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@typescript-eslint/types": "8.52.0",
        "@typescript-eslint/visitor-keys": "8.52.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      }
    },
    "node_modules/@typescript-eslint/tsconfig-utils": {
      "version": "8.52.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/tsconfig-utils/-/tsconfig-utils-8.52.0.tgz",
      "integrity": "sha512-jl+8fzr/SdzdxWJznq5nvoI7qn2tNYV/ZBAEcaFMVXf+K6jmXvAFrgo/+5rxgnL152f//pDEAYAhhBAZGrVfwg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "typescript": ">=4.8.4 <6.0.0"
      }
    },
    "node_modules/@typescript-eslint/type-utils": {
      "version": "8.52.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/type-utils/-/type-utils-8.52.0.tgz",
      "integrity": "sha512-JD3wKBRWglYRQkAtsyGz1AewDu3mTc7NtRjR/ceTyGoPqmdS5oCdx/oZMWD5Zuqmo6/MpsYs0wp6axNt88/2EQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@typescript-eslint/types": "8.52.0",
        "@typescript-eslint/typescript-estree": "8.52.0",
        "@typescript-eslint/utils": "8.52.0",
        "debug": "^4.4.3",
        "ts-api-utils": "^2.4.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "eslint": "^8.57.0 || ^9.0.0",
        "typescript": ">=4.8.4 <6.0.0"
      }
    },
    "node_modules/@typescript-eslint/types": {
      "version": "8.52.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/types/-/types-8.52.0.tgz",
      "integrity": "sha512-LWQV1V4q9V4cT4H5JCIx3481iIFxH1UkVk+ZkGGAV1ZGcjGI9IoFOfg3O6ywz8QqCDEp7Inlg6kovMofsNRaGg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      }
    },
    "node_modules/@typescript-eslint/typescript-estree": {
      "version": "8.52.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/typescript-estree/-/typescript-estree-8.52.0.tgz",
      "integrity": "sha512-XP3LClsCc0FsTK5/frGjolyADTh3QmsLp6nKd476xNI9CsSsLnmn4f0jrzNoAulmxlmNIpeXuHYeEQv61Q6qeQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@typescript-eslint/project-service": "8.52.0",
        "@typescript-eslint/tsconfig-utils": "8.52.0",
        "@typescript-eslint/types": "8.52.0",
        "@typescript-eslint/visitor-keys": "8.52.0",
        "debug": "^4.4.3",
        "minimatch": "^9.0.5",
        "semver": "^7.7.3",
        "tinyglobby": "^0.2.15",
        "ts-api-utils": "^2.4.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "typescript": ">=4.8.4 <6.0.0"
      }
    },
    "node_modules/@typescript-eslint/typescript-estree/node_modules/brace-expansion": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
      "integrity": "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "balanced-match": "^1.0.0"
      }
    },
    "node_modules/@typescript-eslint/typescript-estree/node_modules/minimatch": {
      "version": "9.0.5",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-9.0.5.tgz",
      "integrity": "sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "brace-expansion": "^2.0.1"
      },
      "engines": {
        "node": ">=16 || 14 >=14.17"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/@typescript-eslint/typescript-estree/node_modules/semver": {
      "version": "7.7.3",
      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.3.tgz",
      "integrity": "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==",
      "dev": true,
      "license": "ISC",
      "bin": {
        "semver": "bin/semver.js"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/@typescript-eslint/utils": {
      "version": "8.52.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/utils/-/utils-8.52.0.tgz",
      "integrity": "sha512-wYndVMWkweqHpEpwPhwqE2lnD2DxC6WVLupU/DOt/0/v+/+iQbbzO3jOHjmBMnhu0DgLULvOaU4h4pwHYi2oRQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@eslint-community/eslint-utils": "^4.9.1",
        "@typescript-eslint/scope-manager": "8.52.0",
        "@typescript-eslint/types": "8.52.0",
        "@typescript-eslint/typescript-estree": "8.52.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "eslint": "^8.57.0 || ^9.0.0",
        "typescript": ">=4.8.4 <6.0.0"
      }
    },
    "node_modules/@typescript-eslint/visitor-keys": {
      "version": "8.52.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/visitor-keys/-/visitor-keys-8.52.0.tgz",
      "integrity": "sha512-ink3/Zofus34nmBsPjow63FP5M7IGff0RKAgqR6+CFpdk22M7aLwC9gOcLGYqr7MczLPzZVERW9hRog3O4n1sQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@typescript-eslint/types": "8.52.0",
        "eslint-visitor-keys": "^4.2.1"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      }
    },
    "node_modules/@unrs/resolver-binding-android-arm-eabi": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-android-arm-eabi/-/resolver-binding-android-arm-eabi-1.11.1.tgz",
      "integrity": "sha512-ppLRUgHVaGRWUx0R0Ut06Mjo9gBaBkg3v/8AxusGLhsIotbBLuRk51rAzqLC8gq6NyyAojEXglNjzf6R948DNw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@unrs/resolver-binding-android-arm64": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-android-arm64/-/resolver-binding-android-arm64-1.11.1.tgz",
      "integrity": "sha512-lCxkVtb4wp1v+EoN+HjIG9cIIzPkX5OtM03pQYkG+U5O/wL53LC4QbIeazgiKqluGeVEeBlZahHalCaBvU1a2g==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@unrs/resolver-binding-darwin-arm64": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-darwin-arm64/-/resolver-binding-darwin-arm64-1.11.1.tgz",
      "integrity": "sha512-gPVA1UjRu1Y/IsB/dQEsp2V1pm44Of6+LWvbLc9SDk1c2KhhDRDBUkQCYVWe6f26uJb3fOK8saWMgtX8IrMk3g==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@unrs/resolver-binding-darwin-x64": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-darwin-x64/-/resolver-binding-darwin-x64-1.11.1.tgz",
      "integrity": "sha512-cFzP7rWKd3lZaCsDze07QX1SC24lO8mPty9vdP+YVa3MGdVgPmFc59317b2ioXtgCMKGiCLxJ4HQs62oz6GfRQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@unrs/resolver-binding-freebsd-x64": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-freebsd-x64/-/resolver-binding-freebsd-x64-1.11.1.tgz",
      "integrity": "sha512-fqtGgak3zX4DCB6PFpsH5+Kmt/8CIi4Bry4rb1ho6Av2QHTREM+47y282Uqiu3ZRF5IQioJQ5qWRV6jduA+iGw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-arm-gnueabihf": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-arm-gnueabihf/-/resolver-binding-linux-arm-gnueabihf-1.11.1.tgz",
      "integrity": "sha512-u92mvlcYtp9MRKmP+ZvMmtPN34+/3lMHlyMj7wXJDeXxuM0Vgzz0+PPJNsro1m3IZPYChIkn944wW8TYgGKFHw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-arm-musleabihf": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-arm-musleabihf/-/resolver-binding-linux-arm-musleabihf-1.11.1.tgz",
      "integrity": "sha512-cINaoY2z7LVCrfHkIcmvj7osTOtm6VVT16b5oQdS4beibX2SYBwgYLmqhBjA1t51CarSaBuX5YNsWLjsqfW5Cw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-arm64-gnu": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-arm64-gnu/-/resolver-binding-linux-arm64-gnu-1.11.1.tgz",
      "integrity": "sha512-34gw7PjDGB9JgePJEmhEqBhWvCiiWCuXsL9hYphDF7crW7UgI05gyBAi6MF58uGcMOiOqSJ2ybEeCvHcq0BCmQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-arm64-musl": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-arm64-musl/-/resolver-binding-linux-arm64-musl-1.11.1.tgz",
      "integrity": "sha512-RyMIx6Uf53hhOtJDIamSbTskA99sPHS96wxVE/bJtePJJtpdKGXO1wY90oRdXuYOGOTuqjT8ACccMc4K6QmT3w==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-ppc64-gnu": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-ppc64-gnu/-/resolver-binding-linux-ppc64-gnu-1.11.1.tgz",
      "integrity": "sha512-D8Vae74A4/a+mZH0FbOkFJL9DSK2R6TFPC9M+jCWYia/q2einCubX10pecpDiTmkJVUH+y8K3BZClycD8nCShA==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-riscv64-gnu": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-riscv64-gnu/-/resolver-binding-linux-riscv64-gnu-1.11.1.tgz",
      "integrity": "sha512-frxL4OrzOWVVsOc96+V3aqTIQl1O2TjgExV4EKgRY09AJ9leZpEg8Ak9phadbuX0BA4k8U5qtvMSQQGGmaJqcQ==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-riscv64-musl": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-riscv64-musl/-/resolver-binding-linux-riscv64-musl-1.11.1.tgz",
      "integrity": "sha512-mJ5vuDaIZ+l/acv01sHoXfpnyrNKOk/3aDoEdLO/Xtn9HuZlDD6jKxHlkN8ZhWyLJsRBxfv9GYM2utQ1SChKew==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-s390x-gnu": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-s390x-gnu/-/resolver-binding-linux-s390x-gnu-1.11.1.tgz",
      "integrity": "sha512-kELo8ebBVtb9sA7rMe1Cph4QHreByhaZ2QEADd9NzIQsYNQpt9UkM9iqr2lhGr5afh885d/cB5QeTXSbZHTYPg==",
      "cpu": [
        "s390x"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-x64-gnu": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-x64-gnu/-/resolver-binding-linux-x64-gnu-1.11.1.tgz",
      "integrity": "sha512-C3ZAHugKgovV5YvAMsxhq0gtXuwESUKc5MhEtjBpLoHPLYM+iuwSj3lflFwK3DPm68660rZ7G8BMcwSro7hD5w==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-x64-musl": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-x64-musl/-/resolver-binding-linux-x64-musl-1.11.1.tgz",
      "integrity": "sha512-rV0YSoyhK2nZ4vEswT/QwqzqQXw5I6CjoaYMOX0TqBlWhojUf8P94mvI7nuJTeaCkkds3QE4+zS8Ko+GdXuZtA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-wasm32-wasi": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-wasm32-wasi/-/resolver-binding-wasm32-wasi-1.11.1.tgz",
      "integrity": "sha512-5u4RkfxJm+Ng7IWgkzi3qrFOvLvQYnPBmjmZQ8+szTK/b31fQCnleNl1GgEt7nIsZRIf5PLhPwT0WM+q45x/UQ==",
      "cpu": [
        "wasm32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "@napi-rs/wasm-runtime": "^0.2.11"
      },
      "engines": {
        "node": ">=14.0.0"
      }
    },
    "node_modules/@unrs/resolver-binding-win32-arm64-msvc": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-win32-arm64-msvc/-/resolver-binding-win32-arm64-msvc-1.11.1.tgz",
      "integrity": "sha512-nRcz5Il4ln0kMhfL8S3hLkxI85BXs3o8EYoattsJNdsX4YUU89iOkVn7g0VHSRxFuVMdM4Q1jEpIId1Ihim/Uw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@unrs/resolver-binding-win32-ia32-msvc": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-win32-ia32-msvc/-/resolver-binding-win32-ia32-msvc-1.11.1.tgz",
      "integrity": "sha512-DCEI6t5i1NmAZp6pFonpD5m7i6aFrpofcp4LA2i8IIq60Jyo28hamKBxNrZcyOwVOZkgsRp9O2sXWBWP8MnvIQ==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@unrs/resolver-binding-win32-x64-msvc": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-win32-x64-msvc/-/resolver-binding-win32-x64-msvc-1.11.1.tgz",
      "integrity": "sha512-lrW200hZdbfRtztbygyaq/6jP6AKE8qQN2KvPcJ+x7wiD038YtnYtZ82IMNJ69GJibV7bwL3y9FgK+5w/pYt6g==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/acorn": {
      "version": "8.15.0",
      "resolved": "https://registry.npmjs.org/acorn/-/acorn-8.15.0.tgz",
      "integrity": "sha512-NZyJarBfL7nWwIq+FDL6Zp/yHEhePMNnnJ0y3qfieCrmNvYct8uvtiV41UvlSe6apAfk0fY1FbWx+NwfmpvtTg==",
      "dev": true,
      "license": "MIT",
      "peer": true,
      "bin": {
        "acorn": "bin/acorn"
      },
      "engines": {
        "node": ">=0.4.0"
      }
    },
    "node_modules/acorn-jsx": {
      "version": "5.3.2",
      "resolved": "https://registry.npmjs.org/acorn-jsx/-/acorn-jsx-5.3.2.tgz",
      "integrity": "sha512-rq9s+JNhf0IChjtDXxllJ7g41oZk5SlXtp0LHwyA5cejwn7vKmKp4pPri6YEePv2PU65sAsegbXtIinmDFDXgQ==",
      "dev": true,
      "license": "MIT",
      "peerDependencies": {
        "acorn": "^6.0.0 || ^7.0.0 || ^8.0.0"
      }
    },
    "node_modules/ajv": {
      "version": "6.12.6",
      "resolved": "https://registry.npmjs.org/ajv/-/ajv-6.12.6.tgz",
      "integrity": "sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "fast-deep-equal": "^3.1.1",
        "fast-json-stable-stringify": "^2.0.0",
        "json-schema-traverse": "^0.4.1",
        "uri-js": "^4.2.2"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/epoberezkin"
      }
    },
    "node_modules/ansi-styles": {
      "version": "4.3.0",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
      "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "color-convert": "^2.0.1"
      },
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/argparse": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/argparse/-/argparse-2.0.1.tgz",
      "integrity": "sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==",
      "dev": true,
      "license": "Python-2.0"
    },
    "node_modules/aria-query": {
      "version": "5.3.2",
      "resolved": "https://registry.npmjs.org/aria-query/-/aria-query-5.3.2.tgz",
      "integrity": "sha512-COROpnaoap1E2F000S62r6A60uHZnmlvomhfyT2DlTcrY1OrBKn2UhH7qn5wTC9zMvD0AY7csdPSNwKP+7WiQw==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/array-buffer-byte-length": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/array-buffer-byte-length/-/array-buffer-byte-length-1.0.2.tgz",
      "integrity": "sha512-LHE+8BuR7RYGDKvnrmcuSq3tDcKv9OFEXQt/HpbZhY7V6h0zlUXutnAD82GiFx9rdieCMjkvtcsPqBwgUl1Iiw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.3",
        "is-array-buffer": "^3.0.5"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/array-includes": {
      "version": "3.1.9",
      "resolved": "https://registry.npmjs.org/array-includes/-/array-includes-3.1.9.tgz",
      "integrity": "sha512-FmeCCAenzH0KH381SPT5FZmiA/TmpndpcaShhfgEN9eCVjnFBqq3l1xrI42y8+PPLI6hypzou4GXw00WHmPBLQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.4",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.24.0",
        "es-object-atoms": "^1.1.1",
        "get-intrinsic": "^1.3.0",
        "is-string": "^1.1.1",
        "math-intrinsics": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/array.prototype.findlast": {
      "version": "1.2.5",
      "resolved": "https://registry.npmjs.org/array.prototype.findlast/-/array.prototype.findlast-1.2.5.tgz",
      "integrity": "sha512-CVvd6FHg1Z3POpBLxO6E6zr+rSKEQ9L6rZHAaY7lLfhKsWYUBBOuMs0e9o24oopj6H+geRCX0YJ+TJLBK2eHyQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.7",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.2",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.0.0",
        "es-shim-unscopables": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/array.prototype.findlastindex": {
      "version": "1.2.6",
      "resolved": "https://registry.npmjs.org/array.prototype.findlastindex/-/array.prototype.findlastindex-1.2.6.tgz",
      "integrity": "sha512-F/TKATkzseUExPlfvmwQKGITM3DGTK+vkAsCZoDc5daVygbJBnjEUCbgkAvVFsgfXfX4YIqZ/27G3k3tdXrTxQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.4",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.9",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.1.1",
        "es-shim-unscopables": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/array.prototype.flat": {
      "version": "1.3.3",
      "resolved": "https://registry.npmjs.org/array.prototype.flat/-/array.prototype.flat-1.3.3.tgz",
      "integrity": "sha512-rwG/ja1neyLqCuGZ5YYrznA62D4mZXg0i1cIskIUKSiqF3Cje9/wXAls9B9s1Wa2fomMsIv8czB8jZcPmxCXFg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.5",
        "es-shim-unscopables": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/array.prototype.flatmap": {
      "version": "1.3.3",
      "resolved": "https://registry.npmjs.org/array.prototype.flatmap/-/array.prototype.flatmap-1.3.3.tgz",
      "integrity": "sha512-Y7Wt51eKJSyi80hFrJCePGGNo5ktJCslFuboqJsbf57CCPcm5zztluPlc4/aD8sWsKvlwatezpV4U1efk8kpjg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.5",
        "es-shim-unscopables": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/array.prototype.tosorted": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/array.prototype.tosorted/-/array.prototype.tosorted-1.1.4.tgz",
      "integrity": "sha512-p6Fx8B7b7ZhL/gmUsAy0D15WhvDccw3mnGNbZpi3pmeJdxtWsj2jEaI4Y6oo3XiHfzuSgPwKc04MYt6KgvC/wA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.7",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.3",
        "es-errors": "^1.3.0",
        "es-shim-unscopables": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/arraybuffer.prototype.slice": {
      "version": "1.0.4",
      "resolved": "https://registry.npmjs.org/arraybuffer.prototype.slice/-/arraybuffer.prototype.slice-1.0.4.tgz",
      "integrity": "sha512-BNoCY6SXXPQ7gF2opIP4GBE+Xw7U+pHMYKuzjgCN3GwiaIR09UUeKfheyIry77QtrCBlC0KK0q5/TER/tYh3PQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "array-buffer-byte-length": "^1.0.1",
        "call-bind": "^1.0.8",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.5",
        "es-errors": "^1.3.0",
        "get-intrinsic": "^1.2.6",
        "is-array-buffer": "^3.0.4"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/ast-types-flow": {
      "version": "0.0.8",
      "resolved": "https://registry.npmjs.org/ast-types-flow/-/ast-types-flow-0.0.8.tgz",
      "integrity": "sha512-OH/2E5Fg20h2aPrbe+QL8JZQFko0YZaF+j4mnQ7BGhfavO7OpSLa8a0y9sBwomHdSbkhTS8TQNayBfnW5DwbvQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/async-function": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/async-function/-/async-function-1.0.0.tgz",
      "integrity": "sha512-hsU18Ae8CDTR6Kgu9DYf0EbCr/a5iGL0rytQDobUcdpYOKokk8LEjVphnXkDkgpi0wYVsqrXuP0bZxJaTqdgoA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/available-typed-arrays": {
      "version": "1.0.7",
      "resolved": "https://registry.npmjs.org/available-typed-arrays/-/available-typed-arrays-1.0.7.tgz",
      "integrity": "sha512-wvUjBtSGN7+7SjNpq/9M2Tg350UZD3q62IFZLbRAR1bSMlCo1ZaeW+BJ+D090e4hIIZLBcTDWe4Mh4jvUDajzQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "possible-typed-array-names": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/axe-core": {
      "version": "4.11.1",
      "resolved": "https://registry.npmjs.org/axe-core/-/axe-core-4.11.1.tgz",
      "integrity": "sha512-BASOg+YwO2C+346x3LZOeoovTIoTrRqEsqMa6fmfAV0P+U9mFr9NsyOEpiYvFjbc64NMrSswhV50WdXzdb/Z5A==",
      "dev": true,
      "license": "MPL-2.0",
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/axobject-query": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/axobject-query/-/axobject-query-4.1.0.tgz",
      "integrity": "sha512-qIj0G9wZbMGNLjLmg1PT6v2mE9AH2zlnADJD/2tC6E00hgmhUOfEB6greHPAfLRSufHqROIUTkw6E+M3lH0PTQ==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/balanced-match": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
      "integrity": "sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/baseline-browser-mapping": {
      "version": "2.9.14",
      "resolved": "https://registry.npmjs.org/baseline-browser-mapping/-/baseline-browser-mapping-2.9.14.tgz",
      "integrity": "sha512-B0xUquLkiGLgHhpPBqvl7GWegWBUNuujQ6kXd/r1U38ElPT6Ok8KZ8e+FpUGEc2ZoRQUzq/aUnaKFc/svWUGSg==",
      "license": "Apache-2.0",
      "bin": {
        "baseline-browser-mapping": "dist/cli.js"
      }
    },
    "node_modules/brace-expansion": {
      "version": "1.1.12",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.12.tgz",
      "integrity": "sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "balanced-match": "^1.0.0",
        "concat-map": "0.0.1"
      }
    },
    "node_modules/braces": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/braces/-/braces-3.0.3.tgz",
      "integrity": "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "fill-range": "^7.1.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/browserslist": {
      "version": "4.28.1",
      "resolved": "https://registry.npmjs.org/browserslist/-/browserslist-4.28.1.tgz",
      "integrity": "sha512-ZC5Bd0LgJXgwGqUknZY/vkUQ04r8NXnJZ3yYi4vDmSiZmC/pdSN0NbNRPxZpbtO4uAfDUAFffO8IZoM3Gj8IkA==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "peer": true,
      "dependencies": {
        "baseline-browser-mapping": "^2.9.0",
        "caniuse-lite": "^1.0.30001759",
        "electron-to-chromium": "^1.5.263",
        "node-releases": "^2.0.27",
        "update-browserslist-db": "^1.2.0"
      },
      "bin": {
        "browserslist": "cli.js"
      },
      "engines": {
        "node": "^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7"
      }
    },
    "node_modules/call-bind": {
      "version": "1.0.8",
      "resolved": "https://registry.npmjs.org/call-bind/-/call-bind-1.0.8.tgz",
      "integrity": "sha512-oKlSFMcMwpUg2ednkhQ454wfWiU/ul3CkJe/PEHcTKuiX6RpbehUiFMXu13HalGZxfUwCQzZG747YXBn1im9ww==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind-apply-helpers": "^1.0.0",
        "es-define-property": "^1.0.0",
        "get-intrinsic": "^1.2.4",
        "set-function-length": "^1.2.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/call-bind-apply-helpers": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/call-bind-apply-helpers/-/call-bind-apply-helpers-1.0.2.tgz",
      "integrity": "sha512-Sp1ablJ0ivDkSzjcaJdxEunN5/XvksFJ2sMBFfq6x0ryhQV/2b/KwFe21cMpmHtPOSij8K99/wSfoEuTObmuMQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0",
        "function-bind": "^1.1.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/call-bound": {
      "version": "1.0.4",
      "resolved": "https://registry.npmjs.org/call-bound/-/call-bound-1.0.4.tgz",
      "integrity": "sha512-+ys997U96po4Kx/ABpBCqhA9EuxJaQWDQg7295H4hBphv3IZg0boBKuwYpt4YXp6MZ5AmZQnU/tyMTlRpaSejg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind-apply-helpers": "^1.0.2",
        "get-intrinsic": "^1.3.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/callsites": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/callsites/-/callsites-3.1.0.tgz",
      "integrity": "sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/caniuse-lite": {
      "version": "1.0.30001764",
      "resolved": "https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001764.tgz",
      "integrity": "sha512-9JGuzl2M+vPL+pz70gtMF9sHdMFbY9FJaQBi186cHKH3pSzDvzoUJUPV6fqiKIMyXbud9ZLg4F3Yza1vJ1+93g==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/caniuse-lite"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "CC-BY-4.0"
    },
    "node_modules/chalk": {
      "version": "4.1.2",
      "resolved": "https://registry.npmjs.org/chalk/-/chalk-4.1.2.tgz",
      "integrity": "sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^4.1.0",
        "supports-color": "^7.1.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/chalk?sponsor=1"
      }
    },
    "node_modules/client-only": {
      "version": "0.0.1",
      "resolved": "https://registry.npmjs.org/client-only/-/client-only-0.0.1.tgz",
      "integrity": "sha512-IV3Ou0jSMzZrd3pZ48nLkT9DA7Ag1pnPzaiQhpW7c3RbcqqzvzzVu+L8gfqMp/8IM2MQtSiqaCxrrcfu8I8rMA==",
      "license": "MIT"
    },
    "node_modules/clsx": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/clsx/-/clsx-2.1.1.tgz",
      "integrity": "sha512-eYm0QWBtUrBWZWG0d386OGAw16Z995PiOVo2B7bjWSbHedGl5e0ZWaq65kOGgUSNesEIDkB9ISbTg/JK9dhCZA==",
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/color-convert": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz",
      "integrity": "sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "color-name": "~1.1.4"
      },
      "engines": {
        "node": ">=7.0.0"
      }
    },
    "node_modules/color-name": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz",
      "integrity": "sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/concat-map": {
      "version": "0.0.1",
      "resolved": "https://registry.npmjs.org/concat-map/-/concat-map-0.0.1.tgz",
      "integrity": "sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/convert-source-map": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/convert-source-map/-/convert-source-map-2.0.0.tgz",
      "integrity": "sha512-Kvp459HrV2FEJ1CAsi1Ku+MY3kasH19TFykTz2xWmMeq6bk2NU3XXvfJ+Q61m0xktWwt+1HSYf3JZsTms3aRJg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/cookie": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/cookie/-/cookie-1.1.1.tgz",
      "integrity": "sha512-ei8Aos7ja0weRpFzJnEA9UHJ/7XQmqglbRwnf2ATjcB9Wq874VKH9kfjjirM6UhU2/E5fFYadylyhFldcqSidQ==",
      "license": "MIT",
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/express"
      }
    },
    "node_modules/cross-spawn": {
      "version": "7.0.6",
      "resolved": "https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.6.tgz",
      "integrity": "sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "path-key": "^3.1.0",
        "shebang-command": "^2.0.0",
        "which": "^2.0.1"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/csstype": {
      "version": "3.2.3",
      "resolved": "https://registry.npmjs.org/csstype/-/csstype-3.2.3.tgz",
      "integrity": "sha512-z1HGKcYy2xA8AGQfwrn0PAy+PB7X/GSj3UVJW9qKyn43xWa+gl5nXmU4qqLMRzWVLFC8KusUX8T/0kCiOYpAIQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/damerau-levenshtein": {
      "version": "1.0.8",
      "resolved": "https://registry.npmjs.org/damerau-levenshtein/-/damerau-levenshtein-1.0.8.tgz",
      "integrity": "sha512-sdQSFB7+llfUcQHUQO3+B8ERRj0Oa4w9POWMI/puGtuf7gFywGmkaLCElnudfTiKZV+NvHqL0ifzdrI8Ro7ESA==",
      "dev": true,
      "license": "BSD-2-Clause"
    },
    "node_modules/data-view-buffer": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/data-view-buffer/-/data-view-buffer-1.0.2.tgz",
      "integrity": "sha512-EmKO5V3OLXh1rtK2wgXRansaK1/mtVdTUEiEI0W8RkvgT05kfxaH29PliLnpLP73yYO6142Q72QNa8Wx/A5CqQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.3",
        "es-errors": "^1.3.0",
        "is-data-view": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/data-view-byte-length": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/data-view-byte-length/-/data-view-byte-length-1.0.2.tgz",
      "integrity": "sha512-tuhGbE6CfTM9+5ANGf+oQb72Ky/0+s3xKUpHvShfiz2RxMFgFPjsXuRLBVMtvMs15awe45SRb83D6wH4ew6wlQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.3",
        "es-errors": "^1.3.0",
        "is-data-view": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/inspect-js"
      }
    },
    "node_modules/data-view-byte-offset": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/data-view-byte-offset/-/data-view-byte-offset-1.0.1.tgz",
      "integrity": "sha512-BS8PfmtDGnrgYdOonGZQdLZslWIeCGFP9tpan0hi1Co2Zr2NKADsvGYA8XxuG/4UWgJ6Cjtv+YJnB6MM69QGlQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.2",
        "es-errors": "^1.3.0",
        "is-data-view": "^1.0.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/date-fns": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/date-fns/-/date-fns-4.1.0.tgz",
      "integrity": "sha512-Ukq0owbQXxa/U3EGtsdVBkR1w7KOQ5gIBqdH2hkvknzZPYvBxb/aa6E8L7tmjFtkwZBu3UXBbjIgPo/Ez4xaNg==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/kossnocorp"
      }
    },
    "node_modules/debug": {
      "version": "4.4.3",
      "resolved": "https://registry.npmjs.org/debug/-/debug-4.4.3.tgz",
      "integrity": "sha512-RGwwWnwQvkVfavKVt22FGLw+xYSdzARwm0ru6DhTVA3umU5hZc28V3kO4stgYryrTlLpuvgI9GiijltAjNbcqA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ms": "^2.1.3"
      },
      "engines": {
        "node": ">=6.0"
      },
      "peerDependenciesMeta": {
        "supports-color": {
          "optional": true
        }
      }
    },
    "node_modules/deep-is": {
      "version": "0.1.4",
      "resolved": "https://registry.npmjs.org/deep-is/-/deep-is-0.1.4.tgz",
      "integrity": "sha512-oIPzksmTg4/MriiaYGO+okXDT7ztn/w3Eptv/+gSIdMdKsJo0u4CfYNFJPy+4SKMuCqGw2wxnA+URMg3t8a/bQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/define-data-property": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/define-data-property/-/define-data-property-1.1.4.tgz",
      "integrity": "sha512-rBMvIzlpA8v6E+SJZoo++HAYqsLrkg7MSfIinMPFhmkorw7X+dOXVJQs+QT69zGkzMyfDnIMN2Wid1+NbL3T+A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "es-define-property": "^1.0.0",
        "es-errors": "^1.3.0",
        "gopd": "^1.0.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/define-properties": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/define-properties/-/define-properties-1.2.1.tgz",
      "integrity": "sha512-8QmQKqEASLd5nx0U1B1okLElbUuuttJ/AnYmRXbbbGDWh6uS208EjD4Xqq/I9wK7u0v6O08XhTWnt5XtEbR6Dg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "define-data-property": "^1.0.1",
        "has-property-descriptors": "^1.0.0",
        "object-keys": "^1.1.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/detect-libc": {
      "version": "2.1.2",
      "resolved": "https://registry.npmjs.org/detect-libc/-/detect-libc-2.1.2.tgz",
      "integrity": "sha512-Btj2BOOO83o3WyH59e8MgXsxEQVcarkUOpEYrubB0urwnN10yQ364rsiByU11nZlqWYZm05i/of7io4mzihBtQ==",
      "devOptional": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/doctrine": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/doctrine/-/doctrine-2.1.0.tgz",
      "integrity": "sha512-35mSku4ZXK0vfCuHEDAwt55dg2jNajHZ1odvF+8SSr82EsZY4QmXfuWso8oEd8zRhVObSN18aM0CjSdoBX7zIw==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "esutils": "^2.0.2"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/dotenv": {
      "version": "17.2.3",
      "resolved": "https://registry.npmjs.org/dotenv/-/dotenv-17.2.3.tgz",
      "integrity": "sha512-JVUnt+DUIzu87TABbhPmNfVdBDt18BLOWjMUFJMSi/Qqg7NTYtabbvSNJGOJ7afbRuv9D/lngizHtP7QyLQ+9w==",
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://dotenvx.com"
      }
    },
    "node_modules/dunder-proto": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/dunder-proto/-/dunder-proto-1.0.1.tgz",
      "integrity": "sha512-KIN/nDJBQRcXw0MLVhZE9iQHmG68qAVIBg9CqmUYjmQIhgij9U5MFvrqkUL5FbtyyzZuOeOt0zdeRe4UY7ct+A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind-apply-helpers": "^1.0.1",
        "es-errors": "^1.3.0",
        "gopd": "^1.2.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/electron-to-chromium": {
      "version": "1.5.267",
      "resolved": "https://registry.npmjs.org/electron-to-chromium/-/electron-to-chromium-1.5.267.tgz",
      "integrity": "sha512-0Drusm6MVRXSOJpGbaSVgcQsuB4hEkMpHXaVstcPmhu5LIedxs1xNK/nIxmQIU/RPC0+1/o0AVZfBTkTNJOdUw==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/emoji-regex": {
      "version": "9.2.2",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-9.2.2.tgz",
      "integrity": "sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/enhanced-resolve": {
      "version": "5.18.4",
      "resolved": "https://registry.npmjs.org/enhanced-resolve/-/enhanced-resolve-5.18.4.tgz",
      "integrity": "sha512-LgQMM4WXU3QI+SYgEc2liRgznaD5ojbmY3sb8LxyguVkIg5FxdpTkvk72te2R38/TGKxH634oLxXRGY6d7AP+Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "graceful-fs": "^4.2.4",
        "tapable": "^2.2.0"
      },
      "engines": {
        "node": ">=10.13.0"
      }
    },
    "node_modules/es-abstract": {
      "version": "1.24.1",
      "resolved": "https://registry.npmjs.org/es-abstract/-/es-abstract-1.24.1.tgz",
      "integrity": "sha512-zHXBLhP+QehSSbsS9Pt23Gg964240DPd6QCf8WpkqEXxQ7fhdZzYsocOr5u7apWonsS5EjZDmTF+/slGMyasvw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "array-buffer-byte-length": "^1.0.2",
        "arraybuffer.prototype.slice": "^1.0.4",
        "available-typed-arrays": "^1.0.7",
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.4",
        "data-view-buffer": "^1.0.2",
        "data-view-byte-length": "^1.0.2",
        "data-view-byte-offset": "^1.0.1",
        "es-define-property": "^1.0.1",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.1.1",
        "es-set-tostringtag": "^2.1.0",
        "es-to-primitive": "^1.3.0",
        "function.prototype.name": "^1.1.8",
        "get-intrinsic": "^1.3.0",
        "get-proto": "^1.0.1",
        "get-symbol-description": "^1.1.0",
        "globalthis": "^1.0.4",
        "gopd": "^1.2.0",
        "has-property-descriptors": "^1.0.2",
        "has-proto": "^1.2.0",
        "has-symbols": "^1.1.0",
        "hasown": "^2.0.2",
        "internal-slot": "^1.1.0",
        "is-array-buffer": "^3.0.5",
        "is-callable": "^1.2.7",
        "is-data-view": "^1.0.2",
        "is-negative-zero": "^2.0.3",
        "is-regex": "^1.2.1",
        "is-set": "^2.0.3",
        "is-shared-array-buffer": "^1.0.4",
        "is-string": "^1.1.1",
        "is-typed-array": "^1.1.15",
        "is-weakref": "^1.1.1",
        "math-intrinsics": "^1.1.0",
        "object-inspect": "^1.13.4",
        "object-keys": "^1.1.1",
        "object.assign": "^4.1.7",
        "own-keys": "^1.0.1",
        "regexp.prototype.flags": "^1.5.4",
        "safe-array-concat": "^1.1.3",
        "safe-push-apply": "^1.0.0",
        "safe-regex-test": "^1.1.0",
        "set-proto": "^1.0.0",
        "stop-iteration-iterator": "^1.1.0",
        "string.prototype.trim": "^1.2.10",
        "string.prototype.trimend": "^1.0.9",
        "string.prototype.trimstart": "^1.0.8",
        "typed-array-buffer": "^1.0.3",
        "typed-array-byte-length": "^1.0.3",
        "typed-array-byte-offset": "^1.0.4",
        "typed-array-length": "^1.0.7",
        "unbox-primitive": "^1.1.0",
        "which-typed-array": "^1.1.19"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/es-define-property": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/es-define-property/-/es-define-property-1.0.1.tgz",
      "integrity": "sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-errors": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/es-errors/-/es-errors-1.3.0.tgz",
      "integrity": "sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-iterator-helpers": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/es-iterator-helpers/-/es-iterator-helpers-1.2.2.tgz",
      "integrity": "sha512-BrUQ0cPTB/IwXj23HtwHjS9n7O4h9FX94b4xc5zlTHxeLgTAdzYUDyy6KdExAl9lbN5rtfe44xpjpmj9grxs5w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.4",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.24.1",
        "es-errors": "^1.3.0",
        "es-set-tostringtag": "^2.1.0",
        "function-bind": "^1.1.2",
        "get-intrinsic": "^1.3.0",
        "globalthis": "^1.0.4",
        "gopd": "^1.2.0",
        "has-property-descriptors": "^1.0.2",
        "has-proto": "^1.2.0",
        "has-symbols": "^1.1.0",
        "internal-slot": "^1.1.0",
        "iterator.prototype": "^1.1.5",
        "safe-array-concat": "^1.1.3"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-object-atoms": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/es-object-atoms/-/es-object-atoms-1.1.1.tgz",
      "integrity": "sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-set-tostringtag": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/es-set-tostringtag/-/es-set-tostringtag-2.1.0.tgz",
      "integrity": "sha512-j6vWzfrGVfyXxge+O0x5sh6cvxAog0a/4Rdd2K36zCMV5eJ+/+tOAngRO8cODMNWbVRdVlmGZQL2YS3yR8bIUA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0",
        "get-intrinsic": "^1.2.6",
        "has-tostringtag": "^1.0.2",
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-shim-unscopables": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/es-shim-unscopables/-/es-shim-unscopables-1.1.0.tgz",
      "integrity": "sha512-d9T8ucsEhh8Bi1woXCf+TIKDIROLG5WCkxg8geBCbvk22kzwC5G2OnXVMO6FUsvQlgUUXQ2itephWDLqDzbeCw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-to-primitive": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/es-to-primitive/-/es-to-primitive-1.3.0.tgz",
      "integrity": "sha512-w+5mJ3GuFL+NjVtJlvydShqE1eN3h3PbI7/5LAsYJP/2qtuMXjfL2LpHSRqo4b4eSF5K/DH1JXKUAHSB2UW50g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-callable": "^1.2.7",
        "is-date-object": "^1.0.5",
        "is-symbol": "^1.0.4"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/escalade": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
      "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/escape-string-regexp": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-4.0.0.tgz",
      "integrity": "sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/eslint": {
      "version": "9.39.2",
      "resolved": "https://registry.npmjs.org/eslint/-/eslint-9.39.2.tgz",
      "integrity": "sha512-LEyamqS7W5HB3ujJyvi0HQK/dtVINZvd5mAAp9eT5S/ujByGjiZLCzPcHVzuXbpJDJF/cxwHlfceVUDZ2lnSTw==",
      "dev": true,
      "license": "MIT",
      "peer": true,
      "dependencies": {
        "@eslint-community/eslint-utils": "^4.8.0",
        "@eslint-community/regexpp": "^4.12.1",
        "@eslint/config-array": "^0.21.1",
        "@eslint/config-helpers": "^0.4.2",
        "@eslint/core": "^0.17.0",
        "@eslint/eslintrc": "^3.3.1",
        "@eslint/js": "9.39.2",
        "@eslint/plugin-kit": "^0.4.1",
        "@humanfs/node": "^0.16.6",
        "@humanwhocodes/module-importer": "^1.0.1",
        "@humanwhocodes/retry": "^0.4.2",
        "@types/estree": "^1.0.6",
        "ajv": "^6.12.4",
        "chalk": "^4.0.0",
        "cross-spawn": "^7.0.6",
        "debug": "^4.3.2",
        "escape-string-regexp": "^4.0.0",
        "eslint-scope": "^8.4.0",
        "eslint-visitor-keys": "^4.2.1",
        "espree": "^10.4.0",
        "esquery": "^1.5.0",
        "esutils": "^2.0.2",
        "fast-deep-equal": "^3.1.3",
        "file-entry-cache": "^8.0.0",
        "find-up": "^5.0.0",
        "glob-parent": "^6.0.2",
        "ignore": "^5.2.0",
        "imurmurhash": "^0.1.4",
        "is-glob": "^4.0.0",
        "json-stable-stringify-without-jsonify": "^1.0.1",
        "lodash.merge": "^4.6.2",
        "minimatch": "^3.1.2",
        "natural-compare": "^1.4.0",
        "optionator": "^0.9.3"
      },
      "bin": {
        "eslint": "bin/eslint.js"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://eslint.org/donate"
      },
      "peerDependencies": {
        "jiti": "*"
      },
      "peerDependenciesMeta": {
        "jiti": {
          "optional": true
        }
      }
    },
    "node_modules/eslint-config-next": {
      "version": "16.1.1",
      "resolved": "https://registry.npmjs.org/eslint-config-next/-/eslint-config-next-16.1.1.tgz",
      "integrity": "sha512-55nTpVWm3qeuxoQKLOjQVciKZJUphKrNM0fCcQHAIOGl6VFXgaqeMfv0aKJhs7QtcnlAPhNVqsqRfRjeKBPIUA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@next/eslint-plugin-next": "16.1.1",
        "eslint-import-resolver-node": "^0.3.6",
        "eslint-import-resolver-typescript": "^3.5.2",
        "eslint-plugin-import": "^2.32.0",
        "eslint-plugin-jsx-a11y": "^6.10.0",
        "eslint-plugin-react": "^7.37.0",
        "eslint-plugin-react-hooks": "^7.0.0",
        "globals": "16.4.0",
        "typescript-eslint": "^8.46.0"
      },
      "peerDependencies": {
        "eslint": ">=9.0.0",
        "typescript": ">=3.3.1"
      },
      "peerDependenciesMeta": {
        "typescript": {
          "optional": true
        }
      }
    },
    "node_modules/eslint-config-next/node_modules/globals": {
      "version": "16.4.0",
      "resolved": "https://registry.npmjs.org/globals/-/globals-16.4.0.tgz",
      "integrity": "sha512-ob/2LcVVaVGCYN+r14cnwnoDPUufjiYgSqRhiFD0Q1iI4Odora5RE8Iv1D24hAz5oMophRGkGz+yuvQmmUMnMw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/eslint-import-resolver-node": {
      "version": "0.3.9",
      "resolved": "https://registry.npmjs.org/eslint-import-resolver-node/-/eslint-import-resolver-node-0.3.9.tgz",
      "integrity": "sha512-WFj2isz22JahUv+B788TlO3N6zL3nNJGU8CcZbPZvVEkBPaJdCV4vy5wyghty5ROFbCRnm132v8BScu5/1BQ8g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "debug": "^3.2.7",
        "is-core-module": "^2.13.0",
        "resolve": "^1.22.4"
      }
    },
    "node_modules/eslint-import-resolver-node/node_modules/debug": {
      "version": "3.2.7",
      "resolved": "https://registry.npmjs.org/debug/-/debug-3.2.7.tgz",
      "integrity": "sha512-CFjzYYAi4ThfiQvizrFQevTTXHtnCqWfe7x1AhgEscTz6ZbLbfoLRLPugTQyBth6f8ZERVUSyWHFD/7Wu4t1XQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ms": "^2.1.1"
      }
    },
    "node_modules/eslint-import-resolver-typescript": {
      "version": "3.10.1",
      "resolved": "https://registry.npmjs.org/eslint-import-resolver-typescript/-/eslint-import-resolver-typescript-3.10.1.tgz",
      "integrity": "sha512-A1rHYb06zjMGAxdLSkN2fXPBwuSaQ0iO5M/hdyS0Ajj1VBaRp0sPD3dn1FhME3c/JluGFbwSxyCfqdSbtQLAHQ==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "@nolyfill/is-core-module": "1.0.39",
        "debug": "^4.4.0",
        "get-tsconfig": "^4.10.0",
        "is-bun-module": "^2.0.0",
        "stable-hash": "^0.0.5",
        "tinyglobby": "^0.2.13",
        "unrs-resolver": "^1.6.2"
      },
      "engines": {
        "node": "^14.18.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint-import-resolver-typescript"
      },
      "peerDependencies": {
        "eslint": "*",
        "eslint-plugin-import": "*",
        "eslint-plugin-import-x": "*"
      },
      "peerDependenciesMeta": {
        "eslint-plugin-import": {
          "optional": true
        },
        "eslint-plugin-import-x": {
          "optional": true
        }
      }
    },
    "node_modules/eslint-module-utils": {
      "version": "2.12.1",
      "resolved": "https://registry.npmjs.org/eslint-module-utils/-/eslint-module-utils-2.12.1.tgz",
      "integrity": "sha512-L8jSWTze7K2mTg0vos/RuLRS5soomksDPoJLXIslC7c8Wmut3bx7CPpJijDcBZtxQ5lrbUdM+s0OlNbz0DCDNw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "debug": "^3.2.7"
      },
      "engines": {
        "node": ">=4"
      },
      "peerDependenciesMeta": {
        "eslint": {
          "optional": true
        }
      }
    },
    "node_modules/eslint-module-utils/node_modules/debug": {
      "version": "3.2.7",
      "resolved": "https://registry.npmjs.org/debug/-/debug-3.2.7.tgz",
      "integrity": "sha512-CFjzYYAi4ThfiQvizrFQevTTXHtnCqWfe7x1AhgEscTz6ZbLbfoLRLPugTQyBth6f8ZERVUSyWHFD/7Wu4t1XQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ms": "^2.1.1"
      }
    },
    "node_modules/eslint-plugin-import": {
      "version": "2.32.0",
      "resolved": "https://registry.npmjs.org/eslint-plugin-import/-/eslint-plugin-import-2.32.0.tgz",
      "integrity": "sha512-whOE1HFo/qJDyX4SnXzP4N6zOWn79WhnCUY/iDR0mPfQZO8wcYE4JClzI2oZrhBnnMUCBCHZhO6VQyoBU95mZA==",
      "dev": true,
      "license": "MIT",
      "peer": true,
      "dependencies": {
        "@rtsao/scc": "^1.1.0",
        "array-includes": "^3.1.9",
        "array.prototype.findlastindex": "^1.2.6",
        "array.prototype.flat": "^1.3.3",
        "array.prototype.flatmap": "^1.3.3",
        "debug": "^3.2.7",
        "doctrine": "^2.1.0",
        "eslint-import-resolver-node": "^0.3.9",
        "eslint-module-utils": "^2.12.1",
        "hasown": "^2.0.2",
        "is-core-module": "^2.16.1",
        "is-glob": "^4.0.3",
        "minimatch": "^3.1.2",
        "object.fromentries": "^2.0.8",
        "object.groupby": "^1.0.3",
        "object.values": "^1.2.1",
        "semver": "^6.3.1",
        "string.prototype.trimend": "^1.0.9",
        "tsconfig-paths": "^3.15.0"
      },
      "engines": {
        "node": ">=4"
      },
      "peerDependencies": {
        "eslint": "^2 || ^3 || ^4 || ^5 || ^6 || ^7.2.0 || ^8 || ^9"
      }
    },
    "node_modules/eslint-plugin-import/node_modules/debug": {
      "version": "3.2.7",
      "resolved": "https://registry.npmjs.org/debug/-/debug-3.2.7.tgz",
      "integrity": "sha512-CFjzYYAi4ThfiQvizrFQevTTXHtnCqWfe7x1AhgEscTz6ZbLbfoLRLPugTQyBth6f8ZERVUSyWHFD/7Wu4t1XQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ms": "^2.1.1"
      }
    },
    "node_modules/eslint-plugin-jsx-a11y": {
      "version": "6.10.2",
      "resolved": "https://registry.npmjs.org/eslint-plugin-jsx-a11y/-/eslint-plugin-jsx-a11y-6.10.2.tgz",
      "integrity": "sha512-scB3nz4WmG75pV8+3eRUQOHZlNSUhFNq37xnpgRkCCELU3XMvXAxLk1eqWWyE22Ki4Q01Fnsw9BA3cJHDPgn2Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "aria-query": "^5.3.2",
        "array-includes": "^3.1.8",
        "array.prototype.flatmap": "^1.3.2",
        "ast-types-flow": "^0.0.8",
        "axe-core": "^4.10.0",
        "axobject-query": "^4.1.0",
        "damerau-levenshtein": "^1.0.8",
        "emoji-regex": "^9.2.2",
        "hasown": "^2.0.2",
        "jsx-ast-utils": "^3.3.5",
        "language-tags": "^1.0.9",
        "minimatch": "^3.1.2",
        "object.fromentries": "^2.0.8",
        "safe-regex-test": "^1.0.3",
        "string.prototype.includes": "^2.0.1"
      },
      "engines": {
        "node": ">=4.0"
      },
      "peerDependencies": {
        "eslint": "^3 || ^4 || ^5 || ^6 || ^7 || ^8 || ^9"
      }
    },
    "node_modules/eslint-plugin-react": {
      "version": "7.37.5",
      "resolved": "https://registry.npmjs.org/eslint-plugin-react/-/eslint-plugin-react-7.37.5.tgz",
      "integrity": "sha512-Qteup0SqU15kdocexFNAJMvCJEfa2xUKNV4CC1xsVMrIIqEy3SQ/rqyxCWNzfrd3/ldy6HMlD2e0JDVpDg2qIA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "array-includes": "^3.1.8",
        "array.prototype.findlast": "^1.2.5",
        "array.prototype.flatmap": "^1.3.3",
        "array.prototype.tosorted": "^1.1.4",
        "doctrine": "^2.1.0",
        "es-iterator-helpers": "^1.2.1",
        "estraverse": "^5.3.0",
        "hasown": "^2.0.2",
        "jsx-ast-utils": "^2.4.1 || ^3.0.0",
        "minimatch": "^3.1.2",
        "object.entries": "^1.1.9",
        "object.fromentries": "^2.0.8",
        "object.values": "^1.2.1",
        "prop-types": "^15.8.1",
        "resolve": "^2.0.0-next.5",
        "semver": "^6.3.1",
        "string.prototype.matchall": "^4.0.12",
        "string.prototype.repeat": "^1.0.0"
      },
      "engines": {
        "node": ">=4"
      },
      "peerDependencies": {
        "eslint": "^3 || ^4 || ^5 || ^6 || ^7 || ^8 || ^9.7"
      }
    },
    "node_modules/eslint-plugin-react-hooks": {
      "version": "7.0.1",
      "resolved": "https://registry.npmjs.org/eslint-plugin-react-hooks/-/eslint-plugin-react-hooks-7.0.1.tgz",
      "integrity": "sha512-O0d0m04evaNzEPoSW+59Mezf8Qt0InfgGIBJnpC0h3NH/WjUAR7BIKUfysC6todmtiZ/A0oUVS8Gce0WhBrHsA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/core": "^7.24.4",
        "@babel/parser": "^7.24.4",
        "hermes-parser": "^0.25.1",
        "zod": "^3.25.0 || ^4.0.0",
        "zod-validation-error": "^3.5.0 || ^4.0.0"
      },
      "engines": {
        "node": ">=18"
      },
      "peerDependencies": {
        "eslint": "^3.0.0 || ^4.0.0 || ^5.0.0 || ^6.0.0 || ^7.0.0 || ^8.0.0-0 || ^9.0.0"
      }
    },
    "node_modules/eslint-plugin-react/node_modules/resolve": {
      "version": "2.0.0-next.5",
      "resolved": "https://registry.npmjs.org/resolve/-/resolve-2.0.0-next.5.tgz",
      "integrity": "sha512-U7WjGVG9sH8tvjW5SmGbQuui75FiyjAX72HX15DwBBwF9dNiQZRQAg9nnPhYy+TUnE0+VcrttuvNI8oSxZcocA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-core-module": "^2.13.0",
        "path-parse": "^1.0.7",
        "supports-preserve-symlinks-flag": "^1.0.0"
      },
      "bin": {
        "resolve": "bin/resolve"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/eslint-scope": {
      "version": "8.4.0",
      "resolved": "https://registry.npmjs.org/eslint-scope/-/eslint-scope-8.4.0.tgz",
      "integrity": "sha512-sNXOfKCn74rt8RICKMvJS7XKV/Xk9kA7DyJr8mJik3S7Cwgy3qlkkmyS2uQB3jiJg6VNdZd/pDBJu0nvG2NlTg==",
      "dev": true,
      "license": "BSD-2-Clause",
      "dependencies": {
        "esrecurse": "^4.3.0",
        "estraverse": "^5.2.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/eslint-visitor-keys": {
      "version": "4.2.1",
      "resolved": "https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-4.2.1.tgz",
      "integrity": "sha512-Uhdk5sfqcee/9H/rCOJikYz67o0a2Tw2hGRPOG2Y1R2dg7brRe1uG0yaNQDHu+TO/uQPF/5eCapvYSmHUjt7JQ==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/espree": {
      "version": "10.4.0",
      "resolved": "https://registry.npmjs.org/espree/-/espree-10.4.0.tgz",
      "integrity": "sha512-j6PAQ2uUr79PZhBjP5C5fhl8e39FmRnOjsD5lGnWrFU8i2G776tBK7+nP8KuQUTTyAZUwfQqXAgrVH5MbH9CYQ==",
      "dev": true,
      "license": "BSD-2-Clause",
      "dependencies": {
        "acorn": "^8.15.0",
        "acorn-jsx": "^5.3.2",
        "eslint-visitor-keys": "^4.2.1"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/esquery": {
      "version": "1.7.0",
      "resolved": "https://registry.npmjs.org/esquery/-/esquery-1.7.0.tgz",
      "integrity": "sha512-Ap6G0WQwcU/LHsvLwON1fAQX9Zp0A2Y6Y/cJBl9r/JbW90Zyg4/zbG6zzKa2OTALELarYHmKu0GhpM5EO+7T0g==",
      "dev": true,
      "license": "BSD-3-Clause",
      "dependencies": {
        "estraverse": "^5.1.0"
      },
      "engines": {
        "node": ">=0.10"
      }
    },
    "node_modules/esrecurse": {
      "version": "4.3.0",
      "resolved": "https://registry.npmjs.org/esrecurse/-/esrecurse-4.3.0.tgz",
      "integrity": "sha512-KmfKL3b6G+RXvP8N1vr3Tq1kL/oCFgn2NYXEtqP8/L3pKapUA4G8cFVaoF3SU323CD4XypR/ffioHmkti6/Tag==",
      "dev": true,
      "license": "BSD-2-Clause",
      "dependencies": {
        "estraverse": "^5.2.0"
      },
      "engines": {
        "node": ">=4.0"
      }
    },
    "node_modules/estraverse": {
      "version": "5.3.0",
      "resolved": "https://registry.npmjs.org/estraverse/-/estraverse-5.3.0.tgz",
      "integrity": "sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==",
      "dev": true,
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">=4.0"
      }
    },
    "node_modules/esutils": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/esutils/-/esutils-2.0.3.tgz",
      "integrity": "sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g==",
      "dev": true,
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/fast-deep-equal": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/fast-deep-equal/-/fast-deep-equal-3.1.3.tgz",
      "integrity": "sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/fast-glob": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/fast-glob/-/fast-glob-3.3.1.tgz",
      "integrity": "sha512-kNFPyjhh5cKjrUltxs+wFx+ZkbRaxxmZ+X0ZU31SOsxCEtP9VPgtq2teZw1DebupL5GmDaNQ6yKMMVcM41iqDg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@nodelib/fs.stat": "^2.0.2",
        "@nodelib/fs.walk": "^1.2.3",
        "glob-parent": "^5.1.2",
        "merge2": "^1.3.0",
        "micromatch": "^4.0.4"
      },
      "engines": {
        "node": ">=8.6.0"
      }
    },
    "node_modules/fast-glob/node_modules/glob-parent": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
      "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.1"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/fast-json-stable-stringify": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/fast-json-stable-stringify/-/fast-json-stable-stringify-2.1.0.tgz",
      "integrity": "sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/fast-levenshtein": {
      "version": "2.0.6",
      "resolved": "https://registry.npmjs.org/fast-levenshtein/-/fast-levenshtein-2.0.6.tgz",
      "integrity": "sha512-DCXu6Ifhqcks7TZKY3Hxp3y6qphY5SJZmrWMDrKcERSOXWQdMhU9Ig/PYrzyw/ul9jOIyh0N4M0tbC5hodg8dw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/fastq": {
      "version": "1.20.1",
      "resolved": "https://registry.npmjs.org/fastq/-/fastq-1.20.1.tgz",
      "integrity": "sha512-GGToxJ/w1x32s/D2EKND7kTil4n8OVk/9mycTc4VDza13lOvpUZTGX3mFSCtV9ksdGBVzvsyAVLM6mHFThxXxw==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "reusify": "^1.0.4"
      }
    },
    "node_modules/file-entry-cache": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/file-entry-cache/-/file-entry-cache-8.0.0.tgz",
      "integrity": "sha512-XXTUwCvisa5oacNGRP9SfNtYBNAMi+RPwBFmblZEF7N7swHYQS6/Zfk7SRwx4D5j3CH211YNRco1DEMNVfZCnQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "flat-cache": "^4.0.0"
      },
      "engines": {
        "node": ">=16.0.0"
      }
    },
    "node_modules/fill-range": {
      "version": "7.1.1",
      "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz",
      "integrity": "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "to-regex-range": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/find-up": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/find-up/-/find-up-5.0.0.tgz",
      "integrity": "sha512-78/PXT1wlLLDgTzDs7sjq9hzz0vXD+zn+7wypEe4fXQxCmdmqfGsEPQxmiCSQI3ajFV91bVSsvNtrJRiW6nGng==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "locate-path": "^6.0.0",
        "path-exists": "^4.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/flat-cache": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/flat-cache/-/flat-cache-4.0.1.tgz",
      "integrity": "sha512-f7ccFPK3SXFHpx15UIGyRJ/FJQctuKZ0zVuN3frBo4HnK3cay9VEW0R6yPYFHC0AgqhukPzKjq22t5DmAyqGyw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "flatted": "^3.2.9",
        "keyv": "^4.5.4"
      },
      "engines": {
        "node": ">=16"
      }
    },
    "node_modules/flatted": {
      "version": "3.3.3",
      "resolved": "https://registry.npmjs.org/flatted/-/flatted-3.3.3.tgz",
      "integrity": "sha512-GX+ysw4PBCz0PzosHDepZGANEuFCMLrnRTiEy9McGjmkCQYwRq4A/X786G/fjM/+OjsWSU1ZrY5qyARZmO/uwg==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/for-each": {
      "version": "0.3.5",
      "resolved": "https://registry.npmjs.org/for-each/-/for-each-0.3.5.tgz",
      "integrity": "sha512-dKx12eRCVIzqCxFGplyFKJMPvLEWgmNtUrpTiJIR5u97zEhRG8ySrtboPHZXx7daLxQVrl643cTzbab2tkQjxg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-callable": "^1.2.7"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/function-bind": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/function-bind/-/function-bind-1.1.2.tgz",
      "integrity": "sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==",
      "dev": true,
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/function.prototype.name": {
      "version": "1.1.8",
      "resolved": "https://registry.npmjs.org/function.prototype.name/-/function.prototype.name-1.1.8.tgz",
      "integrity": "sha512-e5iwyodOHhbMr/yNrc7fDYG4qlbIvI5gajyzPnb5TCwyhjApznQh1BMFou9b30SevY43gCJKXycoCBjMbsuW0Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.3",
        "define-properties": "^1.2.1",
        "functions-have-names": "^1.2.3",
        "hasown": "^2.0.2",
        "is-callable": "^1.2.7"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/functions-have-names": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/functions-have-names/-/functions-have-names-1.2.3.tgz",
      "integrity": "sha512-xckBUXyTIqT97tq2x2AMb+g163b5JFysYk0x4qxNFwbfQkmNZoiRHb6sPzI9/QV33WeuvVYBUIiD4NzNIyqaRQ==",
      "dev": true,
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/generator-function": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/generator-function/-/generator-function-2.0.1.tgz",
      "integrity": "sha512-SFdFmIJi+ybC0vjlHN0ZGVGHc3lgE0DxPAT0djjVg+kjOnSqclqmj0KQ7ykTOLP6YxoqOvuAODGdcHJn+43q3g==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/gensync": {
      "version": "1.0.0-beta.2",
      "resolved": "https://registry.npmjs.org/gensync/-/gensync-1.0.0-beta.2.tgz",
      "integrity": "sha512-3hN7NaskYvMDLQY55gnW3NQ+mesEAepTqlg+VEbj7zzqEMBVNhzcGYYeqFo/TlYz6eQiFcp1HcsCZO+nGgS8zg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/get-intrinsic": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/get-intrinsic/-/get-intrinsic-1.3.0.tgz",
      "integrity": "sha512-9fSjSaos/fRIVIp+xSJlE6lfwhES7LNtKaCBIamHsjr2na1BiABJPo0mOjjz8GJDURarmCPGqaiVg5mfjb98CQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind-apply-helpers": "^1.0.2",
        "es-define-property": "^1.0.1",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.1.1",
        "function-bind": "^1.1.2",
        "get-proto": "^1.0.1",
        "gopd": "^1.2.0",
        "has-symbols": "^1.1.0",
        "hasown": "^2.0.2",
        "math-intrinsics": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/get-proto": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/get-proto/-/get-proto-1.0.1.tgz",
      "integrity": "sha512-sTSfBjoXBp89JvIKIefqw7U2CCebsc74kiY6awiGogKtoSGbgjYE/G/+l9sF3MWFPNc9IcoOC4ODfKHfxFmp0g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "dunder-proto": "^1.0.1",
        "es-object-atoms": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/get-symbol-description": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/get-symbol-description/-/get-symbol-description-1.1.0.tgz",
      "integrity": "sha512-w9UMqWwJxHNOvoNzSJ2oPF5wvYcvP7jUvYzhp67yEhTi17ZDBBC1z9pTdGuzjD+EFIqLSYRweZjqfiPzQ06Ebg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.3",
        "es-errors": "^1.3.0",
        "get-intrinsic": "^1.2.6"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/get-tsconfig": {
      "version": "4.13.0",
      "resolved": "https://registry.npmjs.org/get-tsconfig/-/get-tsconfig-4.13.0.tgz",
      "integrity": "sha512-1VKTZJCwBrvbd+Wn3AOgQP/2Av+TfTCOlE4AcRJE72W1ksZXbAx8PPBR9RzgTeSPzlPMHrbANMH3LbltH73wxQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "resolve-pkg-maps": "^1.0.0"
      },
      "funding": {
        "url": "https://github.com/privatenumber/get-tsconfig?sponsor=1"
      }
    },
    "node_modules/glob-parent": {
      "version": "6.0.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-6.0.2.tgz",
      "integrity": "sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.3"
      },
      "engines": {
        "node": ">=10.13.0"
      }
    },
    "node_modules/globals": {
      "version": "14.0.0",
      "resolved": "https://registry.npmjs.org/globals/-/globals-14.0.0.tgz",
      "integrity": "sha512-oahGvuMGQlPw/ivIYBjVSrWAfWLBeku5tpPE2fOPLi+WHffIWbuh2tCjhyQhTBPMf5E9jDEH4FOmTYgYwbKwtQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/globalthis": {
      "version": "1.0.4",
      "resolved": "https://registry.npmjs.org/globalthis/-/globalthis-1.0.4.tgz",
      "integrity": "sha512-DpLKbNU4WylpxJykQujfCcwYWiV/Jhm50Goo0wrVILAv5jOr9d+H+UR3PhSCD2rCCEIg0uc+G+muBTwD54JhDQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "define-properties": "^1.2.1",
        "gopd": "^1.0.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/gopd": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/gopd/-/gopd-1.2.0.tgz",
      "integrity": "sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/graceful-fs": {
      "version": "4.2.11",
      "resolved": "https://registry.npmjs.org/graceful-fs/-/graceful-fs-4.2.11.tgz",
      "integrity": "sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/has-bigints": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/has-bigints/-/has-bigints-1.1.0.tgz",
      "integrity": "sha512-R3pbpkcIqv2Pm3dUwgjclDRVmWpTJW2DcMzcIhEXEx1oh/CEMObMm3KLmRJOdvhM7o4uQBnwr8pzRK2sJWIqfg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/has-flag": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/has-flag/-/has-flag-4.0.0.tgz",
      "integrity": "sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/has-property-descriptors": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/has-property-descriptors/-/has-property-descriptors-1.0.2.tgz",
      "integrity": "sha512-55JNKuIW+vq4Ke1BjOTjM2YctQIvCT7GFzHwmfZPGo5wnrgkid0YQtnAleFSqumZm4az3n2BS+erby5ipJdgrg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "es-define-property": "^1.0.0"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/has-proto": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/has-proto/-/has-proto-1.2.0.tgz",
      "integrity": "sha512-KIL7eQPfHQRC8+XluaIw7BHUwwqL19bQn4hzNgdr+1wXoU0KKj6rufu47lhY7KbJR2C6T6+PfyN0Ea7wkSS+qQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "dunder-proto": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/has-symbols": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/has-symbols/-/has-symbols-1.1.0.tgz",
      "integrity": "sha512-1cDNdwJ2Jaohmb3sg4OmKaMBwuC48sYni5HUw2DvsC8LjGTLK9h+eb1X6RyuOHe4hT0ULCW68iomhjUoKUqlPQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/has-tostringtag": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/has-tostringtag/-/has-tostringtag-1.0.2.tgz",
      "integrity": "sha512-NqADB8VjPFLM2V0VvHUewwwsw0ZWBaIdgo+ieHtK3hasLz4qeCRjYcqfB6AQrBggRKppKF8L52/VqdVsO47Dlw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "has-symbols": "^1.0.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/hasown": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/hasown/-/hasown-2.0.2.tgz",
      "integrity": "sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "function-bind": "^1.1.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/hermes-estree": {
      "version": "0.25.1",
      "resolved": "https://registry.npmjs.org/hermes-estree/-/hermes-estree-0.25.1.tgz",
      "integrity": "sha512-0wUoCcLp+5Ev5pDW2OriHC2MJCbwLwuRx+gAqMTOkGKJJiBCLjtrvy4PWUGn6MIVefecRpzoOZ/UV6iGdOr+Cw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/hermes-parser": {
      "version": "0.25.1",
      "resolved": "https://registry.npmjs.org/hermes-parser/-/hermes-parser-0.25.1.tgz",
      "integrity": "sha512-6pEjquH3rqaI6cYAXYPcz9MS4rY6R4ngRgrgfDshRptUZIc3lw0MCIJIGDj9++mfySOuPTHB4nrSW99BCvOPIA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "hermes-estree": "0.25.1"
      }
    },
    "node_modules/iceberg-js": {
      "version": "0.8.1",
      "resolved": "https://registry.npmjs.org/iceberg-js/-/iceberg-js-0.8.1.tgz",
      "integrity": "sha512-1dhVQZXhcHje7798IVM+xoo/1ZdVfzOMIc8/rgVSijRK38EDqOJoGula9N/8ZI5RD8QTxNQtK/Gozpr+qUqRRA==",
      "license": "MIT",
      "engines": {
        "node": ">=20.0.0"
      }
    },
    "node_modules/ignore": {
      "version": "5.3.2",
      "resolved": "https://registry.npmjs.org/ignore/-/ignore-5.3.2.tgz",
      "integrity": "sha512-hsBTNUqQTDwkWtcdYI2i06Y/nUBEsNEDJKjWdigLvegy8kDuJAS8uRlpkkcQpyEXL0Z/pjDy5HBmMjRCJ2gq+g==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 4"
      }
    },
    "node_modules/import-fresh": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/import-fresh/-/import-fresh-3.3.1.tgz",
      "integrity": "sha512-TR3KfrTZTYLPB6jUjfx6MF9WcWrHL9su5TObK4ZkYgBdWKPOFoSoQIdEuTuR82pmtxH2spWG9h6etwfr1pLBqQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "parent-module": "^1.0.0",
        "resolve-from": "^4.0.0"
      },
      "engines": {
        "node": ">=6"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/imurmurhash": {
      "version": "0.1.4",
      "resolved": "https://registry.npmjs.org/imurmurhash/-/imurmurhash-0.1.4.tgz",
      "integrity": "sha512-JmXMZ6wuvDmLiHEml9ykzqO6lwFbof0GG4IkcGaENdCRDDmMVnny7s5HsIgHCbaq0w2MyPhDqkhTUgS2LU2PHA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.8.19"
      }
    },
    "node_modules/internal-slot": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/internal-slot/-/internal-slot-1.1.0.tgz",
      "integrity": "sha512-4gd7VpWNQNB4UKKCFFVcp1AVv+FMOgs9NKzjHKusc8jTMhd5eL1NqQqOpE0KzMds804/yHlglp3uxgluOqAPLw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0",
        "hasown": "^2.0.2",
        "side-channel": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/is-array-buffer": {
      "version": "3.0.5",
      "resolved": "https://registry.npmjs.org/is-array-buffer/-/is-array-buffer-3.0.5.tgz",
      "integrity": "sha512-DDfANUiiG2wC1qawP66qlTugJeL5HyzMpfr8lLK+jMQirGzNod0B12cFB/9q838Ru27sBwfw78/rdoU7RERz6A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.3",
        "get-intrinsic": "^1.2.6"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-async-function": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/is-async-function/-/is-async-function-2.1.1.tgz",
      "integrity": "sha512-9dgM/cZBnNvjzaMYHVoxxfPj2QXt22Ev7SuuPrs+xav0ukGB0S6d4ydZdEiM48kLx5kDV+QBPrpVnFyefL8kkQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "async-function": "^1.0.0",
        "call-bound": "^1.0.3",
        "get-proto": "^1.0.1",
        "has-tostringtag": "^1.0.2",
        "safe-regex-test": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-bigint": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/is-bigint/-/is-bigint-1.1.0.tgz",
      "integrity": "sha512-n4ZT37wG78iz03xPRKJrHTdZbe3IicyucEtdRsV5yglwc3GyUfbAfpSeD0FJ41NbUNSt5wbhqfp1fS+BgnvDFQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "has-bigints": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-boolean-object": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/is-boolean-object/-/is-boolean-object-1.2.2.tgz",
      "integrity": "sha512-wa56o2/ElJMYqjCjGkXri7it5FbebW5usLw/nPmCMs5DeZ7eziSYZhSmPRn0txqeW4LnAmQQU7FgqLpsEFKM4A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.3",
        "has-tostringtag": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-bun-module": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/is-bun-module/-/is-bun-module-2.0.0.tgz",
      "integrity": "sha512-gNCGbnnnnFAUGKeZ9PdbyeGYJqewpmc2aKHUEMO5nQPWU9lOmv7jcmQIv+qHD8fXW6W7qfuCwX4rY9LNRjXrkQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "semver": "^7.7.1"
      }
    },
    "node_modules/is-bun-module/node_modules/semver": {
      "version": "7.7.3",
      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.3.tgz",
      "integrity": "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==",
      "dev": true,
      "license": "ISC",
      "bin": {
        "semver": "bin/semver.js"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/is-callable": {
      "version": "1.2.7",
      "resolved": "https://registry.npmjs.org/is-callable/-/is-callable-1.2.7.tgz",
      "integrity": "sha512-1BC0BVFhS/p0qtw6enp8e+8OD0UrK0oFLztSjNzhcKA3WDuJxxAPXzPuPtKkjEY9UUoEWlX/8fgKeu2S8i9JTA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-core-module": {
      "version": "2.16.1",
      "resolved": "https://registry.npmjs.org/is-core-module/-/is-core-module-2.16.1.tgz",
      "integrity": "sha512-UfoeMA6fIJ8wTYFEUjelnaGI67v6+N7qXJEvQuIGa99l4xsCruSYOVSQ0uPANn4dAzm8lkYPaKLrrijLq7x23w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-data-view": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/is-data-view/-/is-data-view-1.0.2.tgz",
      "integrity": "sha512-RKtWF8pGmS87i2D6gqQu/l7EYRlVdfzemCJN/P3UOs//x1QE7mfhvzHIApBTRf7axvT6DMGwSwBXYCT0nfB9xw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.2",
        "get-intrinsic": "^1.2.6",
        "is-typed-array": "^1.1.13"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-date-object": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/is-date-object/-/is-date-object-1.1.0.tgz",
      "integrity": "sha512-PwwhEakHVKTdRNVOw+/Gyh0+MzlCl4R6qKvkhuvLtPMggI1WAHt9sOwZxQLSGpUaDnrdyDsomoRgNnCfKNSXXg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.2",
        "has-tostringtag": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-extglob": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz",
      "integrity": "sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-finalizationregistry": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/is-finalizationregistry/-/is-finalizationregistry-1.1.1.tgz",
      "integrity": "sha512-1pC6N8qWJbWoPtEjgcL2xyhQOP491EQjeUo3qTKcmV8YSDDJrOepfG8pcC7h/QgnQHYSv0mJ3Z/ZWxmatVrysg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-generator-function": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/is-generator-function/-/is-generator-function-1.1.2.tgz",
      "integrity": "sha512-upqt1SkGkODW9tsGNG5mtXTXtECizwtS2kA161M+gJPc1xdb/Ax629af6YrTwcOeQHbewrPNlE5Dx7kzvXTizA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.4",
        "generator-function": "^2.0.0",
        "get-proto": "^1.0.1",
        "has-tostringtag": "^1.0.2",
        "safe-regex-test": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-glob": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/is-glob/-/is-glob-4.0.3.tgz",
      "integrity": "sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-extglob": "^2.1.1"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-map": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/is-map/-/is-map-2.0.3.tgz",
      "integrity": "sha512-1Qed0/Hr2m+YqxnM09CjA2d/i6YZNfF6R2oRAOj36eUdS6qIV/huPJNSEpKbupewFs+ZsJlxsjjPbc0/afW6Lw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-negative-zero": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/is-negative-zero/-/is-negative-zero-2.0.3.tgz",
      "integrity": "sha512-5KoIu2Ngpyek75jXodFvnafB6DJgr3u8uuK0LEZJjrU19DrMD3EVERaR8sjz8CCGgpZvxPl9SuE1GMVPFHx1mw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-number": {
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz",
      "integrity": "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.12.0"
      }
    },
    "node_modules/is-number-object": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/is-number-object/-/is-number-object-1.1.1.tgz",
      "integrity": "sha512-lZhclumE1G6VYD8VHe35wFaIif+CTy5SJIi5+3y4psDgWu4wPDoBhF8NxUOinEc7pHgiTsT6MaBb92rKhhD+Xw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.3",
        "has-tostringtag": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-regex": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/is-regex/-/is-regex-1.2.1.tgz",
      "integrity": "sha512-MjYsKHO5O7mCsmRGxWcLWheFqN9DJ/2TmngvjKXihe6efViPqc274+Fx/4fYj/r03+ESvBdTXK0V6tA3rgez1g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.2",
        "gopd": "^1.2.0",
        "has-tostringtag": "^1.0.2",
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-set": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/is-set/-/is-set-2.0.3.tgz",
      "integrity": "sha512-iPAjerrse27/ygGLxw+EBR9agv9Y6uLeYVJMu+QNCoouJ1/1ri0mGrcWpfCqFZuzzx3WjtwxG098X+n4OuRkPg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-shared-array-buffer": {
      "version": "1.0.4",
      "resolved": "https://registry.npmjs.org/is-shared-array-buffer/-/is-shared-array-buffer-1.0.4.tgz",
      "integrity": "sha512-ISWac8drv4ZGfwKl5slpHG9OwPNty4jOWPRIhBpxOoD+hqITiwuipOQ2bNthAzwA3B4fIjO4Nln74N0S9byq8A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-string": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/is-string/-/is-string-1.1.1.tgz",
      "integrity": "sha512-BtEeSsoaQjlSPBemMQIrY1MY0uM6vnS1g5fmufYOtnxLGUZM2178PKbhsk7Ffv58IX+ZtcvoGwccYsh0PglkAA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.3",
        "has-tostringtag": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-symbol": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/is-symbol/-/is-symbol-1.1.1.tgz",
      "integrity": "sha512-9gGx6GTtCQM73BgmHQXfDmLtfjjTUDSyoxTCbp5WtoixAhfgsDirWIcVQ/IHpvI5Vgd5i/J5F7B9cN/WlVbC/w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.2",
        "has-symbols": "^1.1.0",
        "safe-regex-test": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-typed-array": {
      "version": "1.1.15",
      "resolved": "https://registry.npmjs.org/is-typed-array/-/is-typed-array-1.1.15.tgz",
      "integrity": "sha512-p3EcsicXjit7SaskXHs1hA91QxgTw46Fv6EFKKGS5DRFLD8yKnohjF3hxoju94b/OcMZoQukzpPpBE9uLVKzgQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "which-typed-array": "^1.1.16"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-weakmap": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/is-weakmap/-/is-weakmap-2.0.2.tgz",
      "integrity": "sha512-K5pXYOm9wqY1RgjpL3YTkF39tni1XajUIkawTLUo9EZEVUFga5gSQJF8nNS7ZwJQ02y+1YCNYcMh+HIf1ZqE+w==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-weakref": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/is-weakref/-/is-weakref-1.1.1.tgz",
      "integrity": "sha512-6i9mGWSlqzNMEqpCp93KwRS1uUOodk2OJ6b+sq7ZPDSy2WuI5NFIxp/254TytR8ftefexkWn5xNiHUNpPOfSew==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-weakset": {
      "version": "2.0.4",
      "resolved": "https://registry.npmjs.org/is-weakset/-/is-weakset-2.0.4.tgz",
      "integrity": "sha512-mfcwb6IzQyOKTs84CQMrOwW4gQcaTOAWJ0zzJCl2WSPDrWk/OzDaImWFH3djXhb24g4eudZfLRozAvPGw4d9hQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.3",
        "get-intrinsic": "^1.2.6"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/isarray": {
      "version": "2.0.5",
      "resolved": "https://registry.npmjs.org/isarray/-/isarray-2.0.5.tgz",
      "integrity": "sha512-xHjhDr3cNBK0BzdUJSPXZntQUx/mwMS5Rw4A7lPJ90XGAO6ISP/ePDNuo0vhqOZU+UD5JoodwCAAoZQd3FeAKw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/isexe": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz",
      "integrity": "sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/iterator.prototype": {
      "version": "1.1.5",
      "resolved": "https://registry.npmjs.org/iterator.prototype/-/iterator.prototype-1.1.5.tgz",
      "integrity": "sha512-H0dkQoCa3b2VEeKQBOxFph+JAbcrQdE7KC0UkqwpLmv2EC4P41QXP+rqo9wYodACiG5/WM5s9oDApTU8utwj9g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "define-data-property": "^1.1.4",
        "es-object-atoms": "^1.0.0",
        "get-intrinsic": "^1.2.6",
        "get-proto": "^1.0.0",
        "has-symbols": "^1.1.0",
        "set-function-name": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/jiti": {
      "version": "2.6.1",
      "resolved": "https://registry.npmjs.org/jiti/-/jiti-2.6.1.tgz",
      "integrity": "sha512-ekilCSN1jwRvIbgeg/57YFh8qQDNbwDb9xT/qu2DAHbFFZUicIl4ygVaAvzveMhMVr3LnpSKTNnwt8PoOfmKhQ==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "jiti": "lib/jiti-cli.mjs"
      }
    },
    "node_modules/js-tokens": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
      "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/js-yaml": {
      "version": "4.1.1",
      "resolved": "https://registry.npmjs.org/js-yaml/-/js-yaml-4.1.1.tgz",
      "integrity": "sha512-qQKT4zQxXl8lLwBtHMWwaTcGfFOZviOJet3Oy/xmGk2gZH677CJM9EvtfdSkgWcATZhj/55JZ0rmy3myCT5lsA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "argparse": "^2.0.1"
      },
      "bin": {
        "js-yaml": "bin/js-yaml.js"
      }
    },
    "node_modules/jsesc": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/jsesc/-/jsesc-3.1.0.tgz",
      "integrity": "sha512-/sM3dO2FOzXjKQhJuo0Q173wf2KOo8t4I8vHy6lF9poUp7bKT0/NHE8fPX23PwfhnykfqnC2xRxOnVw5XuGIaA==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "jsesc": "bin/jsesc"
      },
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/json-buffer": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/json-buffer/-/json-buffer-3.0.1.tgz",
      "integrity": "sha512-4bV5BfR2mqfQTJm+V5tPPdf+ZpuhiIvTuAB5g8kcrXOZpTT/QwwVRWBywX1ozr6lEuPdbHxwaJlm9G6mI2sfSQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/json-schema-traverse": {
      "version": "0.4.1",
      "resolved": "https://registry.npmjs.org/json-schema-traverse/-/json-schema-traverse-0.4.1.tgz",
      "integrity": "sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/json-stable-stringify-without-jsonify": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/json-stable-stringify-without-jsonify/-/json-stable-stringify-without-jsonify-1.0.1.tgz",
      "integrity": "sha512-Bdboy+l7tA3OGW6FjyFHWkP5LuByj1Tk33Ljyq0axyzdk9//JSi2u3fP1QSmd1KNwq6VOKYGlAu87CisVir6Pw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/json5": {
      "version": "2.2.3",
      "resolved": "https://registry.npmjs.org/json5/-/json5-2.2.3.tgz",
      "integrity": "sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "json5": "lib/cli.js"
      },
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/jsx-ast-utils": {
      "version": "3.3.5",
      "resolved": "https://registry.npmjs.org/jsx-ast-utils/-/jsx-ast-utils-3.3.5.tgz",
      "integrity": "sha512-ZZow9HBI5O6EPgSJLUb8n2NKgmVWTwCvHGwFuJlMjvLFqlGG6pjirPhtdsseaLZjSibD8eegzmYpUZwoIlj2cQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "array-includes": "^3.1.6",
        "array.prototype.flat": "^1.3.1",
        "object.assign": "^4.1.4",
        "object.values": "^1.1.6"
      },
      "engines": {
        "node": ">=4.0"
      }
    },
    "node_modules/keyv": {
      "version": "4.5.4",
      "resolved": "https://registry.npmjs.org/keyv/-/keyv-4.5.4.tgz",
      "integrity": "sha512-oxVHkHR/EJf2CNXnWxRLW6mg7JyCCUcG0DtEGmL2ctUo1PNTin1PUil+r/+4r5MpVgC/fn1kjsx7mjSujKqIpw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "json-buffer": "3.0.1"
      }
    },
    "node_modules/language-subtag-registry": {
      "version": "0.3.23",
      "resolved": "https://registry.npmjs.org/language-subtag-registry/-/language-subtag-registry-0.3.23.tgz",
      "integrity": "sha512-0K65Lea881pHotoGEa5gDlMxt3pctLi2RplBb7Ezh4rRdLEOtgi7n4EwK9lamnUCkKBqaeKRVebTq6BAxSkpXQ==",
      "dev": true,
      "license": "CC0-1.0"
    },
    "node_modules/language-tags": {
      "version": "1.0.9",
      "resolved": "https://registry.npmjs.org/language-tags/-/language-tags-1.0.9.tgz",
      "integrity": "sha512-MbjN408fEndfiQXbFQ1vnd+1NoLDsnQW41410oQBXiyXDMYH5z505juWa4KUE1LqxRC7DgOgZDbKLxHIwm27hA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "language-subtag-registry": "^0.3.20"
      },
      "engines": {
        "node": ">=0.10"
      }
    },
    "node_modules/levn": {
      "version": "0.4.1",
      "resolved": "https://registry.npmjs.org/levn/-/levn-0.4.1.tgz",
      "integrity": "sha512-+bT2uH4E5LGE7h/n3evcS/sQlJXCpIp6ym8OWJ5eV6+67Dsql/LaaT7qJBAt2rzfoa/5QBGBhxDix1dMt2kQKQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "prelude-ls": "^1.2.1",
        "type-check": "~0.4.0"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/lightningcss": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss/-/lightningcss-1.30.2.tgz",
      "integrity": "sha512-utfs7Pr5uJyyvDETitgsaqSyjCb2qNRAtuqUeWIAKztsOYdcACf2KtARYXg2pSvhkt+9NfoaNY7fxjl6nuMjIQ==",
      "dev": true,
      "license": "MPL-2.0",
      "dependencies": {
        "detect-libc": "^2.0.3"
      },
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      },
      "optionalDependencies": {
        "lightningcss-android-arm64": "1.30.2",
        "lightningcss-darwin-arm64": "1.30.2",
        "lightningcss-darwin-x64": "1.30.2",
        "lightningcss-freebsd-x64": "1.30.2",
        "lightningcss-linux-arm-gnueabihf": "1.30.2",
        "lightningcss-linux-arm64-gnu": "1.30.2",
        "lightningcss-linux-arm64-musl": "1.30.2",
        "lightningcss-linux-x64-gnu": "1.30.2",
        "lightningcss-linux-x64-musl": "1.30.2",
        "lightningcss-win32-arm64-msvc": "1.30.2",
        "lightningcss-win32-x64-msvc": "1.30.2"
      }
    },
    "node_modules/lightningcss-android-arm64": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-android-arm64/-/lightningcss-android-arm64-1.30.2.tgz",
      "integrity": "sha512-BH9sEdOCahSgmkVhBLeU7Hc9DWeZ1Eb6wNS6Da8igvUwAe0sqROHddIlvU06q3WyXVEOYDZ6ykBZQnjTbmo4+A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-darwin-arm64": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-darwin-arm64/-/lightningcss-darwin-arm64-1.30.2.tgz",
      "integrity": "sha512-ylTcDJBN3Hp21TdhRT5zBOIi73P6/W0qwvlFEk22fkdXchtNTOU4Qc37SkzV+EKYxLouZ6M4LG9NfZ1qkhhBWA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-darwin-x64": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-darwin-x64/-/lightningcss-darwin-x64-1.30.2.tgz",
      "integrity": "sha512-oBZgKchomuDYxr7ilwLcyms6BCyLn0z8J0+ZZmfpjwg9fRVZIR5/GMXd7r9RH94iDhld3UmSjBM6nXWM2TfZTQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-freebsd-x64": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-freebsd-x64/-/lightningcss-freebsd-x64-1.30.2.tgz",
      "integrity": "sha512-c2bH6xTrf4BDpK8MoGG4Bd6zAMZDAXS569UxCAGcA7IKbHNMlhGQ89eRmvpIUGfKWNVdbhSbkQaWhEoMGmGslA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-arm-gnueabihf": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-arm-gnueabihf/-/lightningcss-linux-arm-gnueabihf-1.30.2.tgz",
      "integrity": "sha512-eVdpxh4wYcm0PofJIZVuYuLiqBIakQ9uFZmipf6LF/HRj5Bgm0eb3qL/mr1smyXIS1twwOxNWndd8z0E374hiA==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-arm64-gnu": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-arm64-gnu/-/lightningcss-linux-arm64-gnu-1.30.2.tgz",
      "integrity": "sha512-UK65WJAbwIJbiBFXpxrbTNArtfuznvxAJw4Q2ZGlU8kPeDIWEX1dg3rn2veBVUylA2Ezg89ktszWbaQnxD/e3A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-arm64-musl": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-arm64-musl/-/lightningcss-linux-arm64-musl-1.30.2.tgz",
      "integrity": "sha512-5Vh9dGeblpTxWHpOx8iauV02popZDsCYMPIgiuw97OJ5uaDsL86cnqSFs5LZkG3ghHoX5isLgWzMs+eD1YzrnA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-x64-gnu": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-x64-gnu/-/lightningcss-linux-x64-gnu-1.30.2.tgz",
      "integrity": "sha512-Cfd46gdmj1vQ+lR6VRTTadNHu6ALuw2pKR9lYq4FnhvgBc4zWY1EtZcAc6EffShbb1MFrIPfLDXD6Xprbnni4w==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-x64-musl": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-x64-musl/-/lightningcss-linux-x64-musl-1.30.2.tgz",
      "integrity": "sha512-XJaLUUFXb6/QG2lGIW6aIk6jKdtjtcffUT0NKvIqhSBY3hh9Ch+1LCeH80dR9q9LBjG3ewbDjnumefsLsP6aiA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-win32-arm64-msvc": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-win32-arm64-msvc/-/lightningcss-win32-arm64-msvc-1.30.2.tgz",
      "integrity": "sha512-FZn+vaj7zLv//D/192WFFVA0RgHawIcHqLX9xuWiQt7P0PtdFEVaxgF9rjM/IRYHQXNnk61/H/gb2Ei+kUQ4xQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-win32-x64-msvc": {
      "version": "1.30.2",
      "resolved": "https://registry.npmjs.org/lightningcss-win32-x64-msvc/-/lightningcss-win32-x64-msvc-1.30.2.tgz",
      "integrity": "sha512-5g1yc73p+iAkid5phb4oVFMB45417DkRevRbt/El/gKXJk4jid+vPFF/AXbxn05Aky8PapwzZrdJShv5C0avjw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/locate-path": {
      "version": "6.0.0",
      "resolved": "https://registry.npmjs.org/locate-path/-/locate-path-6.0.0.tgz",
      "integrity": "sha512-iPZK6eYjbxRu3uB4/WZ3EsEIMJFMqAoopl3R+zuq0UjcAm/MO6KCweDgPfP3elTztoKP3KtnVHxTn2NHBSDVUw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "p-locate": "^5.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/lodash.merge": {
      "version": "4.6.2",
      "resolved": "https://registry.npmjs.org/lodash.merge/-/lodash.merge-4.6.2.tgz",
      "integrity": "sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/loose-envify": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/loose-envify/-/loose-envify-1.4.0.tgz",
      "integrity": "sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "js-tokens": "^3.0.0 || ^4.0.0"
      },
      "bin": {
        "loose-envify": "cli.js"
      }
    },
    "node_modules/lru-cache": {
      "version": "5.1.1",
      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-5.1.1.tgz",
      "integrity": "sha512-KpNARQA3Iwv+jTA0utUVVbrh+Jlrr1Fv0e56GGzAFOXN7dk/FviaDW8LHmK52DlcH4WP2n6gI8vN1aesBFgo9w==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "yallist": "^3.0.2"
      }
    },
    "node_modules/lucide-react": {
      "version": "0.562.0",
      "resolved": "https://registry.npmjs.org/lucide-react/-/lucide-react-0.562.0.tgz",
      "integrity": "sha512-82hOAu7y0dbVuFfmO4bYF1XEwYk/mEbM5E+b1jgci/udUBEE/R7LF5Ip0CCEmXe8AybRM8L+04eP+LGZeDvkiw==",
      "license": "ISC",
      "peerDependencies": {
        "react": "^16.5.1 || ^17.0.0 || ^18.0.0 || ^19.0.0"
      }
    },
    "node_modules/magic-string": {
      "version": "0.30.21",
      "resolved": "https://registry.npmjs.org/magic-string/-/magic-string-0.30.21.tgz",
      "integrity": "sha512-vd2F4YUyEXKGcLHoq+TEyCjxueSeHnFxyyjNp80yg0XV4vUhnDer/lvvlqM/arB5bXQN5K2/3oinyCRyx8T2CQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/sourcemap-codec": "^1.5.5"
      }
    },
    "node_modules/math-intrinsics": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/math-intrinsics/-/math-intrinsics-1.1.0.tgz",
      "integrity": "sha512-/IXtbwEk5HTPyEwyKX6hGkYXxM9nbj64B+ilVJnC/R6B0pH5G4V3b0pVbL7DBj4tkhBAppbQUlf6F6Xl9LHu1g==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/merge2": {
      "version": "1.4.1",
      "resolved": "https://registry.npmjs.org/merge2/-/merge2-1.4.1.tgz",
      "integrity": "sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/micromatch": {
      "version": "4.0.8",
      "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-4.0.8.tgz",
      "integrity": "sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "braces": "^3.0.3",
        "picomatch": "^2.3.1"
      },
      "engines": {
        "node": ">=8.6"
      }
    },
    "node_modules/minimatch": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-3.1.2.tgz",
      "integrity": "sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "brace-expansion": "^1.1.7"
      },
      "engines": {
        "node": "*"
      }
    },
    "node_modules/minimist": {
      "version": "1.2.8",
      "resolved": "https://registry.npmjs.org/minimist/-/minimist-1.2.8.tgz",
      "integrity": "sha512-2yyAR8qBkN3YuheJanUpWC5U3bb5osDywNB8RzDVlDwDHbocAJveqqj1u8+SVD7jkWT4yvsHCpWqqWqAxb0zCA==",
      "dev": true,
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/ms": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/ms/-/ms-2.1.3.tgz",
      "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/nanoid": {
      "version": "3.3.11",
      "resolved": "https://registry.npmjs.org/nanoid/-/nanoid-3.3.11.tgz",
      "integrity": "sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "bin": {
        "nanoid": "bin/nanoid.cjs"
      },
      "engines": {
        "node": "^10 || ^12 || ^13.7 || ^14 || >=15.0.1"
      }
    },
    "node_modules/napi-postinstall": {
      "version": "0.3.4",
      "resolved": "https://registry.npmjs.org/napi-postinstall/-/napi-postinstall-0.3.4.tgz",
      "integrity": "sha512-PHI5f1O0EP5xJ9gQmFGMS6IZcrVvTjpXjz7Na41gTE7eE2hK11lg04CECCYEEjdc17EV4DO+fkGEtt7TpTaTiQ==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "napi-postinstall": "lib/cli.js"
      },
      "engines": {
        "node": "^12.20.0 || ^14.18.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/napi-postinstall"
      }
    },
    "node_modules/natural-compare": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/natural-compare/-/natural-compare-1.4.0.tgz",
      "integrity": "sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/next": {
      "version": "16.1.1",
      "resolved": "https://registry.npmjs.org/next/-/next-16.1.1.tgz",
      "integrity": "sha512-QI+T7xrxt1pF6SQ/JYFz95ro/mg/1Znk5vBebsWwbpejj1T0A23hO7GYEaVac9QUOT2BIMiuzm0L99ooq7k0/w==",
      "license": "MIT",
      "dependencies": {
        "@next/env": "16.1.1",
        "@swc/helpers": "0.5.15",
        "baseline-browser-mapping": "^2.8.3",
        "caniuse-lite": "^1.0.30001579",
        "postcss": "8.4.31",
        "styled-jsx": "5.1.6"
      },
      "bin": {
        "next": "dist/bin/next"
      },
      "engines": {
        "node": ">=20.9.0"
      },
      "optionalDependencies": {
        "@next/swc-darwin-arm64": "16.1.1",
        "@next/swc-darwin-x64": "16.1.1",
        "@next/swc-linux-arm64-gnu": "16.1.1",
        "@next/swc-linux-arm64-musl": "16.1.1",
        "@next/swc-linux-x64-gnu": "16.1.1",
        "@next/swc-linux-x64-musl": "16.1.1",
        "@next/swc-win32-arm64-msvc": "16.1.1",
        "@next/swc-win32-x64-msvc": "16.1.1",
        "sharp": "^0.34.4"
      },
      "peerDependencies": {
        "@opentelemetry/api": "^1.1.0",
        "@playwright/test": "^1.51.1",
        "babel-plugin-react-compiler": "*",
        "react": "^18.2.0 || 19.0.0-rc-de68d2f4-20241204 || ^19.0.0",
        "react-dom": "^18.2.0 || 19.0.0-rc-de68d2f4-20241204 || ^19.0.0",
        "sass": "^1.3.0"
      },
      "peerDependenciesMeta": {
        "@opentelemetry/api": {
          "optional": true
        },
        "@playwright/test": {
          "optional": true
        },
        "babel-plugin-react-compiler": {
          "optional": true
        },
        "sass": {
          "optional": true
        }
      }
    },
    "node_modules/next/node_modules/postcss": {
      "version": "8.4.31",
      "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.4.31.tgz",
      "integrity": "sha512-PS08Iboia9mts/2ygV3eLpY5ghnUcfLV/EXTOW1E2qYxJKGGBUtNjN76FYHnMs36RmARn41bC0AZmn+rR0OVpQ==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/postcss"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "nanoid": "^3.3.6",
        "picocolors": "^1.0.0",
        "source-map-js": "^1.0.2"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      }
    },
    "node_modules/node-releases": {
      "version": "2.0.27",
      "resolved": "https://registry.npmjs.org/node-releases/-/node-releases-2.0.27.tgz",
      "integrity": "sha512-nmh3lCkYZ3grZvqcCH+fjmQ7X+H0OeZgP40OierEaAptX4XofMh5kwNbWh7lBduUzCcV/8kZ+NDLCwm2iorIlA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/object-assign": {
      "version": "4.1.1",
      "resolved": "https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz",
      "integrity": "sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/object-inspect": {
      "version": "1.13.4",
      "resolved": "https://registry.npmjs.org/object-inspect/-/object-inspect-1.13.4.tgz",
      "integrity": "sha512-W67iLl4J2EXEGTbfeHCffrjDfitvLANg0UlX3wFUUSTx92KXRFegMHUVgSqE+wvhAbi4WqjGg9czysTV2Epbew==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/object-keys": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/object-keys/-/object-keys-1.1.1.tgz",
      "integrity": "sha512-NuAESUOUMrlIXOfHKzD6bpPu3tYt3xvjNdRIQ+FeT0lNb4K8WR70CaDxhuNguS2XG+GjkyMwOzsN5ZktImfhLA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/object.assign": {
      "version": "4.1.7",
      "resolved": "https://registry.npmjs.org/object.assign/-/object.assign-4.1.7.tgz",
      "integrity": "sha512-nK28WOo+QIjBkDduTINE4JkF/UJJKyf2EJxvJKfblDpyg0Q+pkOHNTL0Qwy6NP6FhE/EnzV73BxxqcJaXY9anw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.3",
        "define-properties": "^1.2.1",
        "es-object-atoms": "^1.0.0",
        "has-symbols": "^1.1.0",
        "object-keys": "^1.1.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/object.entries": {
      "version": "1.1.9",
      "resolved": "https://registry.npmjs.org/object.entries/-/object.entries-1.1.9.tgz",
      "integrity": "sha512-8u/hfXFRBD1O0hPUjioLhoWFHRmt6tKA4/vZPyckBr18l1KE9uHrFaFaUi8MDRTpi4uak2goyPTSNJLXX2k2Hw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.4",
        "define-properties": "^1.2.1",
        "es-object-atoms": "^1.1.1"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/object.fromentries": {
      "version": "2.0.8",
      "resolved": "https://registry.npmjs.org/object.fromentries/-/object.fromentries-2.0.8.tgz",
      "integrity": "sha512-k6E21FzySsSK5a21KRADBd/NGneRegFO5pLHfdQLpRDETUNJueLXs3WCzyQ3tFRDYgbq3KHGXfTbi2bs8WQ6rQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.7",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.2",
        "es-object-atoms": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/object.groupby": {
      "version": "1.0.3",
      "resolved": "https://registry.npmjs.org/object.groupby/-/object.groupby-1.0.3.tgz",
      "integrity": "sha512-+Lhy3TQTuzXI5hevh8sBGqbmurHbbIjAi0Z4S63nthVLmLxfbj4T54a4CfZrXIrt9iP4mVAPYMo/v99taj3wjQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.7",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/object.values": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/object.values/-/object.values-1.2.1.tgz",
      "integrity": "sha512-gXah6aZrcUxjWg2zR2MwouP2eHlCBzdV4pygudehaKXSGW4v2AsRQUK+lwwXhii6KFZcunEnmSUoYp5CXibxtA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.3",
        "define-properties": "^1.2.1",
        "es-object-atoms": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/optionator": {
      "version": "0.9.4",
      "resolved": "https://registry.npmjs.org/optionator/-/optionator-0.9.4.tgz",
      "integrity": "sha512-6IpQ7mKUxRcZNLIObR0hz7lxsapSSIYNZJwXPGeF0mTVqGKFIXj1DQcMoT22S3ROcLyY/rz0PWaWZ9ayWmad9g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "deep-is": "^0.1.3",
        "fast-levenshtein": "^2.0.6",
        "levn": "^0.4.1",
        "prelude-ls": "^1.2.1",
        "type-check": "^0.4.0",
        "word-wrap": "^1.2.5"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/own-keys": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/own-keys/-/own-keys-1.0.1.tgz",
      "integrity": "sha512-qFOyK5PjiWZd+QQIh+1jhdb9LpxTF0qs7Pm8o5QHYZ0M3vKqSqzsZaEB6oWlxZ+q2sJBMI/Ktgd2N5ZwQoRHfg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "get-intrinsic": "^1.2.6",
        "object-keys": "^1.1.1",
        "safe-push-apply": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/p-limit": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/p-limit/-/p-limit-3.1.0.tgz",
      "integrity": "sha512-TYOanM3wGwNGsZN2cVTYPArw454xnXj5qmWF1bEoAc4+cU/ol7GVh7odevjp1FNHduHc3KZMcFduxU5Xc6uJRQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "yocto-queue": "^0.1.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/p-locate": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/p-locate/-/p-locate-5.0.0.tgz",
      "integrity": "sha512-LaNjtRWUBY++zB5nE/NwcaoMylSPk+S+ZHNB1TzdbMJMny6dynpAGt7X/tl/QYq3TIeE6nxHppbo2LGymrG5Pw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "p-limit": "^3.0.2"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/parent-module": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/parent-module/-/parent-module-1.0.1.tgz",
      "integrity": "sha512-GQ2EWRpQV8/o+Aw8YqtfZZPfNRWZYkbidE9k5rpl/hC3vtHHBfGm2Ifi6qWV+coDGkrUKZAxE3Lot5kcsRlh+g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "callsites": "^3.0.0"
      },
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/path-exists": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/path-exists/-/path-exists-4.0.0.tgz",
      "integrity": "sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/path-key": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz",
      "integrity": "sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/path-parse": {
      "version": "1.0.7",
      "resolved": "https://registry.npmjs.org/path-parse/-/path-parse-1.0.7.tgz",
      "integrity": "sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/picocolors": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz",
      "integrity": "sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==",
      "license": "ISC"
    },
    "node_modules/picomatch": {
      "version": "2.3.1",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz",
      "integrity": "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8.6"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/possible-typed-array-names": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/possible-typed-array-names/-/possible-typed-array-names-1.1.0.tgz",
      "integrity": "sha512-/+5VFTchJDoVj3bhoqi6UeymcD00DAwb1nJwamzPvHEszJ4FpF6SNNbUbOS8yI56qHzdV8eK0qEfOSiodkTdxg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/postcss": {
      "version": "8.5.6",
      "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.5.6.tgz",
      "integrity": "sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/postcss"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "nanoid": "^3.3.11",
        "picocolors": "^1.1.1",
        "source-map-js": "^1.2.1"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      }
    },
    "node_modules/prelude-ls": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/prelude-ls/-/prelude-ls-1.2.1.tgz",
      "integrity": "sha512-vkcDPrRZo1QZLbn5RLGPpg/WmIQ65qoWWhcGKf/b5eplkkarX0m9z8ppCat4mlOqUsWpyNuYgO3VRyrYHSzX5g==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/prop-types": {
      "version": "15.8.1",
      "resolved": "https://registry.npmjs.org/prop-types/-/prop-types-15.8.1.tgz",
      "integrity": "sha512-oj87CgZICdulUohogVAR7AjlC0327U4el4L6eAvOqCeudMDVU0NThNaV+b9Df4dXgSP1gXMTnPdhfe/2qDH5cg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "loose-envify": "^1.4.0",
        "object-assign": "^4.1.1",
        "react-is": "^16.13.1"
      }
    },
    "node_modules/punycode": {
      "version": "2.3.1",
      "resolved": "https://registry.npmjs.org/punycode/-/punycode-2.3.1.tgz",
      "integrity": "sha512-vYt7UD1U9Wg6138shLtLOvdAu+8DsC/ilFtEVHcH+wydcSpNE20AfSOduf6MkRFahL5FY7X1oU7nKVZFtfq8Fg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/queue-microtask": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/queue-microtask/-/queue-microtask-1.2.3.tgz",
      "integrity": "sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT"
    },
    "node_modules/react": {
      "version": "19.2.3",
      "resolved": "https://registry.npmjs.org/react/-/react-19.2.3.tgz",
      "integrity": "sha512-Ku/hhYbVjOQnXDZFv2+RibmLFGwFdeeKHFcOTlrt7xplBnya5OGn/hIRDsqDiSUcfORsDC7MPxwork8jBwsIWA==",
      "license": "MIT",
      "peer": true,
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/react-dom": {
      "version": "19.2.3",
      "resolved": "https://registry.npmjs.org/react-dom/-/react-dom-19.2.3.tgz",
      "integrity": "sha512-yELu4WmLPw5Mr/lmeEpox5rw3RETacE++JgHqQzd2dg+YbJuat3jH4ingc+WPZhxaoFzdv9y33G+F7Nl5O0GBg==",
      "license": "MIT",
      "peer": true,
      "dependencies": {
        "scheduler": "^0.27.0"
      },
      "peerDependencies": {
        "react": "^19.2.3"
      }
    },
    "node_modules/react-is": {
      "version": "16.13.1",
      "resolved": "https://registry.npmjs.org/react-is/-/react-is-16.13.1.tgz",
      "integrity": "sha512-24e6ynE2H+OKt4kqsOvNd8kBpV65zoxbA4BVsEOB3ARVWQki/DHzaUoC5KuON/BiccDaCCTZBuOcfZs70kR8bQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/reflect.getprototypeof": {
      "version": "1.0.10",
      "resolved": "https://registry.npmjs.org/reflect.getprototypeof/-/reflect.getprototypeof-1.0.10.tgz",
      "integrity": "sha512-00o4I+DVrefhv+nX0ulyi3biSHCPDe+yLv5o/p6d/UVlirijB8E16FtfwSAi4g3tcqrQ4lRAqQSoFEZJehYEcw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.9",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.0.0",
        "get-intrinsic": "^1.2.7",
        "get-proto": "^1.0.1",
        "which-builtin-type": "^1.2.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/regexp.prototype.flags": {
      "version": "1.5.4",
      "resolved": "https://registry.npmjs.org/regexp.prototype.flags/-/regexp.prototype.flags-1.5.4.tgz",
      "integrity": "sha512-dYqgNSZbDwkaJ2ceRd9ojCGjBq+mOm9LmtXnAnEGyHhN/5R7iDW2TRw3h+o/jCFxus3P2LfWIIiwowAjANm7IA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "define-properties": "^1.2.1",
        "es-errors": "^1.3.0",
        "get-proto": "^1.0.1",
        "gopd": "^1.2.0",
        "set-function-name": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/resolve": {
      "version": "1.22.11",
      "resolved": "https://registry.npmjs.org/resolve/-/resolve-1.22.11.tgz",
      "integrity": "sha512-RfqAvLnMl313r7c9oclB1HhUEAezcpLjz95wFH4LVuhk9JF/r22qmVP9AMmOU4vMX7Q8pN8jwNg/CSpdFnMjTQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-core-module": "^2.16.1",
        "path-parse": "^1.0.7",
        "supports-preserve-symlinks-flag": "^1.0.0"
      },
      "bin": {
        "resolve": "bin/resolve"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/resolve-from": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/resolve-from/-/resolve-from-4.0.0.tgz",
      "integrity": "sha512-pb/MYmXstAkysRFx8piNI1tGFNQIFA3vkE3Gq4EuA1dF6gHp/+vgZqsCGJapvy8N3Q+4o7FwvquPJcnZ7RYy4g==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/resolve-pkg-maps": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/resolve-pkg-maps/-/resolve-pkg-maps-1.0.0.tgz",
      "integrity": "sha512-seS2Tj26TBVOC2NIc2rOe2y2ZO7efxITtLZcGSOnHHNOQ7CkiUBfw0Iw2ck6xkIhPwLhKNLS8BO+hEpngQlqzw==",
      "dev": true,
      "license": "MIT",
      "funding": {
        "url": "https://github.com/privatenumber/resolve-pkg-maps?sponsor=1"
      }
    },
    "node_modules/reusify": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/reusify/-/reusify-1.1.0.tgz",
      "integrity": "sha512-g6QUff04oZpHs0eG5p83rFLhHeV00ug/Yf9nZM6fLeUrPguBTkTQOdpAWWspMh55TZfVQDPaN3NQJfbVRAxdIw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "iojs": ">=1.0.0",
        "node": ">=0.10.0"
      }
    },
    "node_modules/run-parallel": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/run-parallel/-/run-parallel-1.2.0.tgz",
      "integrity": "sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "queue-microtask": "^1.2.2"
      }
    },
    "node_modules/safe-array-concat": {
      "version": "1.1.3",
      "resolved": "https://registry.npmjs.org/safe-array-concat/-/safe-array-concat-1.1.3.tgz",
      "integrity": "sha512-AURm5f0jYEOydBj7VQlVvDrjeFgthDdEF5H1dP+6mNpoXOMo1quQqJ4wvJDyRZ9+pO3kGWoOdmV08cSv2aJV6Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.2",
        "get-intrinsic": "^1.2.6",
        "has-symbols": "^1.1.0",
        "isarray": "^2.0.5"
      },
      "engines": {
        "node": ">=0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/safe-push-apply": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/safe-push-apply/-/safe-push-apply-1.0.0.tgz",
      "integrity": "sha512-iKE9w/Z7xCzUMIZqdBsp6pEQvwuEebH4vdpjcDWnyzaI6yl6O9FHvVpmGelvEHNsoY6wGblkxR6Zty/h00WiSA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0",
        "isarray": "^2.0.5"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/safe-regex-test": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/safe-regex-test/-/safe-regex-test-1.1.0.tgz",
      "integrity": "sha512-x/+Cz4YrimQxQccJf5mKEbIa1NzeCRNI5Ecl/ekmlYaampdNLPalVyIcCZNNH3MvmqBugV5TMYZXv0ljslUlaw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.2",
        "es-errors": "^1.3.0",
        "is-regex": "^1.2.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/scheduler": {
      "version": "0.27.0",
      "resolved": "https://registry.npmjs.org/scheduler/-/scheduler-0.27.0.tgz",
      "integrity": "sha512-eNv+WrVbKu1f3vbYJT/xtiF5syA5HPIMtf9IgY/nKg0sWqzAUEvqY/xm7OcZc/qafLx/iO9FgOmeSAp4v5ti/Q==",
      "license": "MIT"
    },
    "node_modules/semver": {
      "version": "6.3.1",
      "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
      "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
      "dev": true,
      "license": "ISC",
      "bin": {
        "semver": "bin/semver.js"
      }
    },
    "node_modules/set-function-length": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/set-function-length/-/set-function-length-1.2.2.tgz",
      "integrity": "sha512-pgRc4hJ4/sNjWCSS9AmnS40x3bNMDTknHgL5UaMBTMyJnU90EgWh1Rz+MC9eFu4BuN/UwZjKQuY/1v3rM7HMfg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "define-data-property": "^1.1.4",
        "es-errors": "^1.3.0",
        "function-bind": "^1.1.2",
        "get-intrinsic": "^1.2.4",
        "gopd": "^1.0.1",
        "has-property-descriptors": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/set-function-name": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/set-function-name/-/set-function-name-2.0.2.tgz",
      "integrity": "sha512-7PGFlmtwsEADb0WYyvCMa1t+yke6daIG4Wirafur5kcf+MhUnPms1UeR0CKQdTZD81yESwMHbtn+TR+dMviakQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "define-data-property": "^1.1.4",
        "es-errors": "^1.3.0",
        "functions-have-names": "^1.2.3",
        "has-property-descriptors": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/set-proto": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/set-proto/-/set-proto-1.0.0.tgz",
      "integrity": "sha512-RJRdvCo6IAnPdsvP/7m6bsQqNnn1FCBX5ZNtFL98MmFF/4xAIJTIg1YbHW5DC2W5SKZanrC6i4HsJqlajw/dZw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "dunder-proto": "^1.0.1",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/sharp": {
      "version": "0.34.5",
      "resolved": "https://registry.npmjs.org/sharp/-/sharp-0.34.5.tgz",
      "integrity": "sha512-Ou9I5Ft9WNcCbXrU9cMgPBcCK8LiwLqcbywW3t4oDV37n1pzpuNLsYiAV8eODnjbtQlSDwZ2cUEeQz4E54Hltg==",
      "hasInstallScript": true,
      "license": "Apache-2.0",
      "optional": true,
      "dependencies": {
        "@img/colour": "^1.0.0",
        "detect-libc": "^2.1.2",
        "semver": "^7.7.3"
      },
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-darwin-arm64": "0.34.5",
        "@img/sharp-darwin-x64": "0.34.5",
        "@img/sharp-libvips-darwin-arm64": "1.2.4",
        "@img/sharp-libvips-darwin-x64": "1.2.4",
        "@img/sharp-libvips-linux-arm": "1.2.4",
        "@img/sharp-libvips-linux-arm64": "1.2.4",
        "@img/sharp-libvips-linux-ppc64": "1.2.4",
        "@img/sharp-libvips-linux-riscv64": "1.2.4",
        "@img/sharp-libvips-linux-s390x": "1.2.4",
        "@img/sharp-libvips-linux-x64": "1.2.4",
        "@img/sharp-libvips-linuxmusl-arm64": "1.2.4",
        "@img/sharp-libvips-linuxmusl-x64": "1.2.4",
        "@img/sharp-linux-arm": "0.34.5",
        "@img/sharp-linux-arm64": "0.34.5",
        "@img/sharp-linux-ppc64": "0.34.5",
        "@img/sharp-linux-riscv64": "0.34.5",
        "@img/sharp-linux-s390x": "0.34.5",
        "@img/sharp-linux-x64": "0.34.5",
        "@img/sharp-linuxmusl-arm64": "0.34.5",
        "@img/sharp-linuxmusl-x64": "0.34.5",
        "@img/sharp-wasm32": "0.34.5",
        "@img/sharp-win32-arm64": "0.34.5",
        "@img/sharp-win32-ia32": "0.34.5",
        "@img/sharp-win32-x64": "0.34.5"
      }
    },
    "node_modules/sharp/node_modules/semver": {
      "version": "7.7.3",
      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.3.tgz",
      "integrity": "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==",
      "license": "ISC",
      "optional": true,
      "bin": {
        "semver": "bin/semver.js"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/shebang-command": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz",
      "integrity": "sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "shebang-regex": "^3.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/shebang-regex": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz",
      "integrity": "sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/side-channel": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/side-channel/-/side-channel-1.1.0.tgz",
      "integrity": "sha512-ZX99e6tRweoUXqR+VBrslhda51Nh5MTQwou5tnUDgbtyM0dBgmhEDtWGP/xbKn6hqfPRHujUNwz5fy/wbbhnpw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0",
        "object-inspect": "^1.13.3",
        "side-channel-list": "^1.0.0",
        "side-channel-map": "^1.0.1",
        "side-channel-weakmap": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/side-channel-list": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/side-channel-list/-/side-channel-list-1.0.0.tgz",
      "integrity": "sha512-FCLHtRD/gnpCiCHEiJLOwdmFP+wzCmDEkc9y7NsYxeF4u7Btsn1ZuwgwJGxImImHicJArLP4R0yX4c2KCrMrTA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0",
        "object-inspect": "^1.13.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/side-channel-map": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/side-channel-map/-/side-channel-map-1.0.1.tgz",
      "integrity": "sha512-VCjCNfgMsby3tTdo02nbjtM/ewra6jPHmpThenkTYh8pG9ucZ/1P8So4u4FGBek/BjpOVsDCMoLA/iuBKIFXRA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.2",
        "es-errors": "^1.3.0",
        "get-intrinsic": "^1.2.5",
        "object-inspect": "^1.13.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/side-channel-weakmap": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/side-channel-weakmap/-/side-channel-weakmap-1.0.2.tgz",
      "integrity": "sha512-WPS/HvHQTYnHisLo9McqBHOJk2FkHO/tlpvldyrnem4aeQp4hai3gythswg6p01oSoTl58rcpiFAjF2br2Ak2A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.2",
        "es-errors": "^1.3.0",
        "get-intrinsic": "^1.2.5",
        "object-inspect": "^1.13.3",
        "side-channel-map": "^1.0.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/source-map-js": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz",
      "integrity": "sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==",
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/stable-hash": {
      "version": "0.0.5",
      "resolved": "https://registry.npmjs.org/stable-hash/-/stable-hash-0.0.5.tgz",
      "integrity": "sha512-+L3ccpzibovGXFK+Ap/f8LOS0ahMrHTf3xu7mMLSpEGU0EO9ucaysSylKo9eRDFNhWve/y275iPmIZ4z39a9iA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/stop-iteration-iterator": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/stop-iteration-iterator/-/stop-iteration-iterator-1.1.0.tgz",
      "integrity": "sha512-eLoXW/DHyl62zxY4SCaIgnRhuMr6ri4juEYARS8E6sCEqzKpOiE521Ucofdx+KnDZl5xmvGYaaKCk5FEOxJCoQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0",
        "internal-slot": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/string.prototype.includes": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/string.prototype.includes/-/string.prototype.includes-2.0.1.tgz",
      "integrity": "sha512-o7+c9bW6zpAdJHTtujeePODAhkuicdAryFsfVKwA+wGw89wJ4GTY484WTucM9hLtDEOpOvI+aHnzqnC5lHp4Rg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.7",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.3"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/string.prototype.matchall": {
      "version": "4.0.12",
      "resolved": "https://registry.npmjs.org/string.prototype.matchall/-/string.prototype.matchall-4.0.12.tgz",
      "integrity": "sha512-6CC9uyBL+/48dYizRf7H7VAYCMCNTBeM78x/VTUe9bFEaxBepPJDa1Ow99LqI/1yF7kuy7Q3cQsYMrcjGUcskA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.3",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.6",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.0.0",
        "get-intrinsic": "^1.2.6",
        "gopd": "^1.2.0",
        "has-symbols": "^1.1.0",
        "internal-slot": "^1.1.0",
        "regexp.prototype.flags": "^1.5.3",
        "set-function-name": "^2.0.2",
        "side-channel": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/string.prototype.repeat": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/string.prototype.repeat/-/string.prototype.repeat-1.0.0.tgz",
      "integrity": "sha512-0u/TldDbKD8bFCQ/4f5+mNRrXwZ8hg2w7ZR8wa16e8z9XpePWl3eGEcUD0OXpEH/VJH/2G3gjUtR3ZOiBe2S/w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "define-properties": "^1.1.3",
        "es-abstract": "^1.17.5"
      }
    },
    "node_modules/string.prototype.trim": {
      "version": "1.2.10",
      "resolved": "https://registry.npmjs.org/string.prototype.trim/-/string.prototype.trim-1.2.10.tgz",
      "integrity": "sha512-Rs66F0P/1kedk5lyYyH9uBzuiI/kNRmwJAR9quK6VOtIpZ2G+hMZd+HQbbv25MgCA6gEffoMZYxlTod4WcdrKA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.2",
        "define-data-property": "^1.1.4",
        "define-properties": "^1.2.1",
        "es-abstract": "^1.23.5",
        "es-object-atoms": "^1.0.0",
        "has-property-descriptors": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/string.prototype.trimend": {
      "version": "1.0.9",
      "resolved": "https://registry.npmjs.org/string.prototype.trimend/-/string.prototype.trimend-1.0.9.tgz",
      "integrity": "sha512-G7Ok5C6E/j4SGfyLCloXTrngQIQU3PWtXGst3yM7Bea9FRURf1S42ZHlZZtsNque2FN2PoUhfZXYLNWwEr4dLQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.2",
        "define-properties": "^1.2.1",
        "es-object-atoms": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/string.prototype.trimstart": {
      "version": "1.0.8",
      "resolved": "https://registry.npmjs.org/string.prototype.trimstart/-/string.prototype.trimstart-1.0.8.tgz",
      "integrity": "sha512-UXSH262CSZY1tfu3G3Secr6uGLCFVPMhIqHjlgCUtCCcgihYc/xKs9djMTMUOb2j1mVSeU8EU6NWc/iQKU6Gfg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.7",
        "define-properties": "^1.2.1",
        "es-object-atoms": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/strip-bom": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/strip-bom/-/strip-bom-3.0.0.tgz",
      "integrity": "sha512-vavAMRXOgBVNF6nyEEmL3DBK19iRpDcoIwW+swQ+CbGiu7lju6t+JklA1MHweoWtadgt4ISVUsXLyDq34ddcwA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/strip-json-comments": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/strip-json-comments/-/strip-json-comments-3.1.1.tgz",
      "integrity": "sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/styled-jsx": {
      "version": "5.1.6",
      "resolved": "https://registry.npmjs.org/styled-jsx/-/styled-jsx-5.1.6.tgz",
      "integrity": "sha512-qSVyDTeMotdvQYoHWLNGwRFJHC+i+ZvdBRYosOFgC+Wg1vx4frN2/RG/NA7SYqqvKNLf39P2LSRA2pu6n0XYZA==",
      "license": "MIT",
      "dependencies": {
        "client-only": "0.0.1"
      },
      "engines": {
        "node": ">= 12.0.0"
      },
      "peerDependencies": {
        "react": ">= 16.8.0 || 17.x.x || ^18.0.0-0 || ^19.0.0-0"
      },
      "peerDependenciesMeta": {
        "@babel/core": {
          "optional": true
        },
        "babel-plugin-macros": {
          "optional": true
        }
      }
    },
    "node_modules/supports-color": {
      "version": "7.2.0",
      "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-7.2.0.tgz",
      "integrity": "sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "has-flag": "^4.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/supports-preserve-symlinks-flag": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz",
      "integrity": "sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/tailwind-merge": {
      "version": "3.4.0",
      "resolved": "https://registry.npmjs.org/tailwind-merge/-/tailwind-merge-3.4.0.tgz",
      "integrity": "sha512-uSaO4gnW+b3Y2aWoWfFpX62vn2sR3skfhbjsEnaBI81WD1wBLlHZe5sWf0AqjksNdYTbGBEd0UasQMT3SNV15g==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/dcastil"
      }
    },
    "node_modules/tailwindcss": {
      "version": "4.1.18",
      "resolved": "https://registry.npmjs.org/tailwindcss/-/tailwindcss-4.1.18.tgz",
      "integrity": "sha512-4+Z+0yiYyEtUVCScyfHCxOYP06L5Ne+JiHhY2IjR2KWMIWhJOYZKLSGZaP5HkZ8+bY0cxfzwDE5uOmzFXyIwxw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/tapable": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/tapable/-/tapable-2.3.0.tgz",
      "integrity": "sha512-g9ljZiwki/LfxmQADO3dEY1CbpmXT5Hm2fJ+QaGKwSXUylMybePR7/67YW7jOrrvjEgL1Fmz5kzyAjWVWLlucg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/webpack"
      }
    },
    "node_modules/tinyglobby": {
      "version": "0.2.15",
      "resolved": "https://registry.npmjs.org/tinyglobby/-/tinyglobby-0.2.15.tgz",
      "integrity": "sha512-j2Zq4NyQYG5XMST4cbs02Ak8iJUdxRM0XI5QyxXuZOzKOINmWurp3smXu3y5wDcJrptwpSjgXHzIQxR0omXljQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "fdir": "^6.5.0",
        "picomatch": "^4.0.3"
      },
      "engines": {
        "node": ">=12.0.0"
      },
      "funding": {
        "url": "https://github.com/sponsors/SuperchupuDev"
      }
    },
    "node_modules/tinyglobby/node_modules/fdir": {
      "version": "6.5.0",
      "resolved": "https://registry.npmjs.org/fdir/-/fdir-6.5.0.tgz",
      "integrity": "sha512-tIbYtZbucOs0BRGqPJkshJUYdL+SDH7dVM8gjy+ERp3WAUjLEFJE+02kanyHtwjWOnwrKYBiwAmM0p4kLJAnXg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12.0.0"
      },
      "peerDependencies": {
        "picomatch": "^3 || ^4"
      },
      "peerDependenciesMeta": {
        "picomatch": {
          "optional": true
        }
      }
    },
    "node_modules/tinyglobby/node_modules/picomatch": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-4.0.3.tgz",
      "integrity": "sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q==",
      "dev": true,
      "license": "MIT",
      "peer": true,
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/to-regex-range": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz",
      "integrity": "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-number": "^7.0.0"
      },
      "engines": {
        "node": ">=8.0"
      }
    },
    "node_modules/ts-api-utils": {
      "version": "2.4.0",
      "resolved": "https://registry.npmjs.org/ts-api-utils/-/ts-api-utils-2.4.0.tgz",
      "integrity": "sha512-3TaVTaAv2gTiMB35i3FiGJaRfwb3Pyn/j3m/bfAvGe8FB7CF6u+LMYqYlDh7reQf7UNvoTvdfAqHGmPGOSsPmA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=18.12"
      },
      "peerDependencies": {
        "typescript": ">=4.8.4"
      }
    },
    "node_modules/tsconfig-paths": {
      "version": "3.15.0",
      "resolved": "https://registry.npmjs.org/tsconfig-paths/-/tsconfig-paths-3.15.0.tgz",
      "integrity": "sha512-2Ac2RgzDe/cn48GvOe3M+o82pEFewD3UPbyoUHHdKasHwJKjds4fLXWf/Ux5kATBKN20oaFGu+jbElp1pos0mg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/json5": "^0.0.29",
        "json5": "^1.0.2",
        "minimist": "^1.2.6",
        "strip-bom": "^3.0.0"
      }
    },
    "node_modules/tsconfig-paths/node_modules/json5": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/json5/-/json5-1.0.2.tgz",
      "integrity": "sha512-g1MWMLBiz8FKi1e4w0UyVL3w+iJceWAFBAaBnnGKOpNa5f8TLktkbre1+s6oICydWAm+HRUGTmI+//xv2hvXYA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "minimist": "^1.2.0"
      },
      "bin": {
        "json5": "lib/cli.js"
      }
    },
    "node_modules/tslib": {
      "version": "2.8.1",
      "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.8.1.tgz",
      "integrity": "sha512-oJFu94HQb+KVduSUQL7wnpmqnfmLsOA/nAh6b6EH0wCEoK0/mPeXU6c3wKDV83MkOuHPRHtSXKKU99IBazS/2w==",
      "license": "0BSD"
    },
    "node_modules/type-check": {
      "version": "0.4.0",
      "resolved": "https://registry.npmjs.org/type-check/-/type-check-0.4.0.tgz",
      "integrity": "sha512-XleUoc9uwGXqjWwXaUTZAmzMcFZ5858QA2vvx1Ur5xIcixXIP+8LnFDgRplU30us6teqdlskFfu+ae4K79Ooew==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "prelude-ls": "^1.2.1"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/typed-array-buffer": {
      "version": "1.0.3",
      "resolved": "https://registry.npmjs.org/typed-array-buffer/-/typed-array-buffer-1.0.3.tgz",
      "integrity": "sha512-nAYYwfY3qnzX30IkA6AQZjVbtK6duGontcQm1WSG1MD94YLqK0515GNApXkoxKOWMusVssAHWLh9SeaoefYFGw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.3",
        "es-errors": "^1.3.0",
        "is-typed-array": "^1.1.14"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/typed-array-byte-length": {
      "version": "1.0.3",
      "resolved": "https://registry.npmjs.org/typed-array-byte-length/-/typed-array-byte-length-1.0.3.tgz",
      "integrity": "sha512-BaXgOuIxz8n8pIq3e7Atg/7s+DpiYrxn4vdot3w9KbnBhcRQq6o3xemQdIfynqSeXeDrF32x+WvfzmOjPiY9lg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.8",
        "for-each": "^0.3.3",
        "gopd": "^1.2.0",
        "has-proto": "^1.2.0",
        "is-typed-array": "^1.1.14"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/typed-array-byte-offset": {
      "version": "1.0.4",
      "resolved": "https://registry.npmjs.org/typed-array-byte-offset/-/typed-array-byte-offset-1.0.4.tgz",
      "integrity": "sha512-bTlAFB/FBYMcuX81gbL4OcpH5PmlFHqlCCpAl8AlEzMz5k53oNDvN8p1PNOWLEmI2x4orp3raOFB51tv9X+MFQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "available-typed-arrays": "^1.0.7",
        "call-bind": "^1.0.8",
        "for-each": "^0.3.3",
        "gopd": "^1.2.0",
        "has-proto": "^1.2.0",
        "is-typed-array": "^1.1.15",
        "reflect.getprototypeof": "^1.0.9"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/typed-array-length": {
      "version": "1.0.7",
      "resolved": "https://registry.npmjs.org/typed-array-length/-/typed-array-length-1.0.7.tgz",
      "integrity": "sha512-3KS2b+kL7fsuk/eJZ7EQdnEmQoaho/r6KUef7hxvltNA5DR8NAUM+8wJMbJyZ4G9/7i3v5zPBIMN5aybAh2/Jg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bind": "^1.0.7",
        "for-each": "^0.3.3",
        "gopd": "^1.0.1",
        "is-typed-array": "^1.1.13",
        "possible-typed-array-names": "^1.0.0",
        "reflect.getprototypeof": "^1.0.6"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/typescript": {
      "version": "5.9.3",
      "resolved": "https://registry.npmjs.org/typescript/-/typescript-5.9.3.tgz",
      "integrity": "sha512-jl1vZzPDinLr9eUt3J/t7V6FgNEw9QjvBPdysz9KfQDD41fQrC2Y4vKQdiaUpFT4bXlb1RHhLpp8wtm6M5TgSw==",
      "dev": true,
      "license": "Apache-2.0",
      "peer": true,
      "bin": {
        "tsc": "bin/tsc",
        "tsserver": "bin/tsserver"
      },
      "engines": {
        "node": ">=14.17"
      }
    },
    "node_modules/typescript-eslint": {
      "version": "8.52.0",
      "resolved": "https://registry.npmjs.org/typescript-eslint/-/typescript-eslint-8.52.0.tgz",
      "integrity": "sha512-atlQQJ2YkO4pfTVQmQ+wvYQwexPDOIgo+RaVcD7gHgzy/IQA+XTyuxNM9M9TVXvttkF7koBHmcwisKdOAf2EcA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@typescript-eslint/eslint-plugin": "8.52.0",
        "@typescript-eslint/parser": "8.52.0",
        "@typescript-eslint/typescript-estree": "8.52.0",
        "@typescript-eslint/utils": "8.52.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "eslint": "^8.57.0 || ^9.0.0",
        "typescript": ">=4.8.4 <6.0.0"
      }
    },
    "node_modules/unbox-primitive": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/unbox-primitive/-/unbox-primitive-1.1.0.tgz",
      "integrity": "sha512-nWJ91DjeOkej/TA8pXQ3myruKpKEYgqvpw9lz4OPHj/NWFNluYrjbz9j01CJ8yKQd2g4jFoOkINCTW2I5LEEyw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.3",
        "has-bigints": "^1.0.2",
        "has-symbols": "^1.1.0",
        "which-boxed-primitive": "^1.1.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/undici-types": {
      "version": "6.21.0",
      "resolved": "https://registry.npmjs.org/undici-types/-/undici-types-6.21.0.tgz",
      "integrity": "sha512-iwDZqg0QAGrg9Rav5H4n0M64c3mkR59cJ6wQp+7C4nI0gsmExaedaYLNO44eT4AtBBwjbTiGPMlt2Md0T9H9JQ==",
      "license": "MIT"
    },
    "node_modules/unrs-resolver": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/unrs-resolver/-/unrs-resolver-1.11.1.tgz",
      "integrity": "sha512-bSjt9pjaEBnNiGgc9rUiHGKv5l4/TGzDmYw3RhnkJGtLhbnnA/5qJj7x3dNDCRx/PJxu774LlH8lCOlB4hEfKg==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "dependencies": {
        "napi-postinstall": "^0.3.0"
      },
      "funding": {
        "url": "https://opencollective.com/unrs-resolver"
      },
      "optionalDependencies": {
        "@unrs/resolver-binding-android-arm-eabi": "1.11.1",
        "@unrs/resolver-binding-android-arm64": "1.11.1",
        "@unrs/resolver-binding-darwin-arm64": "1.11.1",
        "@unrs/resolver-binding-darwin-x64": "1.11.1",
        "@unrs/resolver-binding-freebsd-x64": "1.11.1",
        "@unrs/resolver-binding-linux-arm-gnueabihf": "1.11.1",
        "@unrs/resolver-binding-linux-arm-musleabihf": "1.11.1",
        "@unrs/resolver-binding-linux-arm64-gnu": "1.11.1",
        "@unrs/resolver-binding-linux-arm64-musl": "1.11.1",
        "@unrs/resolver-binding-linux-ppc64-gnu": "1.11.1",
        "@unrs/resolver-binding-linux-riscv64-gnu": "1.11.1",
        "@unrs/resolver-binding-linux-riscv64-musl": "1.11.1",
        "@unrs/resolver-binding-linux-s390x-gnu": "1.11.1",
        "@unrs/resolver-binding-linux-x64-gnu": "1.11.1",
        "@unrs/resolver-binding-linux-x64-musl": "1.11.1",
        "@unrs/resolver-binding-wasm32-wasi": "1.11.1",
        "@unrs/resolver-binding-win32-arm64-msvc": "1.11.1",
        "@unrs/resolver-binding-win32-ia32-msvc": "1.11.1",
        "@unrs/resolver-binding-win32-x64-msvc": "1.11.1"
      }
    },
    "node_modules/update-browserslist-db": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/update-browserslist-db/-/update-browserslist-db-1.2.3.tgz",
      "integrity": "sha512-Js0m9cx+qOgDxo0eMiFGEueWztz+d4+M3rGlmKPT+T4IS/jP4ylw3Nwpu6cpTTP8R1MAC1kF4VbdLt3ARf209w==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "escalade": "^3.2.0",
        "picocolors": "^1.1.1"
      },
      "bin": {
        "update-browserslist-db": "cli.js"
      },
      "peerDependencies": {
        "browserslist": ">= 4.21.0"
      }
    },
    "node_modules/uri-js": {
      "version": "4.4.1",
      "resolved": "https://registry.npmjs.org/uri-js/-/uri-js-4.4.1.tgz",
      "integrity": "sha512-7rKUyy33Q1yc98pQ1DAmLtwX109F7TIfWlW1Ydo8Wl1ii1SeHieeh0HHfPeL2fMXK6z0s8ecKs9frCuLJvndBg==",
      "dev": true,
      "license": "BSD-2-Clause",
      "dependencies": {
        "punycode": "^2.1.0"
      }
    },
    "node_modules/which": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/which/-/which-2.0.2.tgz",
      "integrity": "sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "isexe": "^2.0.0"
      },
      "bin": {
        "node-which": "bin/node-which"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/which-boxed-primitive": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/which-boxed-primitive/-/which-boxed-primitive-1.1.1.tgz",
      "integrity": "sha512-TbX3mj8n0odCBFVlY8AxkqcHASw3L60jIuF8jFP78az3C2YhmGvqbHBpAjTRH2/xqYunrJ9g1jSyjCjpoWzIAA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-bigint": "^1.1.0",
        "is-boolean-object": "^1.2.1",
        "is-number-object": "^1.1.1",
        "is-string": "^1.1.1",
        "is-symbol": "^1.1.1"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/which-builtin-type": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/which-builtin-type/-/which-builtin-type-1.2.1.tgz",
      "integrity": "sha512-6iBczoX+kDQ7a3+YJBnh3T+KZRxM/iYNPXicqk66/Qfm1b93iu+yOImkg0zHbj5LNOcNv1TEADiZ0xa34B4q6Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "call-bound": "^1.0.2",
        "function.prototype.name": "^1.1.6",
        "has-tostringtag": "^1.0.2",
        "is-async-function": "^2.0.0",
        "is-date-object": "^1.1.0",
        "is-finalizationregistry": "^1.1.0",
        "is-generator-function": "^1.0.10",
        "is-regex": "^1.2.1",
        "is-weakref": "^1.0.2",
        "isarray": "^2.0.5",
        "which-boxed-primitive": "^1.1.0",
        "which-collection": "^1.0.2",
        "which-typed-array": "^1.1.16"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/which-collection": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/which-collection/-/which-collection-1.0.2.tgz",
      "integrity": "sha512-K4jVyjnBdgvc86Y6BkaLZEN933SwYOuBFkdmBu9ZfkcAbdVbpITnDmjvZ/aQjRXQrv5EPkTnD1s39GiiqbngCw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-map": "^2.0.3",
        "is-set": "^2.0.3",
        "is-weakmap": "^2.0.2",
        "is-weakset": "^2.0.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/which-typed-array": {
      "version": "1.1.19",
      "resolved": "https://registry.npmjs.org/which-typed-array/-/which-typed-array-1.1.19.tgz",
      "integrity": "sha512-rEvr90Bck4WZt9HHFC4DJMsjvu7x+r6bImz0/BrbWb7A2djJ8hnZMrWnHo9F8ssv0OMErasDhftrfROTyqSDrw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "available-typed-arrays": "^1.0.7",
        "call-bind": "^1.0.8",
        "call-bound": "^1.0.4",
        "for-each": "^0.3.5",
        "get-proto": "^1.0.1",
        "gopd": "^1.2.0",
        "has-tostringtag": "^1.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/word-wrap": {
      "version": "1.2.5",
      "resolved": "https://registry.npmjs.org/word-wrap/-/word-wrap-1.2.5.tgz",
      "integrity": "sha512-BN22B5eaMMI9UMtjrGd5g5eCYPpCPDUy0FJXbYsaT5zYxjFOckS53SQDE3pWkVoWpHXVb3BrYcEN4Twa55B5cA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/ws": {
      "version": "8.19.0",
      "resolved": "https://registry.npmjs.org/ws/-/ws-8.19.0.tgz",
      "integrity": "sha512-blAT2mjOEIi0ZzruJfIhb3nps74PRWTCz1IjglWEEpQl5XS/UNama6u2/rjFkDDouqr4L67ry+1aGIALViWjDg==",
      "license": "MIT",
      "engines": {
        "node": ">=10.0.0"
      },
      "peerDependencies": {
        "bufferutil": "^4.0.1",
        "utf-8-validate": ">=5.0.2"
      },
      "peerDependenciesMeta": {
        "bufferutil": {
          "optional": true
        },
        "utf-8-validate": {
          "optional": true
        }
      }
    },
    "node_modules/yallist": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/yallist/-/yallist-3.1.1.tgz",
      "integrity": "sha512-a4UGQaWPH59mOXUYnAG2ewncQS4i4F43Tv3JoAM+s2VDAmS9NsK8GpDMLrCHPksFT7h3K6TOoUNn2pb7RoXx4g==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/yocto-queue": {
      "version": "0.1.0",
      "resolved": "https://registry.npmjs.org/yocto-queue/-/yocto-queue-0.1.0.tgz",
      "integrity": "sha512-rVksvsnNCdJ/ohGc6xgPwyN8eheCxsiLM8mxuE/t/mOVqJewPuO1miLpTHQiRgTKCLexL4MeAFVagts7HmNZ2Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/zod": {
      "version": "4.3.5",
      "resolved": "https://registry.npmjs.org/zod/-/zod-4.3.5.tgz",
      "integrity": "sha512-k7Nwx6vuWx1IJ9Bjuf4Zt1PEllcwe7cls3VNzm4CQ1/hgtFUK2bRNG3rvnpPUhFjmqJKAKtjV576KnUkHocg/g==",
      "dev": true,
      "license": "MIT",
      "peer": true,
      "funding": {
        "url": "https://github.com/sponsors/colinhacks"
      }
    },
    "node_modules/zod-validation-error": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/zod-validation-error/-/zod-validation-error-4.0.2.tgz",
      "integrity": "sha512-Q6/nZLe6jxuU80qb/4uJ4t5v2VEZ44lzQjPDhYJNztRQ4wyWc6VF3D3Kb/fAuPetZQnhS3hnajCf9CsWesghLQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=18.0.0"
      },
      "peerDependencies": {
        "zod": "^3.25.0 || ^4.0.0"
      }
    }
  }
}
```

### File: `package.json`

```json
{
  "name": "tugol-app",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "eslint"
  },
  "dependencies": {
    "@supabase/ssr": "^0.8.0",
    "@supabase/supabase-js": "^2.90.1",
    "@tosspayments/payment-widget-sdk": "^0.12.1",
    "clsx": "^2.1.1",
    "date-fns": "^4.1.0",
    "dotenv": "^17.2.3",
    "lucide-react": "^0.562.0",
    "next": "16.1.1",
    "react": "19.2.3",
    "react-dom": "19.2.3",
    "tailwind-merge": "^3.4.0"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "eslint": "^9",
    "eslint-config-next": "16.1.1",
    "tailwindcss": "^4",
    "typescript": "^5"
  }
}
```

### File: `postcss.config.mjs`

```js
const config = {
  plugins: {
    "@tailwindcss/postcss": {},
  },
};

export default config;
```

### File: `supabase/migrations/20260115_admin_permissions.sql`

```sql
-- =====================================================
-- TUGOL Admin Dashboard - Permissions & RLS Setup
-- =====================================================
-- This migration adds admin capabilities and proper RLS policies

-- 1. Add is_admin column to users table
ALTER TABLE public.users
ADD COLUMN IF NOT EXISTS is_admin BOOLEAN DEFAULT FALSE;

-- 2. Create index for faster admin lookups
CREATE INDEX IF NOT EXISTS idx_users_is_admin ON public.users(is_admin) WHERE is_admin = TRUE;

-- 3. Drop existing RLS policies (if any) to recreate them
DROP POLICY IF EXISTS "Users can view their own profile" ON public.users;
DROP POLICY IF EXISTS "Users can update their own profile" ON public.users;
DROP POLICY IF EXISTS "Admins can view all users" ON public.users;
DROP POLICY IF EXISTS "Admins can update all users" ON public.users;

-- 4. Enable RLS on users table (if not already enabled)
ALTER TABLE public.users ENABLE ROW LEVEL SECURITY;

-- 5. Create RLS policies for regular users
CREATE POLICY "Users can view their own profile"
ON public.users
FOR SELECT
USING (auth.uid()::text = id);

CREATE POLICY "Users can update their own profile"
ON public.users
FOR UPDATE
USING (auth.uid()::text = id);

-- 6. Create RLS policies for admins (can see and update ALL users)
CREATE POLICY "Admins can view all users"
ON public.users
FOR SELECT
USING (
  EXISTS (
    SELECT 1 FROM public.users
    WHERE id = auth.uid()::text
    AND is_admin = TRUE
  )
);

CREATE POLICY "Admins can update all users"
ON public.users
FOR UPDATE
USING (
  EXISTS (
    SELECT 1 FROM public.users
    WHERE id = auth.uid()::text
    AND is_admin = TRUE
  )
);

-- 7. Create helper function to check admin status
CREATE OR REPLACE FUNCTION public.is_user_admin()
RETURNS BOOLEAN AS $$
BEGIN
  RETURN EXISTS (
    SELECT 1 FROM public.users
    WHERE id = auth.uid()::text
    AND is_admin = TRUE
  );
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- =====================================================
-- TEST DATA: Set current user as admin
-- =====================================================
-- IMPORTANT: Replace 'your-email@example.com' with actual admin email
-- Or use auth.uid() if you know the user ID

-- Option 1: Set admin by email (RECOMMENDED FOR TESTING)
-- UPDATE public.users
-- SET is_admin = TRUE
-- WHERE email = 'admin@tugol.com';

-- Option 2: Set admin by user ID (if you know the ID)
-- UPDATE public.users
-- SET is_admin = TRUE
-- WHERE id = 'your-user-id-here';

-- Option 3: Set first user as admin (USE WITH CAUTION)
UPDATE public.users
SET is_admin = TRUE
WHERE id = (SELECT id FROM public.users ORDER BY created_at ASC LIMIT 1);

-- =====================================================
-- Verification Queries
-- =====================================================
-- Check who is admin:
-- SELECT id, email, name, is_admin FROM public.users WHERE is_admin = TRUE;

-- Test admin function:
-- SELECT public.is_user_admin();

COMMENT ON COLUMN public.users.is_admin IS 'Admin flag - grants full access to admin dashboard';
COMMENT ON FUNCTION public.is_user_admin() IS 'Helper function to check if current user is admin';
```

### File: `supabase/migrations/20260115_enhanced_users.sql`

```sql
-- ==================================================================
-- Enhanced Users Table Migration
-- Adds behavior tracking, blacklist, and segment automation
-- ==================================================================

-- 1. Add new columns to users table
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS blacklisted BOOLEAN DEFAULT FALSE;
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS blacklist_reason TEXT;
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS blacklisted_at TIMESTAMPTZ;
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS blacklisted_by TEXT; -- admin user_id

ALTER TABLE public.users ADD COLUMN IF NOT EXISTS no_show_count INTEGER DEFAULT 0;
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS last_no_show_at TIMESTAMPTZ;

ALTER TABLE public.users ADD COLUMN IF NOT EXISTS total_bookings INTEGER DEFAULT 0;
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS total_spent INTEGER DEFAULT 0;
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS avg_booking_value INTEGER DEFAULT 0;

ALTER TABLE public.users ADD COLUMN IF NOT EXISTS location_lat DECIMAL(10, 8);
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS location_lng DECIMAL(11, 8);
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS location_address TEXT;
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS distance_to_club_km INTEGER;

ALTER TABLE public.users ADD COLUMN IF NOT EXISTS visit_count INTEGER DEFAULT 0;
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS avg_stay_minutes INTEGER;
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS last_visited_at TIMESTAMPTZ;

-- Segment will be auto-calculated, but keep manual override option
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS segment_override_by TEXT; -- admin user_id
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS segment_override_at TIMESTAMPTZ;

-- Marketing preferences
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS marketing_agreed BOOLEAN DEFAULT FALSE;
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS push_agreed BOOLEAN DEFAULT FALSE;

-- 2. Create index for blacklist filtering
CREATE INDEX IF NOT EXISTS idx_users_blacklisted ON public.users(blacklisted);
CREATE INDEX IF NOT EXISTS idx_users_segment ON public.users(segment);
CREATE INDEX IF NOT EXISTS idx_users_cherry_score ON public.users(cherry_score DESC);

-- 3. Add comments for documentation
COMMENT ON COLUMN public.users.blacklisted IS 'ì•…ì„± ì‚¬ìš©ì ì°¨ë‹¨ ì—¬ë¶€ (ë…¸ì‡¼ ë°˜ë³µ ë“±)';
COMMENT ON COLUMN public.users.no_show_count IS 'ë…¸ì‡¼ íšŸìˆ˜ (ìë™ ì§‘ê³„)';
COMMENT ON COLUMN public.users.total_bookings IS 'ì´ ì˜ˆì•½ íšŸìˆ˜ (ì„¸ê·¸ë¨¼íŠ¸ ê³„ì‚°ì— ì‚¬ìš©)';
COMMENT ON COLUMN public.users.total_spent IS 'ì´ ê²°ì œ ê¸ˆì•¡ (ì› ë‹¨ìœ„)';
COMMENT ON COLUMN public.users.cherry_score IS 'ì²´ë¦¬ ì ìˆ˜ (0-100, ë†’ì„ìˆ˜ë¡ ìš°ëŒ€)';
COMMENT ON COLUMN public.users.segment IS 'ì‚¬ìš©ì ì„¸ê·¸ë¨¼íŠ¸ (FUTURE/PRESTIGE/SMART/CHERRY)';

-- 4. Create function to auto-update user stats after reservation
CREATE OR REPLACE FUNCTION update_user_stats_after_reservation()
RETURNS TRIGGER AS $$
BEGIN
  IF NEW.payment_status = 'PAID' THEN
    UPDATE public.users
    SET
      total_bookings = total_bookings + 1,
      total_spent = total_spent + NEW.final_price,
      avg_booking_value = (total_spent + NEW.final_price) / (total_bookings + 1),
      updated_at = NOW()
    WHERE id = NEW.user_id;
  END IF;

  RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- 5. Create trigger to auto-update stats
DROP TRIGGER IF EXISTS trigger_update_user_stats ON public.reservations;
CREATE TRIGGER trigger_update_user_stats
  AFTER INSERT ON public.reservations
  FOR EACH ROW
  EXECUTE FUNCTION update_user_stats_after_reservation();

-- 6. Create function to auto-assign segment based on behavior
CREATE OR REPLACE FUNCTION calculate_user_segment(user_id_param TEXT)
RETURNS TEXT AS $$
DECLARE
  user_record RECORD;
  new_segment TEXT;
BEGIN
  SELECT * INTO user_record FROM public.users WHERE id = user_id_param;

  -- If admin manually set segment, don't override
  IF user_record.segment_override_by IS NOT NULL THEN
    RETURN user_record.segment;
  END IF;

  -- Blacklisted = No special treatment
  IF user_record.blacklisted THEN
    RETURN 'SMART';
  END IF;

  -- PRESTIGE: High spender or many bookings
  IF user_record.total_spent >= 1000000 OR user_record.total_bookings >= 10 THEN
    new_segment := 'PRESTIGE';

  -- CHERRY: High cherry score (earned through good behavior)
  ELSIF user_record.cherry_score >= 80 THEN
    new_segment := 'CHERRY';

  -- SMART: Regular user with no special status
  ELSIF user_record.total_bookings >= 3 THEN
    new_segment := 'SMART';

  -- FUTURE: New user (less than 3 bookings)
  ELSE
    new_segment := 'FUTURE';
  END IF;

  -- Update segment if changed
  IF user_record.segment != new_segment THEN
    UPDATE public.users SET segment = new_segment, updated_at = NOW() WHERE id = user_id_param;
  END IF;

  RETURN new_segment;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- 7. Create function to handle no-show
CREATE OR REPLACE FUNCTION record_no_show(reservation_id_param TEXT)
RETURNS VOID AS $$
DECLARE
  user_id_val TEXT;
  current_no_shows INTEGER;
BEGIN
  -- Get user_id from reservation
  SELECT user_id INTO user_id_val FROM public.reservations WHERE id = reservation_id_param;

  -- Update no-show count
  UPDATE public.users
  SET
    no_show_count = no_show_count + 1,
    last_no_show_at = NOW(),
    cherry_score = GREATEST(0, cherry_score - 20), -- Penalty: -20 points
    updated_at = NOW()
  WHERE id = user_id_val
  RETURNING no_show_count INTO current_no_shows;

  -- Auto-blacklist if 3+ no-shows
  IF current_no_shows >= 3 THEN
    UPDATE public.users
    SET
      blacklisted = TRUE,
      blacklist_reason = 'ë…¸ì‡¼ 3íšŒ ì´ìƒ (ìë™ ì°¨ë‹¨)',
      blacklisted_at = NOW(),
      blacklisted_by = 'SYSTEM'
    WHERE id = user_id_val;
  END IF;

  -- Recalculate segment
  PERFORM calculate_user_segment(user_id_val);
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- 8. Create view for admin dashboard
CREATE OR REPLACE VIEW admin_user_stats AS
SELECT
  u.id,
  u.email,
  u.name,
  u.segment,
  u.cherry_score,
  u.total_bookings,
  u.total_spent,
  u.avg_booking_value,
  u.no_show_count,
  u.blacklisted,
  u.blacklist_reason,
  u.created_at,
  u.last_visited_at,
  COUNT(r.id) AS pending_reservations_count
FROM public.users u
LEFT JOIN public.reservations r ON r.user_id = u.id AND r.payment_status IN ('PENDING', 'PAID')
GROUP BY u.id;

COMMENT ON VIEW admin_user_stats IS 'ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œìš© ì‚¬ìš©ì í†µê³„ ë·°';
```

### File: `tsconfig.json`

```json
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts",
    "**/*.mts"
  ],
  "exclude": ["node_modules"]
}
```

### File: `types/database.ts`

```ts
export type Json =
  | string
  | number
  | boolean
  | null
  | { [key: string]: Json | undefined }
  | Json[]

export interface Database {
  public: {
    Tables: {
      users: {
        Row: {
          id: string // UUID referencing auth.users
          email: string
          name: string | null
          phone: string | null
          segment: 'FUTURE' | 'PRESTIGE' | 'SMART' | 'CHERRY'
          cherry_score: number
          terms_agreed_at: string | null
          created_at: string
          updated_at: string | null
          // Blacklist management
          blacklisted: boolean
          blacklist_reason: string | null
          blacklisted_at: string | null
          blacklisted_by: string | null
          // Behavior tracking
          no_show_count: number
          last_no_show_at: string | null
          total_bookings: number
          total_spent: number
          avg_booking_value: number
          // Location data
          location_lat: number | null
          location_lng: number | null
          location_address: string | null
          distance_to_club_km: number | null
          // Visit tracking
          visit_count: number
          avg_stay_minutes: number | null
          last_visited_at: string | null
          // Segment override
          segment_override_by: string | null
          segment_override_at: string | null
          // Marketing
          marketing_agreed: boolean
          push_agreed: boolean
          // Admin permissions
          is_admin: boolean
        }
        Insert: {
          id: string // UUID
          email: string
          name?: string | null
          phone?: string | null
          segment?: 'FUTURE' | 'PRESTIGE' | 'SMART' | 'CHERRY'
          cherry_score?: number
          terms_agreed_at?: string | null
          created_at?: string
          updated_at?: string | null
          blacklisted?: boolean
          blacklist_reason?: string | null
          blacklisted_at?: string | null
          blacklisted_by?: string | null
          no_show_count?: number
          last_no_show_at?: string | null
          total_bookings?: number
          total_spent?: number
          avg_booking_value?: number
          location_lat?: number | null
          location_lng?: number | null
          location_address?: string | null
          distance_to_club_km?: number | null
          visit_count?: number
          avg_stay_minutes?: number | null
          last_visited_at?: string | null
          segment_override_by?: string | null
          segment_override_at?: string | null
          marketing_agreed?: boolean
          push_agreed?: boolean
          is_admin?: boolean
        }
        Update: {
          id?: string
          email?: string
          name?: string | null
          phone?: string | null
          segment?: 'FUTURE' | 'PRESTIGE' | 'SMART' | 'CHERRY'
          cherry_score?: number
          terms_agreed_at?: string | null
          created_at?: string
          updated_at?: string | null
          blacklisted?: boolean
          blacklist_reason?: string | null
          blacklisted_at?: string | null
          blacklisted_by?: string | null
          no_show_count?: number
          last_no_show_at?: string | null
          total_bookings?: number
          total_spent?: number
          avg_booking_value?: number
          location_lat?: number | null
          location_lng?: number | null
          location_address?: string | null
          distance_to_club_km?: number | null
          visit_count?: number
          avg_stay_minutes?: number | null
          last_visited_at?: string | null
          segment_override_by?: string | null
          segment_override_at?: string | null
          marketing_agreed?: boolean
          push_agreed?: boolean
          is_admin?: boolean
        }
      }
      weather_cache: {
        Row: {
          id: number
          target_date: string
          target_hour: number
          pop: number
          rn1: number
          wsd: number
        }
        Insert: {
          id?: number
          target_date: string
          target_hour: number
          pop: number
          rn1: number
          wsd: number
        }
        Update: {
          id?: number
          target_date?: string
          target_hour?: number
          pop?: number
          rn1?: number
          wsd?: number
        }
      }
      tee_times: {
        Row: {
          id: number
          golf_club_id: number
          tee_off: string
          base_price: number
          status: 'OPEN' | 'BOOKED' | 'BLOCKED'
          weather_condition: Json | null
          reserved_by: string | null // UUID
          reserved_at: string | null
        }
        Insert: {
          id?: number
          golf_club_id?: number
          tee_off: string
          base_price: number
          status?: 'OPEN' | 'BOOKED' | 'BLOCKED'
          weather_condition?: Json | null
          reserved_by?: string | null // UUID
          reserved_at?: string | null
        }
        Update: {
          id?: number
          golf_club_id?: number
          tee_off?: string
          base_price?: number
          status?: 'OPEN' | 'BOOKED' | 'BLOCKED'
          weather_condition?: Json | null
          reserved_by?: string | null // UUID
          reserved_at?: string | null
        }
      }
      reservations: {
        Row: {
          id: string // UUID
          tee_time_id: number
          user_id: string // UUID
          base_price: number
          final_price: number
          discount_breakdown: Json | null
          payment_key: string | null
          payment_status: 'PENDING' | 'PAID' | 'CANCELLED' | 'REFUNDED'
          created_at: string
        }
        Insert: {
          id?: string // UUID
          tee_time_id: number
          user_id: string // UUID
          base_price: number
          final_price: number
          discount_breakdown?: Json | null
          payment_key?: string | null
          payment_status?: 'PENDING' | 'PAID' | 'CANCELLED' | 'REFUNDED'
          created_at?: string
        }
        Update: {
          id?: string
          tee_time_id?: number
          user_id?: string
          base_price?: number
          final_price?: number
          discount_breakdown?: Json | null
          payment_key?: string | null
          payment_status?: 'PENDING' | 'PAID' | 'CANCELLED' | 'REFUNDED'
          created_at?: string
        }
      }
    }
    Enums: {
      segment_type: 'FUTURE' | 'PRESTIGE' | 'SMART' | 'CHERRY'
      teetime_status: 'OPEN' | 'BOOKED' | 'BLOCKED'
      payment_status: 'PENDING' | 'PAID' | 'CANCELLED' | 'REFUNDED'
    }
  }
}
```

### File: `utils/pricingEngine.ts`

````ts
import { Database, Json } from '../types/database';

type TeeTime = Database['public']['Tables']['tee_times']['Row'];
type User = Database['public']['Tables']['users']['Row'];
type Weather = Database['public']['Tables']['weather_cache']['Row'];

export { type Json }; // Export Json to satisfy linter if imported but not used locally

export interface PricingContext {
  teeTime: TeeTime;
  user?: User;
  weather?: Weather;
  userDistanceKm?: number; // LBS (Optional)
  now?: Date; // For testing time travel
}

export interface PricingResult {
  finalPrice: number;
  basePrice: number;
  discountRate: number;
  isBlocked: boolean;
  blockReason?: string;
  factors: {
    code: string;
    description: string;
    amount: number;
    rate: number;
  }[];
  stepStatus?: {
    currentStep: number; // 0, 1, 2, 3
    nextStepAt?: string;
  };
  panicMode?: {
    active: boolean;
    minutesLeft: number;
    reason: string;
  };
}

// Deterministic Random (Seeded Linear Congruential Generator)
class SeededRandom {
  private seed: number;

  constructor(seed: number) {
    this.seed = seed;
  }

  // Returns float between 0 and 1
  next(): number {
    this.seed = (this.seed * 9301 + 49297) % 233280;
    return this.seed / 233280;
  }

  // Returns integer between min and max (inclusive)
  range(min: number, max: number): number {
    return min + Math.floor(this.next() * (max - min + 1));
  }
}

export function calculatePricing(ctx: PricingContext): PricingResult {
  const { teeTime, user, weather, userDistanceKm } = ctx;
  const now = ctx.now || new Date();
  const teeOff = new Date(teeTime.tee_off);
  const basePrice = teeTime.base_price;
  
  const factors: PricingResult['factors'] = [];
  let currentPrice = basePrice;
  let isBlocked = false;
  let blockReason: string | undefined;

  // 1. Weather Blocking (Safety)
  // Policy: Rainfall >= 10mm -> Block
  if (weather && weather.rn1 >= 10) {
    isBlocked = true;
    blockReason = 'WEATHER_STORM';
    return {
      finalPrice: basePrice,
      basePrice,
      discountRate: 0,
      isBlocked,
      blockReason,
      factors: []
    };
  }

  // --- Step 1: Fixed Amount Discounts (Time/Step-down) ---
  
  // Policy: Starts 2 hours before tee-off. 3 Steps.
  // Intervals: 10-30 mins random.
  // Amount: >= 100k -> 10k/step, < 100k -> 5k/step.
  
  const timeUntilTeeOffMins = (teeOff.getTime() - now.getTime()) / (1000 * 60);
  const rng = new SeededRandom(teeTime.id);
  
  const step1Start = 120;
  const step1Duration = rng.range(10, 30);
  const step2Start = step1Start - step1Duration; 
  const step2Duration = rng.range(10, 30);
  const step3Start = step2Start - step2Duration; 

  const stepAmount = basePrice >= 100000 ? 10000 : 5000;
  let stepLevel = 0;

  if (timeUntilTeeOffMins <= step1Start) {
    if (timeUntilTeeOffMins > step2Start) stepLevel = 1;
    else if (timeUntilTeeOffMins > step3Start) stepLevel = 2;
    else stepLevel = 3;
  }

  if (stepLevel > 0) {
    const totalStepDiscount = stepLevel * stepAmount;
    currentPrice -= totalStepDiscount; // Apply Fixed Deduction
    factors.push({
      code: 'TIME_STEP',
      description: `Time Deal (Step ${stepLevel})`,
      amount: -totalStepDiscount,
      rate: Number((totalStepDiscount / basePrice).toFixed(3))
    });
  }

  // --- Step 2: Multiplicative Percentage Discounts ---
  // Formula: Price = PreviousPrice * (1 - Rate)
  
  // A. Weather Discount
  if (weather) {
    let weatherRate = 0;
    let weatherDesc = '';

    if (weather.rn1 >= 1 || weather.pop >= 60) {
      weatherRate = 0.20;
      weatherDesc = 'Rain Forecast (20%)';
    } else if (weather.pop >= 30) {
      weatherRate = 0.10;
      weatherDesc = 'Cloudy (10%)';
    }

    if (weatherRate > 0) {
      const discountAmount = Math.floor(currentPrice * weatherRate);
      currentPrice = currentPrice - discountAmount; // Multiplicative application
      factors.push({
        code: 'WEATHER',
        description: weatherDesc,
        amount: -discountAmount,
        rate: weatherRate
      });
    }
  }

  // B. User Segment Discount
  if (user && user.segment === 'PRESTIGE') {
    const rate = 0.05;
    const discountAmount = Math.floor(currentPrice * rate);
    currentPrice = currentPrice - discountAmount;
    factors.push({
      code: 'VIP_STATUS',
      description: 'PRESTIGE Member (5%)',
      amount: -discountAmount,
      rate
    });
  }

  // C. LBS Discount
  if (userDistanceKm !== undefined && userDistanceKm <= 15) {
    const rate = 0.10;
    const discountAmount = Math.floor(currentPrice * rate);
    currentPrice = currentPrice - discountAmount;
    factors.push({
      code: 'LBS_NEARBY',
      description: 'Local Resident (10%)',
      amount: -discountAmount,
      rate
    });
  }

  // --- Step 3: Governance (Max Cap & Floor) ---
  
  // Policy: Max 40% total discount from Base Price
  const maxDiscountAmount = Math.floor(basePrice * 0.40);
  const minPrice = basePrice - maxDiscountAmount;

  if (currentPrice < minPrice) {
    const adjustment = minPrice - currentPrice;
    currentPrice = minPrice;
    factors.push({
      code: 'MAX_CAP',
      description: 'Max Discount Cap (40%)',
      amount: adjustment, 
      rate: Number((adjustment / basePrice).toFixed(3))
    });
  }

  // Final Safety
  if (currentPrice < 0) currentPrice = 0;

  // --- Panic Mode Detection ---
  // Triggered when:
  // 1. Less than 30 minutes until tee-off
  // 2. Still OPEN (not booked)
  // 3. Randomly triggered (20% chance for drama)

  let panicMode: PricingResult['panicMode'] = {
    active: false,
    minutesLeft: Math.floor(timeUntilTeeOffMins),
    reason: ''
  };

  if (timeUntilTeeOffMins <= 30 && timeUntilTeeOffMins > 0) {
    // Deterministic "random" panic based on tee time ID
    const panicSeed = new SeededRandom(teeTime.id + 999);
    const shouldPanic = panicSeed.next() > 0.8; // 20% chance

    if (shouldPanic) {
      panicMode = {
        active: true,
        minutesLeft: Math.floor(timeUntilTeeOffMins),
        reason: timeUntilTeeOffMins <= 10
          ? 'ê¸´ê¸‰! ê³§ ë§ˆê°ë©ë‹ˆë‹¤'
          : 'ê³µì‹¤ ì„ë°•! ì§€ê¸ˆ ì˜ˆì•½í•˜ì„¸ìš”'
      };
    }
  }

  return {
    finalPrice: Math.floor(currentPrice), // Ensure integer
    basePrice,
    discountRate: Number(((basePrice - currentPrice) / basePrice).toFixed(2)),
    isBlocked: false,
    factors,
    stepStatus: {
      currentStep: stepLevel,
      nextStepAt: stepLevel < 3 ? new Date(teeOff.getTime() - (stepLevel === 0 ? step1Start : (stepLevel === 1 ? step2Start : step3Start)) * 60000).toISOString() : undefined
    },
    panicMode
  };
}
````

### File: `utils/supabase/queries.ts`

````ts
import { supabase } from '@/lib/supabase';
import { calculatePricing, PricingContext } from '@/utils/pricingEngine';
import { Database } from '@/types/database';

type TeeTimeStatus = Database['public']['Tables']['tee_times']['Row']['status'];
type UserSegment = Database['public']['Tables']['users']['Row']['segment'];

export interface TeeTimeWithPricing {
  id: number;
  tee_off: string;
  basePrice: number;
  finalPrice: number;
  price: number;
  currency: string;
  status: TeeTimeStatus;
  reasons: string[];
  weather: {
    sky: string;
    temperature: number;
    rainProb: number;
    windSpeed: number;
  };
  teeOffTime: Date;
  discountResult?: any;
}

export async function getTeeTimesByDate(
  date: Date,
  userSegment?: UserSegment,
  userDistanceKm?: number
): Promise<TeeTimeWithPricing[]> {
  const year = date.getFullYear();
  const month = date.getMonth();
  const day = date.getDate();

  // UTC midnight range for query (IMPORTANT: Keep timezone logic intact)
  const utcMidnight = Date.UTC(year, month, day, 0, 0, 0, 0);
  const utcDayEnd = utcMidnight + (24 * 60 * 60 * 1000) - 1;

  const startISO = new Date(utcMidnight).toISOString();
  const endISO = new Date(utcDayEnd).toISOString();

  // ===================================================================
  // NEW: Fetch actual logged-in user's segment from database
  // ===================================================================
  let actualUserSegment: UserSegment = 'FUTURE'; // Default for non-logged-in users
  let actualUser: Database['public']['Tables']['users']['Row'] | null = null;

  try {
    // 1. Get current session
    const { data: { user: sessionUser } } = await supabase.auth.getUser();

    // 2. If user is logged in, fetch their segment from database
    if (sessionUser?.id) {
      const { data: dbUser, error: userError } = await (supabase as any)
        .from('users')
        .select('*')
        .eq('id', sessionUser.id)
        .single();

      if (!userError && dbUser) {
        actualUser = dbUser;
        actualUserSegment = dbUser.segment;
      }
    }
  } catch (error) {
    console.error('Error fetching user segment:', error);
    // Fall back to default 'FUTURE' if error occurs
  }

  // Override with parameter if provided (for testing/admin purposes)
  const finalUserSegment = userSegment || actualUserSegment;

  // ===================================================================
  // Fetch tee times from database
  // ===================================================================
  const { data: teeTimes, error } = await supabase
    .from('tee_times')
    .select('*')
    .gte('tee_off', startISO)
    .lte('tee_off', endISO)
    .order('tee_off', { ascending: true });

  if (error) {
    console.error('Error fetching tee times:', error);
    return [];
  }

  return teeTimes.map((teeTime: any) => {
    // Build pricing context
    const ctx: PricingContext = {
      teeTime,
      userDistanceKm,
    };

    // Create user object for pricing engine with actual DB data or mock
    if (actualUser) {
      // Use actual logged-in user data
      ctx.user = actualUser;
    } else if (finalUserSegment) {
      // Create mock user with the determined segment
      ctx.user = {
        id: '00000000-0000-0000-0000-000000000000',
        email: 'mock@example.com',
        name: null,
        phone: null,
        segment: finalUserSegment,
        cherry_score: 0,
        terms_agreed_at: null,
        created_at: new Date().toISOString(),
        updated_at: null,
        blacklisted: false,
        blacklist_reason: null,
        blacklisted_at: null,
        blacklisted_by: null,
        no_show_count: 0,
        last_no_show_at: null,
        total_bookings: 0,
        total_spent: 0,
        avg_booking_value: 0,
        location_lat: null,
        location_lng: null,
        location_address: null,
        distance_to_club_km: null,
        visit_count: 0,
        avg_stay_minutes: null,
        last_visited_at: null,
        segment_override_by: null,
        segment_override_at: null,
        marketing_agreed: false,
        push_agreed: false,
        is_admin: false,
      };
    }

    const result = calculatePricing(ctx);

    // Format reasons from factors
    const reasons = result.factors.map(f => f.description);
    if (result.isBlocked && result.blockReason) {
      reasons.unshift(`âš ï¸ ${result.blockReason}`);
    }

    // Extract weather display (from DB or default)
    const weather = teeTime.weather_condition || {
      sky: 'ë§‘ìŒ',
      temperature: 20,
      rainProb: 0,
      windSpeed: 0,
    };

    return {
      id: teeTime.id,
      tee_off: teeTime.tee_off,
      basePrice: result.basePrice,
      finalPrice: result.finalPrice,
      price: result.finalPrice,
      currency: 'KRW',
      status: teeTime.status,
      reasons,
      weather,
      teeOffTime: new Date(teeTime.tee_off),
      discountResult: result,
    };
  });
}
````

